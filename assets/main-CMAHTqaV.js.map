{"version":3,"file":"main-CMAHTqaV.js","sources":["../../src/js/config.js","../../src/js/constants.js","../../src/js/api.js","../../src/js/iziToast-helper.js","../../src/js/quote-of-the-day.js","../../src/js/favorites-btn.js","../../src/js/favorites-page.js","../../src/js/seo-function.js","../../src/js/categories.js","../../src/js/mobile-menu.js","../../src/js/filters.js","../../src/js/footer.js","../../src/js/scroll-up.js","../../src/js/loader.js","../../src/js/modal-template.js","../../src/js/confirm-modal.js","../../src/js/modal-rating-content.js","../../src/js/pagination.js","../../src/js/exercises-list.js","../../src/js/exercises-tabs.js","../../src/js/exercises-search.js","../../src/main.js"],"sourcesContent":["export const CONFIG = {\n  BASE_API_URL:\n    import.meta.env.VITE_API_BASE_URL || 'https://your-energy.b.goit.study/api',\n  DEV_HOST: import.meta.env.VITE_DEV_HOST || '127.0.0.1',\n  DEV_PORT: import.meta.env.VITE_DEV_PORT || '3000',\n  BASE_PATH: import.meta.env.VITE_BASE_PATH || '/your-energy/',\n};\n","// Local Storage Keys\nexport const STORAGE_KEYS = {};\n\nexport const COLORS = {\n  WHITE: '#fff',\n  BLACK: '#000',\n  GRAY_LIGHT: '#808080',\n};\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  FILTERS: '/filters',\n  EXERCISES: '/exercises',\n  QUOTE: '/quote',\n  SUBSCRIPTION: '/subscription',\n};\n\n// ========== REGULAR EXPRESSIONS ==========\nexport const REGEX = {\n  EMAIL: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n};\n\n// ========== VALIDATION CONSTANTS ==========\nexport const VALIDATION = {\n  EMAIL_REGEX: REGEX.EMAIL,\n  RATING_MIN: 1,\n  RATING_MAX: 5,\n};\n\n// ========== PAGINATION CONSTANTS ==========\nexport const PAGINATION = {\n  DEFAULT_PAGE: 1,\n  DEFAULT_LIMIT: 12,\n  MIN_LIMIT: 1,\n  MAX_LIMIT: 100,\n};\n\n// ========== TOAST NOTIFICATION CONSTANTS ==========\nexport const TOAST = {\n  POSITION: {\n    TOP_RIGHT: 'topRight',\n    TOP_LEFT: 'topLeft',\n    TOP_CENTER: 'topCenter',\n    BOTTOM_RIGHT: 'bottomRight',\n    BOTTOM_LEFT: 'bottomLeft',\n    BOTTOM_CENTER: 'bottomCenter',\n  },\n\n  TIMEOUT: {\n    SHORT: 2000,\n    DEFAULT: 4000,\n    LONG: 6000,\n  },\n\n  TRANSITION: {\n    IN: 'fadeInLeft',\n    OUT: 'fadeOutRight',\n  },\n\n  TITLE: {\n    SUCCESS: 'OK',\n    ERROR: 'Error',\n    INFO: 'Info',\n    WARNING: 'Warning',\n  },\n\n  ICON: {\n    SUCCESS: 'icon-check',\n    ERROR: 'icon-error',\n    INFO: 'icon-info',\n    WARNING: 'icon-warning',\n  },\n};\n\n// ========== SEO CONSTANTS ==========\nexport const SEO = {\n  SCHEMA_CONTEXT: 'https://schema.org',\n  SCHEMA_TYPES: {\n    ITEM_LIST: 'ItemList',\n    LIST_ITEM: 'ListItem',\n    EXERCISE_PLAN: 'ExercisePlan',\n  },\n  JSON_LD_TYPE: 'application/ld+json',\n};\n\n// ========== MODAL TYPES ==========\nexport const MODAL_TYPES = {\n  RATING: 'rating',\n  EXERCISE: 'exercise',\n};\n\n// ========== ERROR MESSAGES ==========\nexport const ERROR_MESSAGES = {\n  API_ERROR: 'Something went wrong',\n  EMAIL_REQUIRED: 'Valid email is required',\n  RATING_RANGE: `Rating must be between ${VALIDATION.RATING_MIN} and ${VALIDATION.RATING_MAX}`,\n  EXERCISE_ID_REQUIRED: 'Exercise ID is required',\n};\n","import axios from 'axios';\nimport { CONFIG } from './config.js';\nimport { VALIDATION, ERROR_MESSAGES, API_ENDPOINTS } from './constants.js';\n\nexport class YourEnergyAPI {\n  constructor(baseURL = CONFIG.BASE_API_URL) {\n    this.baseURL = baseURL;\n    this.axios = axios.create({\n      baseURL: this.baseURL,\n    });\n\n    // Response interceptor for error handling\n    this.axios.interceptors.response.use(\n      response => response,\n      error => {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          ERROR_MESSAGES.API_ERROR;\n        console.error('API Error:', errorMessage);\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  /**\n   * Generic request handler\n   * @private\n   * @param {string} method - HTTP method\n   * @param {string} url - Endpoint URL\n   * @param {Object|null} data - Request body\n   * @param {Object|null} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async _request(method, url, data = null, params = null) {\n    try {\n      const config = { method, url };\n      if (data) config.data = data;\n      if (params) config.params = params;\n\n      const response = await this.axios(config);\n      return response.data;\n    } catch (error) {\n      const message = error.response?.data?.message || error.message;\n      throw new Error(`${method.toUpperCase()} ${url} failed: ${message}`);\n    }\n  }\n\n  /**\n   * Get filters\n   * @param {Object} params - Query parameters (filter, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getFilters(params = {}) {\n    return this._request('get', API_ENDPOINTS.FILTERS, null, params);\n  }\n\n  /**\n   * Get exercises\n   * @param {Object} params - Query parameters (bodypart, muscles, equipment, keyword, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getExercises(params = {}) {\n    return this._request('get', API_ENDPOINTS.EXERCISES, null, params);\n  }\n\n  async getExerciseById(id) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    return this._request('get', `${API_ENDPOINTS.EXERCISES}/${id}`);\n  }\n\n  /**\n   * Get quote of the day\n   * @returns {Promise<Object>}\n   */\n  async getQuote() {\n    return this._request('get', API_ENDPOINTS.QUOTE);\n  }\n\n  /**\n   * Subscribe to new exercises\n   * @param {Object} data - { email: string }\n   * @returns {Promise<Object>}\n   */\n  async subscribe(data) {\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request('post', API_ENDPOINTS.SUBSCRIPTION, data);\n  }\n\n  /**\n   * Add rating to exercise\n   * @param {string} id - Exercise ID\n   * @param {Object} data - { rate: number, email: string, review: string }\n   * @returns {Promise<Object>}\n   */\n  async rateExercise(id, data) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    if (\n      !data.rate ||\n      data.rate < VALIDATION.RATING_MIN ||\n      data.rate > VALIDATION.RATING_MAX\n    ) {\n      throw new Error(ERROR_MESSAGES.RATING_RANGE);\n    }\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request(\n      'patch',\n      `${API_ENDPOINTS.EXERCISES}/${id}/rating`,\n      data\n    );\n  }\n}\n","import iziToast from 'izitoast';\nimport { COLORS, TOAST } from './constants.js';\n\n// --- –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è ---\nconst defaultOptions = {\n  position: TOAST.POSITION.TOP_RIGHT,\n  timeout: TOAST.TIMEOUT.DEFAULT,\n  close: true,\n  closeOnEscape: true,\n  pauseOnHover: true,\n  progressBar: true,\n  progressBarColor: COLORS.GRAY_LIGHT,\n  transitionIn: TOAST.TRANSITION.IN,\n  transitionOut: TOAST.TRANSITION.OUT,\n  fontFamily: 'inherit',\n  icon: '',\n};\n\n// 1. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –£–°–ü–Ü–• (Success)\nexport const showSuccess = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.SUCCESS,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.WHITE,\n    icon: TOAST.ICON.SUCCESS,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 2. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ü–û–ú–ò–õ–ö–£ (Error)\nexport const showError = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.ERROR,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.GRAY_LIGHT,\n    progressBarColor: COLORS.WHITE,\n    icon: TOAST.ICON.ERROR,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 3. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (Info)\nexport const showInfo = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.INFO,\n    message: message,\n    backgroundColor: COLORS.WHITE,\n    titleColor: COLORS.BLACK,\n    messageColor: COLORS.BLACK,\n    progressBarColor: COLORS.BLACK,\n    borderBottom: `2px solid ${COLORS.BLACK}`,\n  });\n};\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { ERROR_MESSAGES } from './constants.js';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      addTextContent(quoteContent, author);\n      return;\n    }\n  }\n  fetchGetExercisesQuote();\n}\n\ngetQuoteData();\n\nasync function fetchGetExercisesQuote() {\n  try {\n    const resp = await fetchApi.getQuote();\n\n    const { quote: newQuote, author } = resp;\n    const quoteData = { quote: newQuote, author, date: new Date() };\n    localStorage.setItem('quoteData', JSON.stringify(quoteData));\n    addTextContent(newQuote, author);\n  } catch (err) {\n    showError(err.message || ERROR_MESSAGES.API_ERROR);\n  }\n}\n\nfunction addTextContent(content, author) {\n  if (quote.content) {\n    quote.content.textContent = content;\n  }\n  if (quote.author) {\n    quote.author.textContent = author;\n  }\n}\n","const FAVORITES_KEY = 'favorites';\n\n// Get favorites from LocalStorage\nfunction getFavorites() {\n  const data = localStorage.getItem(FAVORITES_KEY);\n  return data ? JSON.parse(data) : [];\n}\n\n// Save favorites to LocalStorage\nfunction saveFavorites(favoritesArray) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favoritesArray));\n}\n\n// Check if an exercise is in favorites\nfunction isFavorite(id) {\n  const favorites = getFavorites();\n  return favorites.some(item => item.id === id);\n}\n\n// Add exercise to favorites\nfunction addFavorite(exerciseObj) {\n  const favorites = getFavorites();\n  favorites.push(exerciseObj);\n  saveFavorites(favorites);\n}\n\n// Remove exercise from favorites\nfunction removeFavorite(id) {\n  const favorites = getFavorites();\n  const updated = favorites.filter(item => item.id !== id);\n  saveFavorites(updated);\n}\n\nconst currentExercise = {};\n\nconst refs = {\n  favoriteBtnElement: null,\n};\n\nfunction initFavoritesBtn(exercise) {\n  refs.favoriteBtnElement = document.querySelector('.favorites-btn');\n\n  if (!refs.favoriteBtnElement) return;\n\n  Object.assign(currentExercise, exercise);\n\n  if (isFavorite(exercise.id)) {\n    refs.favoriteBtnElement.textContent = 'Remove from favorites';\n  } else {\n    refs.favoriteBtnElement.textContent = 'Add to favorites';\n  }\n\n  refs.favoriteBtnElement.onclick = () => {\n    if (isFavorite(exercise.id)) {\n      removeFavorite(exercise.id);\n      refs.favoriteBtnElement.textContent = 'Add to favorites';\n    } else {\n      addFavorite(exercise);\n      refs.favoriteBtnElement.textContent = 'Remove from favorites';\n    }\n  };\n}\n\nexport {\n  getFavorites,\n  saveFavorites,\n  isFavorite,\n  addFavorite,\n  removeFavorite,\n  refs,\n  currentExercise,\n  initFavoritesBtn,\n};\n","import { getFavorites, removeFavorite } from './favorites-btn.js';\n\nconst refs = {\n  quoteContainer: document.querySelector('.favorites-wrapper .quote'),\n  listContainer: document.querySelector('.favorites-list'),\n};\nconst favorites = getFavorites();\n\nif (favorites && refs.listContainer && favorites.length === 0) {\n  refs.listContainer.innerHTML = `\n    <div class=\"favorites-empty\">\n      <p>It appears that you haven‚Äôt added any exercises to your favorites yet.</p>\n      <p>To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\n    </div>`;\n} else if(Array.isArray(favorites) && refs.listContainer) {\n  renderFavorites(favorites);\n}\n\nfunction renderFavorites(favorites) {\n  refs.listContainer.innerHTML = '';\n\n  favorites.forEach(item => {\n    const card = document.createElement('div');\n    card.classList.add('favorite-card');\n    card.setAttribute('data-id', item.id);\n\n    card.innerHTML = `\n      <img src=\"${item.gifUrl}\" alt=\"${item.name}\" class=\"favorite-img\">\n      <h3 class=\"favorite-title\">${item.name}</h3>\n      <p class=\"favorite-info\"><b>Target:</b> ${item.target}</p>\n      <p class=\"favorite-info\"><b>Body part:</b> ${item.bodyPart}</p>\n      <p class=\"favorite-info\"><b>Equipment:</b> ${item.equipment}</p>\n\n      <button class=\"delete-btn\" data-id=\"${item.id}\">üóë</button>\n    `;\n\n    refs.listContainer.appendChild(card);\n\n    const deleteBtn = card.querySelector('.delete-btn');\n\n    deleteBtn.addEventListener('click', () => {\n      removeFavorite(item.id);\n      const updated = getFavorites();\n      renderFavorites(updated);\n    });\n  });\n}\n","import { SEO } from './constants.js';\n\nexport function injectSchema(data) {\n  if (!data || !data.results) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((item, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: item.name,\n        filter: item.filter,\n        image: item.imgURL,\n      },\n    })),\n  };\n  updateSchemaScript('filters', schemaData);\n}\n\nexport function injectSchemaExercises(data) {\n  if (!data || !data.results || data.results.length === 0) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((ex, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: capitalize(ex.name),\n        description: ex.description,\n        image: ex.gifUrl,\n        audience: {\n          '@type': 'PeopleAudience',\n          suggestedGender: 'unisex',\n        },\n        category: ex.target,\n        keywords: `${ex.bodyPart}, ${ex.equipment}, fitness`,\n      },\n    })),\n  };\n\n  updateSchemaScript('detailed-exercises', schemaData);\n}\n\nfunction updateSchemaScript(schemaId, data) {\n  let script = document.querySelector(`script[data-schema=\"${schemaId}\"]`);\n\n  if (!script) {\n    script = document.createElement('script');\n    script.type = SEO.JSON_LD_TYPE;\n    script.setAttribute('data-schema', schemaId);\n    document.head.appendChild(script);\n  }\n\n  script.textContent = JSON.stringify(data);\n  // console.log(`Schema updated for: ${schemaId}`);\n}\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { injectSchema } from './seo-function';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst PAGE_LIMIT = window.innerWidth < 768 ? 9 : 12;\n\n// UI state\nlet activeFilter = 'Muscles';\nlet activePage = 1;\n\n// Fetch categories from API and render cards + pagination.\n\nasync function getCategories(\n  filter = activeFilter,\n  page = 1,\n  limit = PAGE_LIMIT\n) {\n  // Update UI state early\n  activeFilter = filter;\n  activePage = page;\n\n  try {\n    const params = { filter, page, limit };\n    const data = await fetchApi.getFilters(params);\n\n    // Validate expected structure\n    if (!data) {\n      return showError('Data is empty');\n    }\n\n    // Render UI\n    renderCards(data.results || []);\n    renderPagination(activePage, data.totalPages || 1);\n\n    // Optional: ensure data is structured before injecting\n    if (typeof injectSchema === 'function') {\n      injectSchema(data);\n    }\n  } catch (err) {\n    console.error('getCategories error:', err);\n    showError(err?.message || 'Something went wrong');\n  }\n}\n\n// Cards\n\nfunction renderCards(items) {\n  const container = document.getElementById('cards-container');\n  if (!container) return;\n  container.innerHTML = '';\n\n  items.forEach(item => {\n    const card = document.createElement('div');\n    card.className = 'card';\n\n    card.innerHTML = `\n      <img src=\"${item.imgURL}\" alt=\"${item.name}\" />\n      <div class=\"card-body\">\n        <h3>${item.name}</h3>\n        <span class=\"card-filter\">${item.filter}</span>\n      </div>\n    `;\n\n    container.appendChild(card);\n  });\n}\n\n// Pagination\n\nfunction renderPagination(currentPage, totalPages) {\n  const container = document.getElementById('pagination');\n  if (!container) return;\n  container.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const pageNum = i;\n    const btn = document.createElement('button');\n\n    btn.textContent = pageNum;\n    btn.className = 'pagination-page';\n    btn.setAttribute('data-page', pageNum);\n\n    if (pageNum === currentPage) {\n      btn.classList.add('active');\n    }\n\n    // CLICK HANDLER\n    btn.addEventListener('click', () => {\n      if (pageNum === activePage) return; // already active\n      activePage = pageNum;\n      getCategories(activeFilter, pageNum, PAGE_LIMIT);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    container.appendChild(btn);\n  }\n}\n\n// First load\ngetCategories(activeFilter, activePage, PAGE_LIMIT);\n","(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  if (!refs.openMenuBtn || !refs.menu || !refs.closeMenuBtn) return;\n\n  const toggleMenu = () => {\n    refs.menu.classList.toggle('is-open');\n    document.body.classList.toggle('menu-open');\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window\n    .matchMedia('(min-width: 768px)')\n    .addEventListener('change', e => {\n      if (!e.matches) return;\n      refs.menu.classList.remove('is-open');\n      document.body.classList.remove('menu-open');\n    });\n})();\n","const tabsContainer = document.querySelector('[data-filters-tabs]');\nconst searchBox = document.querySelector('.filters__search');\nconst subtitle = document.querySelector('.filters__subtitle');\n\nconst isDesktop = () => window.matchMedia('(min-width: 1440px)').matches;\n\nif (tabsContainer && searchBox && subtitle) {\n  const updateUIForFilter = filter => {\n    const desktop = isDesktop();\n\n    if (filter === 'bodypart') {\n      subtitle.textContent = ' / Waist';\n\n      if (desktop) {\n        // DESKTOP: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ opacity\n        searchBox.classList.add('filters__search--visible');\n        // searchBox.classList.remove('filters__search--visible-mobile');\n      } else {\n        // MOBILE + TABLET: –ø–æ–∏—Å–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —Ç–∞–±–æ–≤, —Å–¥–≤–∏–≥–∞—è –∏—Ö –≤–ø—Ä–∞–≤–æ/–≤–Ω–∏–∑\n        // searchBox.classList.add('filters__search--visible-mobile');\n        searchBox.classList.add('filters__search--visible');\n        // searchBox.classList.remove('filters__search--visible');\n      }\n    } else {\n      subtitle.textContent = '';\n      searchBox.classList.remove(\n        'filters__search--visible'\n        // 'filters__search--visible-mobile'\n      );\n    }\n  };\n\n  tabsContainer.addEventListener('click', e => {\n    const btn = e.target.closest('.filters__tab');\n    if (!btn) return;\n\n    tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n      const isActive = tab === btn;\n      tab.classList.toggle('filters__tab--active', isActive);\n      tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n    });\n\n    updateUIForFilter(btn.dataset.filter);\n  });\n\n  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ Body parts –∞–∫—Ç–∏–≤–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)\n  const activeBtn = tabsContainer.querySelector('.filters__tab--active');\n  if (activeBtn) {\n    updateUIForFilter(activeBtn.dataset.filter);\n  }\n}\n\n// === –õ–æ–≥–∏–∫–∞ –∫—Ä–µ—Å—Ç–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏ ===\nconst searchInput = document.querySelector('.filters__input');\nconst clearBtn = document.querySelector('.filters__clear-btn');\n\nif (searchInput && clearBtn) {\n  const toggleClear = () => {\n    if (searchInput.value.trim()) {\n      clearBtn.classList.add('filters__clear-btn--visible');\n    } else {\n      clearBtn.classList.remove('filters__clear-btn--visible');\n    }\n  };\n\n  searchInput.addEventListener('input', toggleClear);\n\n  clearBtn.addEventListener('click', () => {\n    searchInput.value = '';\n    searchInput.focus();\n    toggleClear();\n  });\n\n  toggleClear();\n}\n\n\n// filters-tabs.js\n// const tabsContainer = document.querySelector('[data-filters-tabs]');\n// const searchBox = document.querySelector('.filters__search');\n// const subtitle = document.querySelector('.filters__subtitle');\n\n// // ‚úÖ –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó —Ç–∞–±—É –∑–∑–æ–≤–Ω—ñ (–∑ Categories)\n// export function activateFiltersTab(filterKey, subtitleValue = '') {\n//   if (!tabsContainer) return;\n\n//   const btn = tabsContainer.querySelector(`[data-filter=\"${filterKey}\"]`);\n//   if (!btn) return;\n\n//   // —Ä–æ–±–∏–º–æ –∞–∫—Ç–∏–≤–Ω–∏–º –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ç–∞–±\n//   tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n//     const isActive = tab === btn;\n//     tab.classList.toggle('filters__tab--active', isActive);\n//     tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n//   });\n\n//   // –∑–∞–ø—É—Å–∫–∞—î–º–æ —Ç—É —Å–∞–º—É –ª–æ–≥—ñ–∫—É, —â–æ –±—É–ª–∞ –≤ —Ç–≤–æ—î–º—É if\n//   if (filterKey === 'bodypart') {\n//     searchBox.classList.remove('hidden');\n//     subtitle.textContent = ` / ${subtitleValue || 'Waist'}`;\n//   } else {\n//     searchBox.classList.add('hidden');\n//     subtitle.textContent = '';\n//   }\n// }\n\n// // ‚úÖ –¢–≤—ñ–π —Å—Ç–∞—Ä–∏–π listener ‚Äî –∑–∞–ª–∏—à–∞—î–º–æ, –∞–ª–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é\n// if (tabsContainer) {\n//   tabsContainer.addEventListener('click', e => {\n//     const btn = e.target.closest('.filters__tab');\n//     if (!btn) return;\n\n//     const filterKey = btn.dataset.filter;\n//     activateFiltersTab(filterKey);\n//   });\n// }\n","const form = document.querySelector('.footer__form');\nconst emailInput = form.querySelector('.footer__input');\nconst messageEl = form.querySelector('.footer__message');\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z]{2,}$/;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\n\n  if (!emailPattern.test(email)) {\n    messageEl.textContent = 'Please enter a valid email.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n    return;\n  }\n\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      }\n    );\n\n    if (response.ok) {\n      messageEl.textContent = 'Subscription successful!';\n      messageEl.classList.remove('footer__message--error');\n      messageEl.classList.add('footer__message--success');\n\n      emailInput.value = '';\n    } else {\n      const data = await response.json();\n\n      messageEl.textContent = data.message || 'Subscription failed.';\n      messageEl.classList.remove('footer__message--success');\n      messageEl.classList.add('footer__message--error');\n    }\n  } catch (error) {\n    messageEl.textContent = 'Network error. Try again later.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n  }\n});\n","const scrollUpButton = document.querySelector('.scroll-up-btn');\n\nif (scrollUpButton) {\n  function smoothScrollToTop(duration = 1000) {\n    const start = window.scrollY;\n    const startTime = performance.now();\n\n    function scrollStep(currentTime) {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      const ease = 1 - Math.pow(1 - progress, 3);\n      window.scrollTo(0, start * (1 - ease));\n\n      if (progress < 1) {\n        requestAnimationFrame(scrollStep);\n      }\n    }\n\n    requestAnimationFrame(scrollStep);\n  }\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      scrollUpButton.classList.add('show');\n    } else {\n      scrollUpButton.classList.remove('show');\n    }\n  });\n\n  scrollUpButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    smoothScrollToTop();\n  });\n}\n","const ref = {\n  loaderOverlay: document.getElementById('loader-overlay'),\n  loaderBg: document.getElementById('bg-loader'),\n};\nexport function startLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.remove('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.add('bg-loader');\n}\nexport function cancelLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.add('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.remove('bg-loader');\n}\n","/**\n * Universal module for working with a modal window template\n * Allows opening a modal with any content,\n * blocks the page scroll, closes on Escape\n */\n\nlet refs = null;\nlet isInitialized = false;\nconst modalTypes = {};\n\nexport function registerModalType(type, getContentFn, initFn) {\n  modalTypes[type] = {\n    getContent: getContentFn,\n    init: initFn,\n  };\n}\n\nfunction initRefs() {\n  if (isInitialized) return;\n\n  refs = {\n    modal: document.getElementById('modal-template'),\n    backdrop: document.querySelector('[data-modal-close]'),\n    closeBtn: document.querySelector('.modal-template__close-btn'),\n    body: document.querySelector('[data-modal-body]'),\n  };\n\n  isInitialized = true;\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    initRefs();\n  });\n} else {\n  initRefs();\n}\n\nexport function initModalButtons() {\n  const modalButtons = document.querySelectorAll('[data-modal]');\n\n  modalButtons.forEach(button => {\n    if (button.hasAttribute('data-modal-initialized')) {\n      return;\n    }\n\n    const modalType = button.getAttribute('data-modal');\n\n    if (!modalTypes[modalType]) {\n      console.warn(`Modal type \"${modalType}\" is not registered`);\n      return;\n    }\n\n    button.addEventListener('click', () => {\n      const { getContent, init } = modalTypes[modalType];\n\n      const content = getContent();\n      if (!content) {\n        console.error(`Failed to get content for modal type \"${modalType}\"`);\n        return;\n      }\n\n      openModal(content);\n\n      if (init) {\n        setTimeout(async () => {\n          try {\n            await init(closeModal);\n          } catch (error) {\n            console.error('Error initializing modal:', error);\n          }\n        }, 100);\n      }\n    });\n\n    button.setAttribute('data-modal-initialized', 'true');\n  });\n}\n\nexport function openModal(content) {\n  initRefs();\n\n  if (!refs || !refs.modal || !refs.body) {\n    console.error('Modal template elements not found');\n    return;\n  }\n\n  if (typeof content === 'string') {\n    refs.body.innerHTML = content;\n  } else if (content instanceof HTMLElement) {\n    refs.body.innerHTML = '';\n    refs.body.appendChild(content);\n  } else {\n    console.error('Invalid content type. Expected string or HTMLElement');\n    return;\n  }\n\n  refs.modal.classList.remove('hidden');\n  document.body.classList.add('modal-open');\n\n  document.addEventListener('keydown', handleEscape, { once: false });\n  refs.backdrop?.addEventListener('click', handleBackdropClick);\n  refs.closeBtn?.addEventListener('click', handleCloseButtonClick);\n}\n\nexport function closeModal() {\n  initRefs();\n\n  if (!refs || !refs.modal) return;\n\n  refs.modal.classList.add('hidden');\n  document.body.classList.remove('modal-open');\n\n  document.removeEventListener('keydown', handleEscape);\n  refs.backdrop?.removeEventListener('click', handleBackdropClick);\n  refs.closeBtn?.removeEventListener('click', handleCloseButtonClick);\n\n  if (refs && refs.body) {\n    refs.body.innerHTML = '';\n  }\n}\n\nfunction isConfirmModalOpen() {\n  const confirmModal = document.getElementById('modal-confirm');\n  return confirmModal && !confirmModal.classList.contains('hidden');\n}\n\nfunction handleEscape(event) {\n  if (event.key === 'Escape') {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleCloseButtonClick() {\n  if (isConfirmModalOpen()) {\n    return;\n  }\n  closeModal();\n}\n\nexport function isModalOpen() {\n  initRefs();\n  return refs && refs.modal && !refs.modal.classList.contains('hidden');\n}\n","/**\n * module for working with a confirm modal that opens over the main modal\n */\n\nlet confirmModalRefs = null;\nlet confirmCallback = null;\nlet cancelCallback = null;\n\nfunction initConfirmRefs() {\n  if (confirmModalRefs) return;\n\n  const modal = document.getElementById('modal-confirm');\n  if (!modal) {\n    console.error('Confirm modal not found');\n    return;\n  }\n\n  confirmModalRefs = {\n    modal,\n    backdrop: modal.querySelector('[data-confirm-close]'),\n    message: modal.querySelector('[data-confirm-message]'),\n    cancelBtn: modal.querySelector('[data-confirm-cancel]'),\n    confirmBtn: modal.querySelector('[data-confirm-ok]'),\n  };\n\n  confirmModalRefs.backdrop?.removeEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.removeEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.removeEventListener('click', handleConfirm, {\n    capture: true,\n  });\n\n  confirmModalRefs.backdrop?.addEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.addEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.addEventListener('click', handleConfirm, {\n    capture: true,\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initConfirmRefs);\n} else {\n  initConfirmRefs();\n}\n\nfunction handleEscape(event) {\n  if (\n    event.key === 'Escape' &&\n    confirmModalRefs &&\n    !confirmModalRefs.modal.classList.contains('hidden')\n  ) {\n    handleCancel();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === confirmModalRefs.backdrop) {\n    event.stopPropagation();\n    event.preventDefault();\n    handleCancel(event);\n  }\n}\n\nfunction handleCancel(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  const callback = cancelCallback;\n  closeConfirmModal();\n  if (callback) {\n    callback();\n  }\n}\n\nfunction handleConfirm(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  const callback = confirmCallback;\n  closeConfirmModal();\n  setTimeout(() => {\n    if (callback) {\n      callback();\n    }\n  }, 0);\n}\n\nexport function openConfirmModal(message, onConfirm, onCancel = null) {\n  initConfirmRefs();\n\n  if (!confirmModalRefs || !confirmModalRefs.modal) {\n    console.error('Confirm modal elements not found');\n    return;\n  }\n\n  confirmCallback = onConfirm;\n  cancelCallback = onCancel;\n\n  if (confirmModalRefs.message) {\n    confirmModalRefs.message.textContent = message;\n  }\n\n  confirmModalRefs.modal.classList.remove('hidden');\n  document.addEventListener('keydown', handleEscape, { once: true });\n}\n\nexport function closeConfirmModal() {\n  if (!confirmModalRefs || !confirmModalRefs.modal) return;\n\n  confirmModalRefs.modal.classList.add('hidden');\n  confirmCallback = null;\n  cancelCallback = null;\n}\n","import { YourEnergyAPI } from './api.js';\nimport { showError, showSuccess } from './iziToast-helper.js';\nimport { openConfirmModal } from './confirm-modal.js';\nimport { ERROR_MESSAGES } from './constants.js';\n\nconst api = new YourEnergyAPI();\n\nlet checkFormFilledFn = null;\n\nexport function getRatingModalContent() {\n  const existingRatingModal = document.querySelector('.rating-modal');\n\n  if (!existingRatingModal) {\n    console.error(\n      'Rating modal HTML not found. Make sure modal-rating.html is loaded via <load> tag.'\n    );\n    return null;\n  }\n\n  const clonedModal = existingRatingModal.cloneNode(true);\n  updateElementIds(clonedModal);\n\n  return clonedModal;\n}\n\nfunction initRatingModalButtons() {\n  document.addEventListener(\n    'click',\n    function (event) {\n      const button = event.target.closest('[data-modal=\"rating\"]');\n      if (button) {\n        const exerciseId = button.getAttribute('data-exercise-id');\n        if (exerciseId) {\n          sessionStorage.setItem('ratingModalExerciseId', exerciseId);\n        }\n      }\n    },\n    { capture: true }\n  );\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initRatingModalButtons);\n} else {\n  initRatingModalButtons();\n}\n\nfunction updateElementIds(element) {\n  const elementsWithId = element.querySelectorAll('[id]');\n  const timestamp = Date.now();\n\n  elementsWithId.forEach(el => {\n    const oldId = el.id;\n    el.id = `${oldId}-${timestamp}`;\n\n    const labels = element.querySelectorAll(`label[for=\"${oldId}\"]`);\n    labels.forEach(label => {\n      label.setAttribute('for', el.id);\n    });\n  });\n}\n\nexport function checkRatingFormFilled() {\n  return checkFormFilledFn ? checkFormFilledFn() : false;\n}\n\nfunction clearRatingForm() {\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!ratingModal) return;\n\n  const form = ratingModal.querySelector('.rating-modal__form');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const stars = ratingModal.querySelectorAll('.rating-star');\n\n  if (form) form.reset();\n  if (ratingInput) ratingInput.value = '0';\n  if (emailInput) emailInput.value = '';\n  if (commentTextarea) commentTextarea.value = '';\n  if (ratingText) ratingText.textContent = '';\n\n  stars.forEach(star => {\n    star.classList.remove('active');\n  });\n}\n\nexport function handleRatingModalClose(closeModalFn) {\n  if (checkFormFilledFn && checkFormFilledFn()) {\n    openConfirmModal(\n      'Are you sure you want to cancel your exercise review?',\n      () => {\n        clearRatingForm();\n        checkFormFilledFn = null;\n        closeModalFn();\n      },\n      () => {}\n    );\n  } else {\n    clearRatingForm();\n    checkFormFilledFn = null;\n    closeModalFn();\n  }\n}\n\nexport function initRatingModal(closeModalFn) {\n  checkFormFilledFn = null;\n\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!modalBody || !ratingModal) {\n    console.error('Modal body or rating modal not found');\n    return;\n  }\n\n  let exerciseId =\n    sessionStorage.getItem('ratingModalExerciseId') ||\n    document\n      .querySelector('[data-modal=\"rating\"][data-exercise-id]')\n      ?.getAttribute('data-exercise-id');\n\n  if (exerciseId) {\n    sessionStorage.removeItem('ratingModalExerciseId');\n  }\n\n  if (!exerciseId) {\n    showError('Exercise ID is missing');\n    return;\n  }\n\n  const stars = ratingModal.querySelectorAll('.rating-star');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const cancelBtn = ratingModal.querySelector('.rating-modal__btn--cancel');\n  const submitBtn = ratingModal.querySelector(\n    '.rating-modal__btn[type=\"submit\"]'\n  );\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const form = ratingModal.querySelector('.rating-modal__form');\n\n  let currentRating = 0;\n  if (submitBtn) submitBtn.disabled = true;\n  if (ratingInput) ratingInput.value = '0';\n  if (ratingText) ratingText.textContent = '0';\n\n  const isFormValid = () => {\n    return (\n      currentRating > 0 &&\n      currentRating <= 5 &&\n      emailInput?.value.trim() !== '' &&\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  const updateSubmitButton = () => {\n    if (submitBtn) {\n      submitBtn.disabled = !isFormValid();\n    }\n  };\n\n  const checkFormFilled = () => {\n    return (\n      currentRating > 0 ||\n      emailInput?.value.trim() !== '' ||\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  checkFormFilledFn = checkFormFilled;\n\n  const updateStars = rating => {\n    stars.forEach((star, index) => {\n      const starRating = index + 1;\n      if (starRating <= rating) {\n        star.classList.add('active');\n      } else {\n        star.classList.remove('active');\n      }\n    });\n  };\n\n  stars.forEach((star, index) => {\n    const rating = index + 1;\n\n    star.addEventListener('click', () => {\n      currentRating = rating;\n      updateStars(rating);\n      if (ratingInput) ratingInput.value = rating;\n      if (ratingText) ratingText.textContent = rating;\n      updateSubmitButton();\n    });\n  });\n\n  [emailInput, commentTextarea].forEach(input => {\n    if (input) {\n      input.addEventListener('input', updateSubmitButton);\n    }\n  });\n\n  const resetForm = () => {\n    currentRating = 0;\n    if (ratingInput) ratingInput.value = '0';\n    if (emailInput) emailInput.value = '';\n    if (commentTextarea) commentTextarea.value = '';\n    if (ratingText) ratingText.textContent = '0';\n    updateStars(0);\n    updateSubmitButton();\n  };\n\n  const backdrop = document.querySelector('[data-modal-close]');\n\n  const isConfirmModalOpen = () => {\n    const confirmModal = document.getElementById('modal-confirm');\n    return confirmModal && !confirmModal.classList.contains('hidden');\n  };\n\n  const handleEscapeCapture = event => {\n    if (event.key === 'Escape') {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const backdropClickHandler = event => {\n    if (event.target === backdrop) {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const cleanup = () => {\n    document.removeEventListener('keydown', handleEscapeCapture, {\n      capture: true,\n    });\n    backdrop?.removeEventListener('click', backdropClickHandler, {\n      capture: true,\n    });\n    closeBtn?.removeEventListener('click', closeBtnHandler, { capture: true });\n  };\n\n  const closeBtn = document.querySelector('.modal-template__close-btn');\n  const closeBtnHandler = event => {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    event.stopPropagation();\n    handleClose();\n  };\n\n  document.addEventListener('keydown', handleEscapeCapture, { capture: true });\n  backdrop?.addEventListener('click', backdropClickHandler, { capture: true });\n  closeBtn?.addEventListener('click', closeBtnHandler, { capture: true });\n\n  const handleClose = () => {\n    handleRatingModalClose(() => {\n      cleanup();\n      closeModalFn();\n    });\n  };\n\n  if (cancelBtn && closeModalFn) {\n    cancelBtn.addEventListener('click', () => {\n      handleClose();\n    });\n  }\n\n  if (form) {\n    form.setAttribute('data-no-auto-close', 'true');\n\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n\n      if (!isFormValid()) {\n        showError('Please fill in all fields');\n        return;\n      }\n\n      const formData = new FormData(form);\n      const rating = parseInt(formData.get('rating'), 10);\n      const email = formData.get('email').trim();\n      const comment = formData.get('comment').trim();\n\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n\n      try {\n        await api.rateExercise(exerciseId, {\n          rate: rating,\n          email: email,\n          review: comment,\n        });\n\n        showSuccess('Thank you for your feedback!');\n        checkFormFilledFn = null;\n\n        setTimeout(() => {\n          if (closeModalFn) {\n            cleanup();\n            closeModalFn();\n          }\n        }, 1000);\n      } catch (error) {\n        console.error('Failed to submit rating:', error);\n        showError(error.message || ERROR_MESSAGES.API_ERROR);\n\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Send';\n        }\n      }\n    });\n  }\n}\n","export function renderPaginationUniversal({\n  container,\n  currentPage,\n  totalPages,\n  onPageChange,\n  mode = 'full',\n  showArrows = false,\n  classes = {},\n  icons = {},\n  scrollToTop = true,\n  scrollTarget = null, // <-- –Ω–æ–≤–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n}) {\n  if (!container) return;\n  container.innerHTML = '';\n\n  const {\n    page: pageClass = '',\n    active: activeClass = 'active',\n    arrow: arrowClass = '',\n  } = classes;\n\n  const { prev: prevIcon = 'Prev', next: nextIcon = 'Next' } = icons;\n\n  const createBtn = (label, page, className = '') => {\n    const btn = document.createElement('button');\n    btn.className = className;\n    btn.textContent = label;\n    btn.dataset.page = page;\n    return btn;\n  };\n\n  if (mode === 'full') {\n    for (let i = 1; i <= totalPages; i++) {\n      const btn = createBtn(i, i, pageClass);\n      if (i === currentPage) btn.classList.add(activeClass);\n      container.appendChild(btn);\n    }\n  } else if (mode === 'neighbors') {\n    let pages = [];\n\n    if (totalPages <= 3) {\n      pages = Array.from({ length: totalPages }, (_, i) => i + 1);\n    } else if (currentPage === 1) {\n      pages = [1, 2, 3];\n    } else if (currentPage === totalPages) {\n      pages = [totalPages - 2, totalPages - 1, totalPages];\n    } else {\n      pages = [currentPage - 1, currentPage, currentPage + 1];\n    }\n\n    pages.forEach(p => {\n      const btn = createBtn(\n        p,\n        p,\n        `${pageClass} ${p === currentPage ? activeClass : ''}`.trim()\n      );\n      container.appendChild(btn);\n    });\n  }\n\n  container.querySelectorAll('button').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = Number(btn.dataset.page);\n      if (Number.isNaN(page) || page === currentPage) return;\n\n      onPageChange(page);\n\n      if (scrollToTop) {\n        if (scrollTarget) {\n          const el =\n            typeof scrollTarget === 'string'\n              ? document.querySelector(scrollTarget)\n              : scrollTarget;\n\n          if (el) {\n            el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        } else {\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n      }\n    });\n  });\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper'; // —è–∫—â–æ –Ω–µ —Ö–æ—á–µ—à —Ç–æ—Å—Ç–∏ ‚Äî –º–æ–∂–µ—à –∑–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ console.error\nimport { renderPaginationUniversal } from './pagination.js';\nimport { injectSchemaExercises } from './seo-function.js';\n\nconst api = new YourEnergyAPI();\n\nfunction getPageLimit() {\n  return window.innerWidth < 768 ? 8 : 10;\n}\n\n// –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω\nlet currentPage = 1;\nlet currentTotalPages = 1;\n\nexport async function initExercisesList() {\n  const listEl = document.querySelector('.js-exercises-list');\n  if (!listEl) return;\n\n  // –ø–µ—Ä—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è\n  await loadExercisesList({ page: 1 });\n}\n\nexport async function loadExercisesList({ page = 1, keyword = '' } = {}) {\n  const listEl = document.querySelector('.js-exercises-list');\n  if (!listEl) return;\n\n  const limit = getPageLimit();\n\n  const { type, filter } = getTypeAndFilterFromUI();\n  const params = buildExercisesParams({ page, limit, type, filter, keyword });\n\n  console.log('ACTIVE TYPE:', type);\n  console.log('FILTER VALUE:', filter);\n  console.log('EXERCISES PARAMS:', params);\n\n  try {\n    const data = await api.getExercises(params);\n\n    const items = data.results || [];\n    currentPage = data.page || page;\n    currentTotalPages = data.totalPages || 1;\n    console.log('data', data);\n    injectSchemaExercises(data);\n\n    renderExercisesList(listEl, items);\n    renderExercisesPagination(currentPage, currentTotalPages);\n  } catch (err) {\n    console.error('Failed to load exercises:', err);\n    if (typeof showError === 'function') {\n      showError(err.message || 'Failed to load exercises. Try again later.');\n    }\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>Failed to load exercises. Try again later.</p>\n      </li>\n    `;\n  }\n}\n\nfunction getTypeAndFilterFromUI() {\n  const urlParams = new URLSearchParams(window.location.search);\n\n  // type –º–æ–∂–µ –ø—Ä–∏–π—Ç–∏ –∑ Categories —è–∫ type,\n  // –∞–±–æ —É —Ç–µ–±–µ —Å—Ç–∞—Ä–∏–π —Ñ–æ—Ä–º–∞—Ç tab=muscles\n  const typeFromUrl = urlParams.get('type') || urlParams.get('tab');\n\n  // –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–∞–± —É —Ä–æ–∑–º—ñ—Ç—Ü—ñ\n  const activeTab =\n    document.querySelector('.exercises__tab--active')?.dataset.tab ||\n    typeFromUrl ||\n    'body-parts';\n\n  // filter –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –∑ Categories (waist / abs / body weight / —ñ —Ç.–¥.)\n  const filterFromUrl = urlParams.get('filter');\n\n  const fallbackFilter = getDefaultFilterForType(activeTab);\n\n  return {\n    type: activeTab,\n    filter: filterFromUrl || fallbackFilter,\n  };\n}\n\n/**\n * –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º, —è–∫—â–æ –Ω–µ–º–∞—î filter –≤ URL\n */\nfunction getDefaultFilterForType(type) {\n  switch (type) {\n    case 'muscles':\n      return 'abs';\n    case 'equipment':\n      return 'body weight';\n    case 'body-parts':\n    default:\n      return 'waist';\n  }\n}\n\nfunction buildExercisesParams({ page, limit, type, filter, keyword }) {\n  const params = { page, limit };\n\n  if (keyword) {\n    params.keyword = keyword;\n  }\n\n  switch (type) {\n    case 'body-parts':\n      params.bodypart = filter;\n      break;\n    case 'muscles':\n      params.muscles = filter;\n      break;\n    case 'equipment':\n      params.equipment = filter;\n      break;\n    default:\n      params.bodypart = filter;\n  }\n\n  return params;\n}\n\n/**\n * –†–µ–Ω–¥–µ—Ä UL –∑—ñ —Å–ø–∏—Å–∫–æ–º –≤–ø—Ä–∞–≤\n */\nfunction renderExercisesList(listEl, items) {\n  if (!items.length) {\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>No exercises found.</p>\n      </li>\n    `;\n    return;\n  }\n\n  const markup = items.map(createExerciseCardMarkup).join('');\n  listEl.innerHTML = markup;\n}\n\nfunction createExerciseCardMarkup(item) {\n  const { name, burnedCalories, bodyPart, target, rating } = item;\n\n  return `\n      <li class=\"exercises__item\">\n        <div class=\"exercises__item-top\">\n          <div class=\"exercises__item-info\">\n            <span class=\"exercises__badge\">Workout</span>\n            <div class=\"exercises__rating\">\n              <span class=\"exercises__meta-key\">${rating}</span>\n              <span class=\"exercises__meta-value\">\n                <svg class=\"star\"></svg>\n              </span>\n              <!-- <svg class=\"star\"></svg> -->\n            </div>\n          </div>\n          <button type=\"button\" class=\"exercises__start-btn js-exercises-start\">\n            Start\n            <svg class=\"arrow__icon\"></svg>\n          </button>\n        </div>\n\n        <div class=\"exercises__name-container\">\n          <svg class=\"exercises__icon\"></svg>\n          <h3 class=\"exercises__name\">${name}</h3>\n        </div>\n\n        <div class=\"exercises__item-bottom\">\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Burned calories:</span>\n            <span class=\"exercises__meta-value\">${burnedCalories}</span>\n          </p>\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Body part:</span>\n            <span class=\"exercises__meta-value\">${bodyPart}</span>\n          </p>\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Target:</span>\n            <span class=\"exercises__meta-value\">${target}</span>\n          </p>\n        </div>\n      </li>\n  `;\n}\n\nexport function renderExercisesPagination(currentPage, totalPages) {\n  const container = document.querySelector('.js-exercises-pagination');\n\n  renderPaginationUniversal({\n    container,\n    currentPage,\n    totalPages,\n    mode: 'neighbors',\n    classes: {\n      page: 'exercises__page',\n      active: 'active',\n    },\n    scrollToTop: true,\n    scrollTarget: '.exercises', // –∞–±–æ '#exercises', –¥–∏–≤–∏—Å—å —è–∫ —É —Ç–µ–±–µ –≤ HTML\n    onPageChange(page) {\n      return loadExercisesList({ page });\n    },\n  });\n}\n\n// import { renderPaginationUniversal } from './pagination.js';\n\n// function renderPagination(currentPage, totalPages) {\n//   const container = document.getElementById('pagination');\n//   if (!container) return;\n\n//   renderPaginationUniversal({\n//     container,\n//     currentPage,\n//     totalPages,\n//     mode: 'full',\n//     classes: {\n//       page: 'pagination-page',\n//       active: 'active',\n//     },\n//     scrollToTop: true,\n//     scrollTarget: '#exercise-categories',\n//     // –∞–±–æ '.filters' / '.categories' ‚Äî –ø–æ—Å—Ç–∞–≤ —Å–≤—ñ–π —Ä–µ–∞–ª—å–Ω–∏–π —Å–µ–ª–µ–∫—Ç–æ—Ä —Å–µ–∫—Ü—ñ—ó\n\n//     onPageChange(page) {\n//       if (page === activePage) return;\n//       activePage = page;\n\n//       // –≤–∞–∂–ª–∏–≤–æ: –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø—Ä–æ–º—ñ—Å, —â–æ–± —Å–∫—Ä–æ–ª –±—É–≤ –ü–Ü–°–õ–Ø —Ä–µ–Ω–¥–µ—Ä–∞\n//       return getCategories(activeFilter, page, PAGE_LIMIT);\n//     },\n//   });\n// }\n","// export function initExercisesTabs() {\n//   const tabs = document.querySelectorAll('.exercises__tab');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n//     });\n//   });\n// }\n\n\n\n\n// src/js/exercises-tabs.js\n// import { loadExercisesList } from './exercises-list.js';\n\n// export function initExercisesTabs() {\n//   const tabsContainer = document.querySelector('.js-exercises-tabs');\n//   if (!tabsContainer) return;\n\n//   const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n//   const searchInput = document.querySelector('.exercises__search-input');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       // 1. –º—ñ–Ω—è—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–∞–±\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n\n//       // 2. –º–æ–∂–µ–º–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç, —è–∫—â–æ —î\n//       const keyword = searchInput ? searchInput.value.trim() : '';\n\n//       // 3. —Ç—è–≥–Ω–µ–º–æ –Ω–æ–≤—ñ –≤–ø—Ä–∞–≤–∏ –ø—ñ–¥ —Ü–µ–π —Ç–∞–±\n//       loadExercisesList({ page: 1, keyword });\n//     });\n//   });\n// }\n\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesTabs() {\n  const tabsContainer = document.querySelector('.js-exercises-tabs');\n  if (!tabsContainer) return;\n\n  const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n  const searchInput = document.querySelector('.exercises__search-input');\n\n  tab.addEventListener('click', () => {\n    document.getElementById('categories-section')?.classList.add('hidden');\n    document.getElementById('exercises-section')?.classList.remove('hidden');\n\n    loadExercisesList({ page: 1 });\n  });\n}\n","import iziToast from 'izitoast';\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesSearch() {\n  const searchInput = document.querySelector('.filters__input');\n  const searchBtn = document.querySelector('.filters__search-btn');\n  const clearBtn = document.querySelector('.filters__clear-btn');\n\n  if (!searchInput || !searchBtn) return;\n\n  const runSearch = () => {\n    const query = searchInput.value.trim();\n\n    if (!query) {\n      iziToast.warning({\n        title: 'Attention',\n        message: 'Enter a search query',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    loadExercisesList({ page: 1, keyword: query });\n  };\n\n  searchBtn.addEventListener('click', runSearch);\n\n  searchInput.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      runSearch();\n    }\n  });\n\n  if (clearBtn) {\n    clearBtn.addEventListener('click', () => {\n      searchInput.value = '';\n      searchInput.focus();\n\n      loadExercisesList({ page: 1, keyword: '' });\n    });\n  }\n}\n","import 'izitoast/dist/css/iziToast.min.css';\n\nimport './js/quote-of-the-day.js';\n\nimport './js/favorites-btn.js';\nimport './js/favorites-page.js';\n\nimport './js/categories.js';\n\nimport './js/mobile-menu.js';\nimport './js/filters.js';\nimport './js/footer.js';\nimport './js/scroll-up.js';\nimport { cancelLoader } from './js/loader.js';\nimport { registerModalType, initModalButtons } from './js/modal-template.js';\nimport { MODAL_TYPES } from './js/constants.js';\nimport {\n  getRatingModalContent,\n  initRatingModal,\n} from './js/modal-rating-content.js';\nimport { initExercisesTabs } from './js/exercises-tabs.js';\nimport { initExercisesList } from './js/exercises-list.js';\n// import { renderPagination } from './js/categories.js';\nimport { initExercisesSearch } from './js/exercises-search.js';\n\n// —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ—à—É–∫—É\n// ref.searchButton.addEventListener('click', onSearch);\n// ref.loadMoreButton.addEventListener('click', loadMore);\n\n// if (document.readyState === 'loading') {\ndocument.addEventListener('DOMContentLoaded', () => {\n  setTimeout(() => cancelLoader(), 200);\n  initModals();\n});\n// } else {\n//   cancelLoader();\n//   initModals();\n// }\n\nfunction initModals() {\n  registerModalType(MODAL_TYPES.RATING, getRatingModalContent, initRatingModal);\n  // registerModalType(MODAL_TYPES.EXERCISE, getExerciseModalContent, initExerciseModal);\n\n  initModalButtons();\n}\n\ninitExercisesTabs();\n// initExercisesList();\n// renderPagination();\ninitExercisesSearch();\ndocument.addEventListener('DOMContentLoaded', () => {\n  initExercisesList();\n});\n"],"names":["CONFIG","COLORS","API_ENDPOINTS","REGEX","VALIDATION","TOAST","SEO","MODAL_TYPES","ERROR_MESSAGES","YourEnergyAPI","baseURL","axios","response","error","errorMessage","_b","_a","method","url","data","params","config","message","id","defaultOptions","showSuccess","iziToast","showError","fetchApi","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","addTextContent","fetchGetExercisesQuote","resp","newQuote","quoteData","err","content","FAVORITES_KEY","getFavorites","saveFavorites","favoritesArray","removeFavorite","updated","item","refs","favorites","renderFavorites","card","injectSchema","schemaData","index","updateSchemaScript","injectSchemaExercises","ex","capitalize","schemaId","script","str","PAGE_LIMIT","activeFilter","activePage","getCategories","filter","page","limit","renderCards","renderPagination","items","container","currentPage","totalPages","i","pageNum","btn","toggleMenu","e","tabsContainer","searchBox","subtitle","isDesktop","updateUIForFilter","desktop","tab","isActive","activeBtn","searchInput","clearBtn","toggleClear","form","emailInput","messageEl","emailPattern","event","email","scrollUpButton","smoothScrollToTop","duration","start","startTime","scrollStep","currentTime","elapsed","progress","ease","ref","cancelLoader","isInitialized","modalTypes","registerModalType","type","getContentFn","initFn","initRefs","initModalButtons","button","modalType","getContent","init","openModal","closeModal","handleEscape","handleBackdropClick","handleCloseButtonClick","isConfirmModalOpen","confirmModal","confirmModalRefs","confirmCallback","cancelCallback","initConfirmRefs","modal","handleCancel","_c","handleConfirm","_d","_e","_f","callback","closeConfirmModal","openConfirmModal","onConfirm","onCancel","api","checkFormFilledFn","getRatingModalContent","existingRatingModal","clonedModal","updateElementIds","initRatingModalButtons","exerciseId","element","elementsWithId","timestamp","el","oldId","label","clearRatingForm","modalBody","ratingModal","ratingInput","ratingText","commentTextarea","stars","star","handleRatingModalClose","closeModalFn","initRatingModal","cancelBtn","submitBtn","currentRating","isFormValid","updateSubmitButton","updateStars","rating","input","backdrop","handleEscapeCapture","cleanup","backdropClickHandler","closeBtn","closeBtnHandler","handleClose","formData","comment","renderPaginationUniversal","onPageChange","mode","showArrows","classes","icons","scrollToTop","scrollTarget","pageClass","activeClass","arrowClass","createBtn","className","pages","_","p","getPageLimit","currentTotalPages","initExercisesList","loadExercisesList","keyword","listEl","getTypeAndFilterFromUI","buildExercisesParams","renderExercisesList","renderExercisesPagination","urlParams","typeFromUrl","activeTab","filterFromUrl","fallbackFilter","getDefaultFilterForType","markup","createExerciseCardMarkup","name","burnedCalories","bodyPart","target","initExercisesTabs","initExercisesSearch","searchBtn","runSearch","query","initModals"],"mappings":"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"}