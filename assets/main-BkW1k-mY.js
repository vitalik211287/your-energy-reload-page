import{a as m,i as g}from"./vendor-3BNOZKAJ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();class p{constructor(e="https://your-energy.b.goit.study/api"){this.baseURL=e,this.axios=m.create({baseURL:this.baseURL}),this.axios.interceptors.response.use(t=>t,t=>{var r,s;const n=((s=(r=t.response)==null?void 0:r.data)==null?void 0:s.message)||t.message||"Something went wrong";return console.error("API Error:",n),Promise.reject(t)})}async _request(e,t,n=null,r=null){var s,i;try{const c={method:e,url:t};return n&&(c.data=n),r&&(c.params=r),(await this.axios(c)).data}catch(c){const l=((i=(s=c.response)==null?void 0:s.data)==null?void 0:i.message)||c.message;throw new Error(`${e.toUpperCase()} ${t} failed: ${l}`)}}async getFilters(e={}){return this._request("get","/filters",null,e)}async getExercises(e={}){return this._request("get","/exercises",null,e)}async getQuote(){return this._request("get","/quote")}async subscribe(e){if(!e.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Valid email is required");return this._request("post","/subscription",e)}async rateExercise(e,t){if(!e)throw new Error("Exercise ID is required");if(!t.rate||t.rate<1||t.rate>5)throw new Error("Rating must be between 1 and 5");if(!t.email||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))throw new Error("Valid email is required");return this._request("patch",`/exercises/${e}/rating`,t)}}const h="#242424",u="#ffffff",f="#8e8f99",y={position:"topRight",timeout:4e3,close:!0,closeOnEscape:!0,pauseOnHover:!0,progressBar:!0,progressBarColor:f,transitionIn:"fadeInLeft",transitionOut:"fadeOutRight",fontFamily:"inherit",icon:""},w=o=>{g.show({...y,title:"Error",message:o,backgroundColor:h,titleColor:u,messageColor:f,progressBarColor:u,icon:"icon-error",iconColor:u})},q=new p,a={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function E(){const o=localStorage.getItem("quoteData");if(o){const{quote:e,author:t,date:n}=JSON.parse(o),r=new Date(n),s=new Date;if(r.getDate()===s.getDate()){d(e,t);return}}L()}E();async function L(){try{const o=await q.getQuote(),{quote:e,author:t}=o,n={quote:e,author:t,date:new Date};localStorage.setItem("quoteData",JSON.stringify(n)),d(e,t)}catch(o){w(o.message||"Something went wrong")}}function d(o,e){a.content&&(a.content.textContent=o),a.author&&(a.author.textContent=e)}(()=>{const o={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]")};if(!o.openMenuBtn||!o.menu||!o.closeMenuBtn)return;const e=()=>{o.menu.classList.toggle("is-open"),document.body.classList.toggle("menu-open")};o.openMenuBtn.addEventListener("click",e),o.closeMenuBtn.addEventListener("click",e),window.matchMedia("(min-width: 768px)").addEventListener("change",t=>{t.matches&&(o.menu.classList.remove("is-open"),document.body.classList.remove("menu-open"))})})();ref.searchButton.addEventListener("click",onSearch);ref.loadMoreButton.addEventListener("click",loadMore);
//# sourceMappingURL=main-BkW1k-mY.js.map
