{"version":3,"file":"main-BHaPyRZs.js","sources":["../../src/js/config.js","../../src/js/constants.js","../../src/js/api.js","../../src/js/iziToast-helper.js","../../src/js/quote-of-the-day.js","../../src/js/favorites-btn.js","../../src/js/favorites-page.js","../../src/js/seo-function.js","../../src/js/categories.js","../../src/js/mobile-menu.js","../../src/js/filters.js","../../src/js/footer.js","../../src/js/scroll-up.js","../../src/js/loader.js","../../src/js/modal-template.js","../../src/js/confirm-modal.js","../../src/js/modal-rating-content.js","../../src/js/pagination.js","../../src/js/exercises-list.js","../../src/js/exercises-tabs.js","../../src/js/exercises-search.js","../../src/main.js"],"sourcesContent":["export const CONFIG = {\n  BASE_API_URL:\n    import.meta.env.VITE_API_BASE_URL || 'https://your-energy.b.goit.study/api',\n  DEV_HOST: import.meta.env.VITE_DEV_HOST || '127.0.0.1',\n  DEV_PORT: import.meta.env.VITE_DEV_PORT || '3000',\n  BASE_PATH: import.meta.env.VITE_BASE_PATH || '/your-energy/',\n};\n","// Local Storage Keys\nexport const STORAGE_KEYS = {};\n\nexport const COLORS = {\n  WHITE: '#fff',\n  BLACK: '#000',\n  GRAY_LIGHT: '#808080',\n};\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  FILTERS: '/filters',\n  EXERCISES: '/exercises',\n  QUOTE: '/quote',\n  SUBSCRIPTION: '/subscription',\n};\n\n// ========== REGULAR EXPRESSIONS ==========\nexport const REGEX = {\n  EMAIL: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n};\n\n// ========== VALIDATION CONSTANTS ==========\nexport const VALIDATION = {\n  EMAIL_REGEX: REGEX.EMAIL,\n  RATING_MIN: 1,\n  RATING_MAX: 5,\n};\n\n// ========== PAGINATION CONSTANTS ==========\nexport const PAGINATION = {\n  DEFAULT_PAGE: 1,\n  DEFAULT_LIMIT: 12,\n  MIN_LIMIT: 1,\n  MAX_LIMIT: 100,\n};\n\n// ========== TOAST NOTIFICATION CONSTANTS ==========\nexport const TOAST = {\n  POSITION: {\n    TOP_RIGHT: 'topRight',\n    TOP_LEFT: 'topLeft',\n    TOP_CENTER: 'topCenter',\n    BOTTOM_RIGHT: 'bottomRight',\n    BOTTOM_LEFT: 'bottomLeft',\n    BOTTOM_CENTER: 'bottomCenter',\n  },\n\n  TIMEOUT: {\n    SHORT: 2000,\n    DEFAULT: 4000,\n    LONG: 6000,\n  },\n\n  TRANSITION: {\n    IN: 'fadeInLeft',\n    OUT: 'fadeOutRight',\n  },\n\n  TITLE: {\n    SUCCESS: 'OK',\n    ERROR: 'Error',\n    INFO: 'Info',\n    WARNING: 'Warning',\n  },\n\n  ICON: {\n    SUCCESS: 'icon-check',\n    ERROR: 'icon-error',\n    INFO: 'icon-info',\n    WARNING: 'icon-warning',\n  },\n};\n\n// ========== SEO CONSTANTS ==========\nexport const SEO = {\n  SCHEMA_CONTEXT: 'https://schema.org',\n  SCHEMA_TYPES: {\n    ITEM_LIST: 'ItemList',\n    LIST_ITEM: 'ListItem',\n    EXERCISE_PLAN: 'ExercisePlan',\n  },\n  JSON_LD_TYPE: 'application/ld+json',\n};\n\n// ========== MODAL TYPES ==========\nexport const MODAL_TYPES = {\n  RATING: 'rating',\n  EXERCISE: 'exercise',\n};\n\n// ========== ERROR MESSAGES ==========\nexport const ERROR_MESSAGES = {\n  API_ERROR: 'Something went wrong',\n  EMAIL_REQUIRED: 'Valid email is required',\n  RATING_RANGE: `Rating must be between ${VALIDATION.RATING_MIN} and ${VALIDATION.RATING_MAX}`,\n  EXERCISE_ID_REQUIRED: 'Exercise ID is required',\n};\n\nexport const REFS = {\n  modalBody: document.querySelector('[data-modal-body]'),\n\n  favoritesBtn: document.querySelector('.favorites-btn'),\n  favoritesList: document.querySelector('.favorites-list'),\n\n  exercisesList: document.querySelector('.js-exercises-list'),\n  exercisesActiveTab: document.querySelector('.exercises__tab--active'),\n  exercisesPagination: document.querySelector('.js-exercises-pagination'),\n\n  modalTemplate: document.getElementById('modal-template'),\n  modalCloseBtn: document.querySelector('.modal-template__close-btn'),\n  modalBackdrop: document.querySelector('.modal-template__backdrop'),\n\n  exerciseModal: document.querySelector('.exercise-modal'), // from modal-exercise.html\n  exerciseTrigger: document.querySelector('[data-modal=\"exercise\"]'),\n\n  // Filters\n  filtersTabs: document.querySelector('[data-filters-tabs]'),\n  filtersSearchBox: document.querySelector('.filters__search'),\n  filtersSubtitle: document.querySelector('.filters__subtitle'),\n  filtersInput: document.querySelector('.filters__input'),\n  filtersClearBtn: document.querySelector('.filters__clear-btn'),\n\n  // Mobile menu\n  mobileMenu: document.querySelector('[data-menu]'),\n  mobileMenuOpenBtn: document.querySelector('[data-menu-open]'),\n  mobileMenuCloseBtn: document.querySelector('[data-menu-close]'),\n};\n","import axios from 'axios';\nimport { CONFIG } from './config.js';\nimport { VALIDATION, ERROR_MESSAGES, API_ENDPOINTS } from './constants.js';\n\nexport class YourEnergyAPI {\n  constructor(baseURL = CONFIG.BASE_API_URL) {\n    this.baseURL = baseURL;\n    this.axios = axios.create({\n      baseURL: this.baseURL,\n    });\n\n    // Response interceptor for error handling\n    this.axios.interceptors.response.use(\n      response => response,\n      error => {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          ERROR_MESSAGES.API_ERROR;\n        console.error('API Error:', errorMessage);\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  /**\n   * Generic request handler\n   * @private\n   * @param {string} method - HTTP method\n   * @param {string} url - Endpoint URL\n   * @param {Object|null} data - Request body\n   * @param {Object|null} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async _request(method, url, data = null, params = null) {\n    try {\n      const config = { method, url };\n      if (data) config.data = data;\n      if (params) config.params = params;\n\n      const response = await this.axios(config);\n      return response.data;\n    } catch (error) {\n      const message = error.response?.data?.message || error.message;\n      throw new Error(`${method.toUpperCase()} ${url} failed: ${message}`);\n    }\n  }\n\n  /**\n   * Get filters\n   * @param {Object} params - Query parameters (filter, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getFilters(params = {}) {\n    return this._request('get', API_ENDPOINTS.FILTERS, null, params);\n  }\n\n  /**\n   * Get exercises\n   * @param {Object} params - Query parameters (bodypart, muscles, equipment, keyword, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getExercises(params = {}) {\n    return this._request('get', API_ENDPOINTS.EXERCISES, null, params);\n  }\n\n  async getExerciseById(id) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    return this._request('get', `${API_ENDPOINTS.EXERCISES}/${id}`);\n  }\n\n  /**\n   * Get quote of the day\n   * @returns {Promise<Object>}\n   */\n  async getQuote() {\n    return this._request('get', API_ENDPOINTS.QUOTE);\n  }\n\n  /**\n   * Subscribe to new exercises\n   * @param {Object} data - { email: string }\n   * @returns {Promise<Object>}\n   */\n  async subscribe(data) {\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request('post', API_ENDPOINTS.SUBSCRIPTION, data);\n  }\n\n  /**\n   * Add rating to exercise\n   * @param {string} id - Exercise ID\n   * @param {Object} data - { rate: number, email: string, review: string }\n   * @returns {Promise<Object>}\n   */\n  async rateExercise(id, data) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    if (\n      !data.rate ||\n      data.rate < VALIDATION.RATING_MIN ||\n      data.rate > VALIDATION.RATING_MAX\n    ) {\n      throw new Error(ERROR_MESSAGES.RATING_RANGE);\n    }\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request(\n      'patch',\n      `${API_ENDPOINTS.EXERCISES}/${id}/rating`,\n      data\n    );\n  }\n}\n","import iziToast from 'izitoast';\nimport { COLORS, TOAST } from './constants.js';\n\n// --- Ð‘Ð°Ð·Ð¾Ð²Ð° ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ ---\nconst defaultOptions = {\n  position: TOAST.POSITION.TOP_RIGHT,\n  timeout: TOAST.TIMEOUT.DEFAULT,\n  close: true,\n  closeOnEscape: true,\n  pauseOnHover: true,\n  progressBar: true,\n  progressBarColor: COLORS.GRAY_LIGHT,\n  transitionIn: TOAST.TRANSITION.IN,\n  transitionOut: TOAST.TRANSITION.OUT,\n  fontFamily: 'inherit',\n  icon: '',\n};\n\n// 1. ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾ Ð£Ð¡ÐŸÐ†Ð¥ (Success)\nexport const showSuccess = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.SUCCESS,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.WHITE,\n    icon: TOAST.ICON.SUCCESS,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 2. ÐŸÐ¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾ ÐŸÐžÐœÐ˜Ð›ÐšÐ£ (Error)\nexport const showError = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.ERROR,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.GRAY_LIGHT,\n    progressBarColor: COLORS.WHITE,\n    icon: TOAST.ICON.ERROR,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 3. Ð†Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ð¹Ð½Ðµ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ (Info)\nexport const showInfo = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.INFO,\n    message: message,\n    backgroundColor: COLORS.WHITE,\n    titleColor: COLORS.BLACK,\n    messageColor: COLORS.BLACK,\n    progressBarColor: COLORS.BLACK,\n    borderBottom: `2px solid ${COLORS.BLACK}`,\n  });\n};\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { ERROR_MESSAGES } from './constants.js';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      addTextContent(quoteContent, author);\n      return;\n    }\n  }\n  fetchGetExercisesQuote();\n}\n\ngetQuoteData();\n\nasync function fetchGetExercisesQuote() {\n  try {\n    const resp = await fetchApi.getQuote();\n\n    const { quote: newQuote, author } = resp;\n    const quoteData = { quote: newQuote, author, date: new Date() };\n    localStorage.setItem('quoteData', JSON.stringify(quoteData));\n    addTextContent(newQuote, author);\n  } catch (err) {\n    showError(err.message || ERROR_MESSAGES.API_ERROR);\n  }\n}\n\nfunction addTextContent(content, author) {\n  if (quote.content) {\n    quote.content.textContent = content;\n  }\n  if (quote.author) {\n    quote.author.textContent = author;\n  }\n}\n","import { REFS } from './constants.js';\n\nconst FAVORITES_KEY = 'favorites';\n\n// Get favorites from LocalStorage\nfunction getFavorites() {\n  const data = localStorage.getItem(FAVORITES_KEY);\n  return data ? JSON.parse(data) : [];\n}\n\n// Save favorites to LocalStorage\nfunction saveFavorites(favoritesArray) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favoritesArray));\n}\n\n// Check if an exercise is in favorites\nfunction isFavorite(id) {\n  const favorites = getFavorites();\n  return favorites.some(item => item.id === id);\n}\n\n// Add exercise to favorites\nfunction addFavorite(exerciseObj) {\n  const favorites = getFavorites();\n  favorites.push(exerciseObj);\n  saveFavorites(favorites);\n}\n\n// Remove exercise from favorites\nfunction removeFavorite(id) {\n  const favorites = getFavorites();\n  const updated = favorites.filter(item => item.id !== id);\n  saveFavorites(updated);\n}\n\nconst currentExercise = {};\n\nfunction initFavoritesBtn(exercise) {\n  const favoriteBtnElement = REFS.favoriteBtn;\n\n  if (!favoriteBtnElement) return;\n\n  Object.assign(currentExercise, exercise);\n\n  if (isFavorite(exercise.id)) {\n    favoriteBtnElement.textContent = 'Remove from favorites';\n  } else {\n    favoriteBtnElement.textContent = 'Add to favorites';\n  }\n\n  favoriteBtnElement.onclick = () => {\n    if (isFavorite(exercise.id)) {\n      removeFavorite(exercise.id);\n      favoriteBtnElement.textContent = 'Add to favorites';\n    } else {\n      addFavorite(exercise);\n      favoriteBtnElement.textContent = 'Remove from favorites';\n    }\n  };\n}\n\nexport {\n  getFavorites,\n  saveFavorites,\n  isFavorite,\n  addFavorite,\n  removeFavorite,\n  currentExercise,\n  initFavoritesBtn,\n};\n","import { getFavorites, removeFavorite } from './favorites-btn.js';\nimport { REFS } from './constants.js';\n\nfunction renderEmptyMessage() {\n  REFS.favoritesList.innerHTML = `\n    <div class=\"favorites-empty\">\n      <p>It appears that you havenâ€™t added any exercises to your favorites yet.</p>\n      <p>To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\n    </div>`;\n}\n\nfunction renderFavorites(arr) {\n  REFS.favoritesList.innerHTML = '';\n\n  arr.forEach(item => {\n    const card = document.createElement('div');\n    card.classList.add('favorite-card');\n    card.dataset.id = item.id;\n\n    card.innerHTML = `\n      <img src=\"${item.gifUrl}\" alt=\"${item.name}\" class=\"favorite-img\">\n      <h3 class=\"favorite-title\">${item.name}</h3>\n      <p class=\"favorite-info\"><b>Target:</b> ${item.target}</p>\n      <p class=\"favorite-info\"><b>Body part:</b> ${item.bodyPart}</p>\n      <p class=\"favorite-info\"><b>Equipment:</b> ${item.equipment}</p>\n\n      <button class=\"delete-btn\" data-id=\"${item.id}\">ðŸ—‘</button>\n    `;\n\n    REFS.favoritesList.appendChild(card);\n\n    const deleteBtn = card.querySelector('.delete-btn');\n    deleteBtn.addEventListener('click', () => {\n      removeFavorite(item.id);\n      const updated = getFavorites();\n      updated.length ? renderFavorites(updated) : renderEmptyMessage();\n    });\n  });\n}\n\nconst favorites = getFavorites();\nif (REFS.favoritesList)\n  favorites.length ? renderFavorites(favorites) : renderEmptyMessage();\n","import { SEO } from './constants.js';\n\nexport function injectSchema(data) {\n  if (!data || !data.results) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((item, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: item.name,\n        filter: item.filter,\n        image: item.imgURL,\n      },\n    })),\n  };\n  updateSchemaScript('filters', schemaData);\n}\n\nexport function injectSchemaExercises(data) {\n  if (!data || !data.results || data.results.length === 0) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((ex, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: capitalize(ex.name),\n        description: ex.description,\n        image: ex.gifUrl,\n        audience: {\n          '@type': 'PeopleAudience',\n          suggestedGender: 'unisex',\n        },\n        category: ex.target,\n        keywords: `${ex.bodyPart}, ${ex.equipment}, fitness`,\n      },\n    })),\n  };\n\n  updateSchemaScript('detailed-exercises', schemaData);\n}\n\nfunction updateSchemaScript(schemaId, data) {\n  let script = document.querySelector(`script[data-schema=\"${schemaId}\"]`);\n\n  if (!script) {\n    script = document.createElement('script');\n    script.type = SEO.JSON_LD_TYPE;\n    script.setAttribute('data-schema', schemaId);\n    document.head.appendChild(script);\n  }\n\n  script.textContent = JSON.stringify(data);\n  // console.log(`Schema updated for: ${schemaId}`);\n}\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { injectSchema } from './seo-function';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst PAGE_LIMIT = window.innerWidth < 768 ? 9 : 12;\n\n// UI state\nlet activeFilter = 'Muscles';\nlet activePage = 1;\n\n// Fetch categories from API and render cards + pagination.\n\nasync function getCategories(\n  filter = activeFilter,\n  page = 1,\n  limit = PAGE_LIMIT\n) {\n  // Update UI state early\n  activeFilter = filter;\n  activePage = page;\n\n  try {\n    const params = { filter, page, limit };\n    const data = await fetchApi.getFilters(params);\n\n    // Validate expected structure\n    if (!data) {\n      return showError('Data is empty');\n    }\n\n    // Render UI\n    renderCards(data.results || []);\n    renderPagination(activePage, data.totalPages || 1);\n\n    // Optional: ensure data is structured before injecting\n    if (typeof injectSchema === 'function') {\n      injectSchema(data);\n    }\n  } catch (err) {\n    console.error('getCategories error:', err);\n    showError(err?.message || 'Something went wrong');\n  }\n}\n\n// Cards\n\nfunction renderCards(items) {\n  const container = document.getElementById('cards-container');\n  if (!container) return;\n  container.innerHTML = '';\n\n  items.forEach(item => {\n    const card = document.createElement('div');\n    card.className = 'card';\n\n    card.innerHTML = `\n      <img src=\"${item.imgURL}\" alt=\"${item.name}\" />\n      <div class=\"card-body\">\n        <h3>${item.name}</h3>\n        <span class=\"card-filter\">${item.filter}</span>\n      </div>\n    `;\n\n    container.appendChild(card);\n  });\n}\n\n// Pagination\n\nfunction renderPagination(currentPage, totalPages) {\n  const container = document.getElementById('pagination');\n  if (!container) return;\n  container.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const pageNum = i;\n    const btn = document.createElement('button');\n\n    btn.textContent = pageNum;\n    btn.className = 'pagination-page';\n    btn.setAttribute('data-page', pageNum);\n\n    if (pageNum === currentPage) {\n      btn.classList.add('active');\n    }\n\n    // CLICK HANDLER\n    btn.addEventListener('click', () => {\n      if (pageNum === activePage) return; // already active\n      activePage = pageNum;\n      getCategories(activeFilter, pageNum, PAGE_LIMIT);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    container.appendChild(btn);\n  }\n}\n\n// First load\ngetCategories(activeFilter, activePage, PAGE_LIMIT);\n","import { REFS } from './constants.js';\n\n(() => {\n  const {\n    mobileMenu: menu,\n    mobileMenuOpenBtn: openMenuBtn,\n    mobileMenuCloseBtn: closeMenuBtn,\n  } = REFS;\n\n  if (!openMenuBtn || !menu || !closeMenuBtn) return;\n\n  const toggleMenu = () => {\n    menu.classList.toggle('is-open');\n    document.body.classList.toggle('menu-open');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window\n    .matchMedia('(min-width: 768px)')\n    .addEventListener('change', e => {\n      if (!e.matches) return;\n      menu.classList.remove('is-open');\n      document.body.classList.remove('menu-open');\n    });\n})();\n","import { REFS } from './constants.js';\n\nconst {\n  filtersTabs: tabsContainer,\n  filtersSearchBox: searchBox,\n  filtersSubtitle: subtitle,\n} = REFS;\n\nconst isDesktop = () => window.matchMedia('(min-width: 1440px)').matches;\n\n\nif (tabsContainer && searchBox && subtitle) {\n  const updateUIForFilter = filter => {\n    const desktop = isDesktop();\n\n    if (filter === 'bodypart') {\n      subtitle.textContent = ' / Waist';\n\n      if (desktop) {\n        // DESKTOP: Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ Ñ‡ÐµÑ€ÐµÐ· opacity\n        searchBox.classList.add('filters__search--visible');\n        // searchBox.classList.remove('filters__search--visible-mobile');\n      } else {\n        // MOBILE + TABLET: Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ÑÐ²Ð»ÑÐµÑ‚ÑÑ Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚Ð°Ð±Ð¾Ð², ÑÐ´Ð²Ð¸Ð³Ð°Ñ Ð¸Ñ… Ð²Ð¿Ñ€Ð°Ð²Ð¾/Ð²Ð½Ð¸Ð·\n        // searchBox.classList.add('filters__search--visible-mobile');\n        searchBox.classList.add('filters__search--visible');\n        // searchBox.classList.remove('filters__search--visible');\n      }\n    } else {\n      subtitle.textContent = '';\n      searchBox.classList.remove(\n        'filters__search--visible'\n        // 'filters__search--visible-mobile'\n      );\n    }\n  };\n\n  tabsContainer.addEventListener('click', e => {\n    const btn = e.target.closest('.filters__tab');\n    if (!btn) return;\n\n    tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n      const isActive = tab === btn;\n      tab.classList.toggle('filters__tab--active', isActive);\n      tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n    });\n\n    updateUIForFilter(btn.dataset.filter);\n  });\n\n  // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐµ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ (ÐµÑÐ»Ð¸ Body parts Ð°ÐºÑ‚Ð¸Ð²ÐµÐ½ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ)\n  const activeBtn = tabsContainer.querySelector('.filters__tab--active');\n  if (activeBtn) {\n    updateUIForFilter(activeBtn.dataset.filter);\n  }\n}\n\n// === Ð›Ð¾Ð³Ð¸ÐºÐ° ÐºÑ€ÐµÑÑ‚Ð¸ÐºÐ° Ð¾Ñ‡Ð¸ÑÑ‚ÐºÐ¸ ===\nconst searchInput = document.querySelector('.filters__input');\nconst clearBtn = document.querySelector('.filters__clear-btn');\n\nif (searchInput && clearBtn) {\n  const toggleClear = () => {\n    if (searchInput.value.trim()) {\n      clearBtn.classList.add('filters__clear-btn--visible');\n    } else {\n      clearBtn.classList.remove('filters__clear-btn--visible');\n    }\n  };\n\n  searchInput.addEventListener('input', toggleClear);\n\n  clearBtn.addEventListener('click', () => {\n    searchInput.value = '';\n    searchInput.focus();\n    toggleClear();\n  });\n\n  toggleClear();\n}\n\n\n// filters-tabs.js\n// const tabsContainer = document.querySelector('[data-filters-tabs]');\n// const searchBox = document.querySelector('.filters__search');\n// const subtitle = document.querySelector('.filters__subtitle');\n\n// // âœ… Ð•ÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¾Ð²Ð°Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ Ð´Ð»Ñ Ð°ÐºÑ‚Ð¸Ð²Ð°Ñ†Ñ–Ñ— Ñ‚Ð°Ð±Ñƒ Ð·Ð·Ð¾Ð²Ð½Ñ– (Ð· Categories)\n// export function activateFiltersTab(filterKey, subtitleValue = '') {\n//   if (!tabsContainer) return;\n\n//   const btn = tabsContainer.querySelector(`[data-filter=\"${filterKey}\"]`);\n//   if (!btn) return;\n\n//   // Ñ€Ð¾Ð±Ð¸Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¼ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¸Ð¹ Ñ‚Ð°Ð±\n//   tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n//     const isActive = tab === btn;\n//     tab.classList.toggle('filters__tab--active', isActive);\n//     tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n//   });\n\n//   // Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ”Ð¼Ð¾ Ñ‚Ñƒ ÑÐ°Ð¼Ñƒ Ð»Ð¾Ð³Ñ–ÐºÑƒ, Ñ‰Ð¾ Ð±ÑƒÐ»Ð° Ð² Ñ‚Ð²Ð¾Ñ”Ð¼Ñƒ if\n//   if (filterKey === 'bodypart') {\n//     searchBox.classList.remove('hidden');\n//     subtitle.textContent = ` / ${subtitleValue || 'Waist'}`;\n//   } else {\n//     searchBox.classList.add('hidden');\n//     subtitle.textContent = '';\n//   }\n// }\n\n// // âœ… Ð¢Ð²Ñ–Ð¹ ÑÑ‚Ð°Ñ€Ð¸Ð¹ listener â€” Ð·Ð°Ð»Ð¸ÑˆÐ°Ñ”Ð¼Ð¾, Ð°Ð»Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ð¼Ð¾ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ\n// if (tabsContainer) {\n//   tabsContainer.addEventListener('click', e => {\n//     const btn = e.target.closest('.filters__tab');\n//     if (!btn) return;\n\n//     const filterKey = btn.dataset.filter;\n//     activateFiltersTab(filterKey);\n//   });\n// }\n","const form = document.querySelector('.footer__form');\nconst emailInput = form.querySelector('.footer__input');\nconst messageEl = form.querySelector('.footer__message');\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z]{2,}$/;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\n\n  if (!emailPattern.test(email)) {\n    messageEl.textContent = 'Please enter a valid email.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n    return;\n  }\n\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      }\n    );\n\n    if (response.ok) {\n      messageEl.textContent = 'Subscription successful!';\n      messageEl.classList.remove('footer__message--error');\n      messageEl.classList.add('footer__message--success');\n\n      emailInput.value = '';\n    } else {\n      const data = await response.json();\n\n      messageEl.textContent = data.message || 'Subscription failed.';\n      messageEl.classList.remove('footer__message--success');\n      messageEl.classList.add('footer__message--error');\n    }\n  } catch (error) {\n    messageEl.textContent = 'Network error. Try again later.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n  }\n});\n","const scrollUpButton = document.querySelector('.scroll-up-btn');\n\nif (scrollUpButton) {\n  function smoothScrollToTop(duration = 1000) {\n    const start = window.scrollY;\n    const startTime = performance.now();\n\n    function scrollStep(currentTime) {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      const ease = 1 - Math.pow(1 - progress, 3);\n      window.scrollTo(0, start * (1 - ease));\n\n      if (progress < 1) {\n        requestAnimationFrame(scrollStep);\n      }\n    }\n\n    requestAnimationFrame(scrollStep);\n  }\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      scrollUpButton.classList.add('show');\n    } else {\n      scrollUpButton.classList.remove('show');\n    }\n  });\n\n  scrollUpButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    smoothScrollToTop();\n  });\n}\n","const ref = {\n  loaderOverlay: document.getElementById('loader-overlay'),\n  loaderBg: document.getElementById('bg-loader'),\n};\nexport function startLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.remove('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.add('bg-loader');\n}\nexport function cancelLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.add('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.remove('bg-loader');\n}\n","/**\n * Universal module for working with a modal window template\n * Allows opening a modal with any content,\n * blocks the page scroll, closes on Escape\n */\n\nlet refs = null;\nlet isInitialized = false;\nconst modalTypes = {};\n\nexport function registerModalType(type, getContentFn, initFn) {\n  modalTypes[type] = {\n    getContent: getContentFn,\n    init: initFn,\n  };\n}\n\nfunction initRefs() {\n  if (isInitialized) return;\n\n  refs = {\n    modal: document.getElementById('modal-template'),\n    backdrop: document.querySelector('[data-modal-close]'),\n    closeBtn: document.querySelector('.modal-template__close-btn'),\n    body: document.querySelector('[data-modal-body]'),\n  };\n\n  isInitialized = true;\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    initRefs();\n  });\n} else {\n  initRefs();\n}\n\nexport function initModalButtons() {\n  const modalButtons = document.querySelectorAll('[data-modal]');\n\n  modalButtons.forEach(button => {\n    if (button.hasAttribute('data-modal-initialized')) {\n      return;\n    }\n\n    const modalType = button.getAttribute('data-modal');\n\n    if (!modalTypes[modalType]) {\n      console.warn(`Modal type \"${modalType}\" is not registered`);\n      return;\n    }\n\n    button.addEventListener('click', () => {\n      const { getContent, init } = modalTypes[modalType];\n\n      const content = getContent();\n      if (!content) {\n        console.error(`Failed to get content for modal type \"${modalType}\"`);\n        return;\n      }\n\n      openModal(content);\n\n      if (init) {\n        setTimeout(async () => {\n          try {\n            await init(closeModal);\n          } catch (error) {\n            console.error('Error initializing modal:', error);\n          }\n        }, 100);\n      }\n    });\n\n    button.setAttribute('data-modal-initialized', 'true');\n  });\n}\n\nexport function openModal(content) {\n  initRefs();\n\n  if (!refs || !refs.modal || !refs.body) {\n    console.error('Modal template elements not found');\n    return;\n  }\n\n  if (typeof content === 'string') {\n    refs.body.innerHTML = content;\n  } else if (content instanceof HTMLElement) {\n    refs.body.innerHTML = '';\n    refs.body.appendChild(content);\n  } else {\n    console.error('Invalid content type. Expected string or HTMLElement');\n    return;\n  }\n\n  refs.modal.classList.remove('hidden');\n  document.body.classList.add('modal-open');\n\n  document.addEventListener('keydown', handleEscape, { once: false });\n  refs.backdrop?.addEventListener('click', handleBackdropClick);\n  refs.closeBtn?.addEventListener('click', handleCloseButtonClick);\n}\n\nexport function closeModal() {\n  initRefs();\n\n  if (!refs || !refs.modal) return;\n\n  refs.modal.classList.add('hidden');\n  document.body.classList.remove('modal-open');\n\n  document.removeEventListener('keydown', handleEscape);\n  refs.backdrop?.removeEventListener('click', handleBackdropClick);\n  refs.closeBtn?.removeEventListener('click', handleCloseButtonClick);\n\n  if (refs && refs.body) {\n    refs.body.innerHTML = '';\n  }\n}\n\nfunction isConfirmModalOpen() {\n  const confirmModal = document.getElementById('modal-confirm');\n  return confirmModal && !confirmModal.classList.contains('hidden');\n}\n\nfunction handleEscape(event) {\n  if (event.key === 'Escape') {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleCloseButtonClick() {\n  if (isConfirmModalOpen()) {\n    return;\n  }\n  closeModal();\n}\n\nexport function isModalOpen() {\n  initRefs();\n  return refs && refs.modal && !refs.modal.classList.contains('hidden');\n}\n","/**\n * module for working with a confirm modal that opens over the main modal\n */\n\nlet confirmModalRefs = null;\nlet confirmCallback = null;\nlet cancelCallback = null;\n\nfunction initConfirmRefs() {\n  if (confirmModalRefs) return;\n\n  const modal = document.getElementById('modal-confirm');\n  if (!modal) {\n    console.error('Confirm modal not found');\n    return;\n  }\n\n  confirmModalRefs = {\n    modal,\n    backdrop: modal.querySelector('[data-confirm-close]'),\n    message: modal.querySelector('[data-confirm-message]'),\n    cancelBtn: modal.querySelector('[data-confirm-cancel]'),\n    confirmBtn: modal.querySelector('[data-confirm-ok]'),\n  };\n\n  confirmModalRefs.backdrop?.removeEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.removeEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.removeEventListener('click', handleConfirm, {\n    capture: true,\n  });\n\n  confirmModalRefs.backdrop?.addEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.addEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.addEventListener('click', handleConfirm, {\n    capture: true,\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initConfirmRefs);\n} else {\n  initConfirmRefs();\n}\n\nfunction handleEscape(event) {\n  if (\n    event.key === 'Escape' &&\n    confirmModalRefs &&\n    !confirmModalRefs.modal.classList.contains('hidden')\n  ) {\n    handleCancel();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === confirmModalRefs.backdrop) {\n    event.stopPropagation();\n    event.preventDefault();\n    handleCancel(event);\n  }\n}\n\nfunction handleCancel(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  const callback = cancelCallback;\n  closeConfirmModal();\n  if (callback) {\n    callback();\n  }\n}\n\nfunction handleConfirm(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  const callback = confirmCallback;\n  closeConfirmModal();\n  setTimeout(() => {\n    if (callback) {\n      callback();\n    }\n  }, 0);\n}\n\nexport function openConfirmModal(message, onConfirm, onCancel = null) {\n  initConfirmRefs();\n\n  if (!confirmModalRefs || !confirmModalRefs.modal) {\n    console.error('Confirm modal elements not found');\n    return;\n  }\n\n  confirmCallback = onConfirm;\n  cancelCallback = onCancel;\n\n  if (confirmModalRefs.message) {\n    confirmModalRefs.message.textContent = message;\n  }\n\n  confirmModalRefs.modal.classList.remove('hidden');\n  document.addEventListener('keydown', handleEscape, { once: true });\n}\n\nexport function closeConfirmModal() {\n  if (!confirmModalRefs || !confirmModalRefs.modal) return;\n\n  confirmModalRefs.modal.classList.add('hidden');\n  confirmCallback = null;\n  cancelCallback = null;\n}\n","import { YourEnergyAPI } from './api.js';\nimport { showError, showSuccess } from './iziToast-helper.js';\nimport { openConfirmModal } from './confirm-modal.js';\nimport { ERROR_MESSAGES } from './constants.js';\n\nconst api = new YourEnergyAPI();\n\nlet checkFormFilledFn = null;\n\nexport function getRatingModalContent() {\n  const existingRatingModal = document.querySelector('.rating-modal');\n\n  if (!existingRatingModal) {\n    console.error(\n      'Rating modal HTML not found. Make sure modal-rating.html is loaded via <load> tag.'\n    );\n    return null;\n  }\n\n  const clonedModal = existingRatingModal.cloneNode(true);\n  updateElementIds(clonedModal);\n\n  return clonedModal;\n}\n\nfunction initRatingModalButtons() {\n  document.addEventListener(\n    'click',\n    function (event) {\n      const button = event.target.closest('[data-modal=\"rating\"]');\n      if (button) {\n        const exerciseId = button.getAttribute('data-exercise-id');\n        if (exerciseId) {\n          sessionStorage.setItem('ratingModalExerciseId', exerciseId);\n        }\n      }\n    },\n    { capture: true }\n  );\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initRatingModalButtons);\n} else {\n  initRatingModalButtons();\n}\n\nfunction updateElementIds(element) {\n  const elementsWithId = element.querySelectorAll('[id]');\n  const timestamp = Date.now();\n\n  elementsWithId.forEach(el => {\n    const oldId = el.id;\n    el.id = `${oldId}-${timestamp}`;\n\n    const labels = element.querySelectorAll(`label[for=\"${oldId}\"]`);\n    labels.forEach(label => {\n      label.setAttribute('for', el.id);\n    });\n  });\n}\n\nexport function checkRatingFormFilled() {\n  return checkFormFilledFn ? checkFormFilledFn() : false;\n}\n\nfunction clearRatingForm() {\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!ratingModal) return;\n\n  const form = ratingModal.querySelector('.rating-modal__form');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const stars = ratingModal.querySelectorAll('.rating-star');\n\n  if (form) form.reset();\n  if (ratingInput) ratingInput.value = '0';\n  if (emailInput) emailInput.value = '';\n  if (commentTextarea) commentTextarea.value = '';\n  if (ratingText) ratingText.textContent = '';\n\n  stars.forEach(star => {\n    star.classList.remove('active');\n  });\n}\n\nexport function handleRatingModalClose(closeModalFn) {\n  if (checkFormFilledFn && checkFormFilledFn()) {\n    openConfirmModal(\n      'Are you sure you want to cancel your exercise review?',\n      () => {\n        clearRatingForm();\n        checkFormFilledFn = null;\n        closeModalFn();\n      },\n      () => {}\n    );\n  } else {\n    clearRatingForm();\n    checkFormFilledFn = null;\n    closeModalFn();\n  }\n}\n\nexport function initRatingModal(closeModalFn) {\n  checkFormFilledFn = null;\n\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!modalBody || !ratingModal) {\n    console.error('Modal body or rating modal not found');\n    return;\n  }\n\n  let exerciseId =\n    sessionStorage.getItem('ratingModalExerciseId') ||\n    document\n      .querySelector('[data-modal=\"rating\"][data-exercise-id]')\n      ?.getAttribute('data-exercise-id');\n\n  if (exerciseId) {\n    sessionStorage.removeItem('ratingModalExerciseId');\n  }\n\n  if (!exerciseId) {\n    showError('Exercise ID is missing');\n    return;\n  }\n\n  const stars = ratingModal.querySelectorAll('.rating-star');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const cancelBtn = ratingModal.querySelector('.rating-modal__btn--cancel');\n  const submitBtn = ratingModal.querySelector(\n    '.rating-modal__btn[type=\"submit\"]'\n  );\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const form = ratingModal.querySelector('.rating-modal__form');\n\n  let currentRating = 0;\n  if (submitBtn) submitBtn.disabled = true;\n  if (ratingInput) ratingInput.value = '0';\n  if (ratingText) ratingText.textContent = '0';\n\n  const isFormValid = () => {\n    return (\n      currentRating > 0 &&\n      currentRating <= 5 &&\n      emailInput?.value.trim() !== '' &&\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  const updateSubmitButton = () => {\n    if (submitBtn) {\n      submitBtn.disabled = !isFormValid();\n    }\n  };\n\n  const checkFormFilled = () => {\n    return (\n      currentRating > 0 ||\n      emailInput?.value.trim() !== '' ||\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  checkFormFilledFn = checkFormFilled;\n\n  const updateStars = rating => {\n    stars.forEach((star, index) => {\n      const starRating = index + 1;\n      if (starRating <= rating) {\n        star.classList.add('active');\n      } else {\n        star.classList.remove('active');\n      }\n    });\n  };\n\n  stars.forEach((star, index) => {\n    const rating = index + 1;\n\n    star.addEventListener('click', () => {\n      currentRating = rating;\n      updateStars(rating);\n      if (ratingInput) ratingInput.value = rating;\n      if (ratingText) ratingText.textContent = rating;\n      updateSubmitButton();\n    });\n  });\n\n  [emailInput, commentTextarea].forEach(input => {\n    if (input) {\n      input.addEventListener('input', updateSubmitButton);\n    }\n  });\n\n  const resetForm = () => {\n    currentRating = 0;\n    if (ratingInput) ratingInput.value = '0';\n    if (emailInput) emailInput.value = '';\n    if (commentTextarea) commentTextarea.value = '';\n    if (ratingText) ratingText.textContent = '0';\n    updateStars(0);\n    updateSubmitButton();\n  };\n\n  const backdrop = document.querySelector('[data-modal-close]');\n\n  const isConfirmModalOpen = () => {\n    const confirmModal = document.getElementById('modal-confirm');\n    return confirmModal && !confirmModal.classList.contains('hidden');\n  };\n\n  const handleEscapeCapture = event => {\n    if (event.key === 'Escape') {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const backdropClickHandler = event => {\n    if (event.target === backdrop) {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const cleanup = () => {\n    document.removeEventListener('keydown', handleEscapeCapture, {\n      capture: true,\n    });\n    backdrop?.removeEventListener('click', backdropClickHandler, {\n      capture: true,\n    });\n    closeBtn?.removeEventListener('click', closeBtnHandler, { capture: true });\n  };\n\n  const closeBtn = document.querySelector('.modal-template__close-btn');\n  const closeBtnHandler = event => {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    event.stopPropagation();\n    handleClose();\n  };\n\n  document.addEventListener('keydown', handleEscapeCapture, { capture: true });\n  backdrop?.addEventListener('click', backdropClickHandler, { capture: true });\n  closeBtn?.addEventListener('click', closeBtnHandler, { capture: true });\n\n  const handleClose = () => {\n    handleRatingModalClose(() => {\n      cleanup();\n      closeModalFn();\n    });\n  };\n\n  if (cancelBtn && closeModalFn) {\n    cancelBtn.addEventListener('click', () => {\n      handleClose();\n    });\n  }\n\n  if (form) {\n    form.setAttribute('data-no-auto-close', 'true');\n\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n\n      if (!isFormValid()) {\n        showError('Please fill in all fields');\n        return;\n      }\n\n      const formData = new FormData(form);\n      const rating = parseInt(formData.get('rating'), 10);\n      const email = formData.get('email').trim();\n      const comment = formData.get('comment').trim();\n\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n\n      try {\n        await api.rateExercise(exerciseId, {\n          rate: rating,\n          email: email,\n          review: comment,\n        });\n\n        showSuccess('Thank you for your feedback!');\n        checkFormFilledFn = null;\n\n        setTimeout(() => {\n          if (closeModalFn) {\n            cleanup();\n            closeModalFn();\n          }\n        }, 1000);\n      } catch (error) {\n        console.error('Failed to submit rating:', error);\n        showError(error.message || ERROR_MESSAGES.API_ERROR);\n\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Send';\n        }\n      }\n    });\n  }\n}\n","export function renderPaginationUniversal({\n  container,\n  currentPage,\n  totalPages,\n  onPageChange,\n  mode = 'full',\n  showArrows = false,\n  classes = {},\n  icons = {},\n  scrollToTop = true,\n  scrollTarget = null, // <-- Ð½Ð¾Ð²Ð¸Ð¹ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€\n}) {\n  if (!container) return;\n  container.innerHTML = '';\n\n  const {\n    page: pageClass = '',\n    active: activeClass = 'active',\n    arrow: arrowClass = '',\n  } = classes;\n\n  const { prev: prevIcon = 'Prev', next: nextIcon = 'Next' } = icons;\n\n  const createBtn = (label, page, className = '') => {\n    const btn = document.createElement('button');\n    btn.className = className;\n    btn.textContent = label;\n    btn.dataset.page = page;\n    return btn;\n  };\n\n  if (mode === 'full') {\n    for (let i = 1; i <= totalPages; i++) {\n      const btn = createBtn(i, i, pageClass);\n      if (i === currentPage) btn.classList.add(activeClass);\n      container.appendChild(btn);\n    }\n  } else if (mode === 'neighbors') {\n    let pages = [];\n\n    if (totalPages <= 3) {\n      pages = Array.from({ length: totalPages }, (_, i) => i + 1);\n    } else if (currentPage === 1) {\n      pages = [1, 2, 3];\n    } else if (currentPage === totalPages) {\n      pages = [totalPages - 2, totalPages - 1, totalPages];\n    } else {\n      pages = [currentPage - 1, currentPage, currentPage + 1];\n    }\n\n    pages.forEach(p => {\n      const btn = createBtn(\n        p,\n        p,\n        `${pageClass} ${p === currentPage ? activeClass : ''}`.trim()\n      );\n      container.appendChild(btn);\n    });\n  }\n\n  container.querySelectorAll('button').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = Number(btn.dataset.page);\n      if (Number.isNaN(page) || page === currentPage) return;\n\n      onPageChange(page);\n\n      if (scrollToTop) {\n        if (scrollTarget) {\n          const el =\n            typeof scrollTarget === 'string'\n              ? document.querySelector(scrollTarget)\n              : scrollTarget;\n\n          if (el) {\n            el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        } else {\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n      }\n    });\n  });\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { renderPaginationUniversal } from './pagination.js';\nimport { REFS } from './constants.js';\nimport { injectSchemaExercises } from './seo-function.js';\n\nconst api = new YourEnergyAPI();\n\nfunction getPageLimit() {\n  return window.innerWidth < 768 ? 8 : 10;\n}\n\nlet currentPage = 1;\nlet currentTotalPages = 1;\n\nexport async function initExercisesList() {\n  const listEl = REFS.exercisesList;\n  if (!listEl) return;\n\n  await loadExercisesList({ page: 1 });\n}\n\nexport async function loadExercisesList({ page = 1, keyword = '' } = {}) {\n  const listEl = REFS.exercisesList;\n  if (!listEl) return;\n\n  const limit = getPageLimit();\n\n  const { type, filter } = getTypeAndFilterFromUI();\n  const params = buildExercisesParams({ page, limit, type, filter, keyword });\n\n  try {\n    const data = await api.getExercises(params);\n    const items = data.results || [];\n    injectSchemaExercises(data);\n    currentPage = data.page || page;\n    currentTotalPages = data.totalPages || 1;\n\n    renderExercisesList(listEl, items);\n    renderExercisesPagination(currentPage, currentTotalPages);\n  } catch (err) {\n    console.error('Failed to load exercises:', err);\n    showError(err.message || 'Failed to load exercises. Try again later.');\n\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>Failed to load exercises. Try again later.</p>\n      </li>\n    `;\n  }\n}\n\nfunction getTypeAndFilterFromUI() {\n  const urlParams = new URLSearchParams(window.location.search);\n\n  const typeFromUrl = urlParams.get('type') || urlParams.get('tab');\n\n  const activeTab =\n    REFS.exercisesActiveTab?.dataset.tab || typeFromUrl || 'body-parts';\n\n  const filterFromUrl = urlParams.get('filter');\n  const fallbackFilter = getDefaultFilterForType(activeTab);\n\n  return {\n    type: activeTab,\n    filter: filterFromUrl || fallbackFilter,\n  };\n}\n\nfunction getDefaultFilterForType(type) {\n  switch (type) {\n    case 'muscles':\n      return 'abs';\n    case 'equipment':\n      return 'body weight';\n    case 'body-parts':\n    default:\n      return 'waist';\n  }\n}\n\nfunction buildExercisesParams({ page, limit, type, filter, keyword }) {\n  const params = { page, limit };\n\n  if (keyword) params.keyword = keyword;\n\n  switch (type) {\n    case 'body-parts':\n      params.bodypart = filter;\n      break;\n    case 'muscles':\n      params.muscles = filter;\n      break;\n    case 'equipment':\n      params.equipment = filter;\n      break;\n    default:\n      params.bodypart = filter;\n  }\n\n  return params;\n}\n\nfunction renderExercisesList(listEl, items) {\n  if (!items.length) {\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>No exercises found.</p>\n      </li>\n    `;\n    return;\n  }\n\n  const markup = items.map(createExerciseCardMarkup).join('');\n  listEl.innerHTML = markup;\n}\n\nfunction createExerciseCardMarkup(item) {\n  const { name, burnedCalories, bodyPart, target, rating } = item;\n\n  return `\n    <li class=\"exercises__item\">\n      <div class=\"exercises__item-top\">\n        <div class=\"exercises__item-info\">\n          <span class=\"exercises__badge\">Workout</span>\n          <div class=\"exercises__rating\">\n            <span class=\"exercises__meta-key\">${rating}</span>\n            <span class=\"exercises__meta-value\">\n              <svg class=\"star\"></svg>\n            </span>\n          </div>\n        </div>\n\n        <button\n          type=\"button\"\n          class=\"exercises__start-btn js-open-exercise\"\n          data-modal=\"exercise\"\n          data-exercise-id=\"${item._id}\"\n        >\n          Start\n          <svg class=\"arrow__icon\"></svg>\n        </button>\n      </div>\n\n      <div class=\"exercises__name-container\">\n        <svg class=\"exercises__icon\"></svg>\n        <h3 class=\"exercises__name\">${name}</h3>\n      </div>\n\n      <div class=\"exercises__item-bottom\">\n        <p class=\"exercises__meta\">\n          <span class=\"exercises__meta-label\">Burned calories:</span>\n          <span class=\"exercises__meta-value\">${burnedCalories}</span>\n        </p>\n        <p class=\"exercises__meta\">\n          <span class=\"exercises__meta-label\">Body part:</span>\n          <span class=\"exercises__meta-value\">${bodyPart}</span>\n        </p>\n        <p class=\"exercises__meta\">\n          <span class=\"exercises__meta-label\">Target:</span>\n          <span class=\"exercises__meta-value\">${target}</span>\n        </p>\n      </div>\n    </li>\n  `;\n}\n\nexport function renderExercisesPagination(currentPage, totalPages) {\n  const container = REFS.exercisesPagination;\n\n  renderPaginationUniversal({\n    container,\n    currentPage,\n    totalPages,\n    mode: 'neighbors',\n    classes: {\n      page: 'exercises__page',\n      active: 'active',\n    },\n    onPageChange(page) {\n      loadExercisesList({ page });\n    },\n  });\n}\n","// export function initExercisesTabs() {\n//   const tabs = document.querySelectorAll('.exercises__tab');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n//     });\n//   });\n// }\n\n\n\n\n// src/js/exercises-tabs.js\n// import { loadExercisesList } from './exercises-list.js';\n\n// export function initExercisesTabs() {\n//   const tabsContainer = document.querySelector('.js-exercises-tabs');\n//   if (!tabsContainer) return;\n\n//   const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n//   const searchInput = document.querySelector('.exercises__search-input');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       // 1. Ð¼Ñ–Ð½ÑÑ”Ð¼Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¸Ð¹ Ñ‚Ð°Ð±\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n\n//       // 2. Ð¼Ð¾Ð¶ÐµÐ¼Ð¾ Ð²Ñ€Ð°Ñ…Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ð¸Ð¹ Ð¿Ð¾ÑˆÑƒÐºÐ¾Ð²Ð¸Ð¹ Ð·Ð°Ð¿Ð¸Ñ‚, ÑÐºÑ‰Ð¾ Ñ”\n//       const keyword = searchInput ? searchInput.value.trim() : '';\n\n//       // 3. Ñ‚ÑÐ³Ð½ÐµÐ¼Ð¾ Ð½Ð¾Ð²Ñ– Ð²Ð¿Ñ€Ð°Ð²Ð¸ Ð¿Ñ–Ð´ Ñ†ÐµÐ¹ Ñ‚Ð°Ð±\n//       loadExercisesList({ page: 1, keyword });\n//     });\n//   });\n// }\n\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesTabs() {\n  const tabsContainer = document.querySelector('.js-exercises-tabs');\n  if (!tabsContainer) return;\n\n  const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n  const searchInput = document.querySelector('.exercises__search-input');\n\n  tab.addEventListener('click', () => {\n    document.getElementById('categories-section')?.classList.add('hidden');\n    document.getElementById('exercises-section')?.classList.remove('hidden');\n\n    loadExercisesList({ page: 1 });\n  });\n}\n","import iziToast from 'izitoast';\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesSearch() {\n  const searchInput = document.querySelector('.filters__input');\n  const searchBtn = document.querySelector('.filters__search-btn');\n  const clearBtn = document.querySelector('.filters__clear-btn');\n\n  if (!searchInput || !searchBtn) return;\n\n  const runSearch = () => {\n    const query = searchInput.value.trim();\n\n    if (!query) {\n      iziToast.warning({\n        title: 'Attention',\n        message: 'Enter a search query',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    loadExercisesList({ page: 1, keyword: query });\n  };\n\n  searchBtn.addEventListener('click', runSearch);\n\n  searchInput.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      runSearch();\n    }\n  });\n\n  if (clearBtn) {\n    clearBtn.addEventListener('click', () => {\n      searchInput.value = '';\n      searchInput.focus();\n\n      loadExercisesList({ page: 1, keyword: '' });\n    });\n  }\n}\n","import 'izitoast/dist/css/iziToast.min.css';\n\nimport './js/quote-of-the-day.js';\n\nimport './js/favorites-btn.js';\nimport './js/favorites-page.js';\n\nimport './js/categories.js';\n\nimport './js/mobile-menu.js';\nimport './js/filters.js';\nimport './js/footer.js';\nimport './js/scroll-up.js';\nimport { cancelLoader } from './js/loader.js';\nimport { registerModalType, initModalButtons } from './js/modal-template.js';\nimport { MODAL_TYPES } from './js/constants.js';\nimport {\n  getRatingModalContent,\n  initRatingModal,\n} from './js/modal-rating-content.js';\nimport { initExercisesTabs } from './js/exercises-tabs.js';\nimport { initExercisesList } from './js/exercises-list.js';\n// import { renderPagination } from './js/categories.js';\nimport { initExercisesSearch } from './js/exercises-search.js';\n\n// Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ Ð¿Ð¾ÑˆÑƒÐºÑƒ\n// ref.searchButton.addEventListener('click', onSearch);\n// ref.loadMoreButton.addEventListener('click', loadMore);\n\n// if (document.readyState === 'loading') {\ndocument.addEventListener('DOMContentLoaded', () => {\n  setTimeout(() => cancelLoader(), 200);\n  initModals();\n});\n// } else {\n//   cancelLoader();\n//   initModals();\n// }\n\nfunction initModals() {\n  registerModalType(MODAL_TYPES.RATING, getRatingModalContent, initRatingModal);\n  // registerModalType(MODAL_TYPES.EXERCISE, getExerciseModalContent, initExerciseModal);\n\n  initModalButtons();\n}\n\ninitExercisesTabs();\n// initExercisesList();\n// renderPagination();\ninitExercisesSearch();\ndocument.addEventListener('DOMContentLoaded', () => {\n  initExercisesList();\n});\n"],"names":["CONFIG","COLORS","API_ENDPOINTS","REGEX","VALIDATION","TOAST","SEO","MODAL_TYPES","ERROR_MESSAGES","REFS","YourEnergyAPI","baseURL","axios","response","error","errorMessage","_b","_a","method","url","data","params","config","message","id","defaultOptions","showSuccess","iziToast","showError","fetchApi","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","addTextContent","fetchGetExercisesQuote","resp","newQuote","quoteData","err","content","FAVORITES_KEY","getFavorites","saveFavorites","favoritesArray","removeFavorite","updated","item","renderEmptyMessage","renderFavorites","arr","card","favorites","injectSchema","schemaData","index","updateSchemaScript","injectSchemaExercises","ex","capitalize","schemaId","script","str","PAGE_LIMIT","activeFilter","activePage","getCategories","filter","page","limit","renderCards","renderPagination","items","container","currentPage","totalPages","i","pageNum","btn","menu","openMenuBtn","closeMenuBtn","toggleMenu","e","tabsContainer","searchBox","subtitle","isDesktop","updateUIForFilter","desktop","tab","isActive","activeBtn","searchInput","clearBtn","toggleClear","form","emailInput","messageEl","emailPattern","event","email","scrollUpButton","smoothScrollToTop","duration","start","startTime","scrollStep","currentTime","elapsed","progress","ease","ref","cancelLoader","refs","isInitialized","modalTypes","registerModalType","type","getContentFn","initFn","initRefs","initModalButtons","button","modalType","getContent","init","openModal","closeModal","handleEscape","handleBackdropClick","handleCloseButtonClick","isConfirmModalOpen","confirmModal","confirmModalRefs","confirmCallback","cancelCallback","initConfirmRefs","modal","handleCancel","_c","handleConfirm","_d","_e","_f","callback","closeConfirmModal","openConfirmModal","onConfirm","onCancel","api","checkFormFilledFn","getRatingModalContent","existingRatingModal","clonedModal","updateElementIds","initRatingModalButtons","exerciseId","element","elementsWithId","timestamp","el","oldId","label","clearRatingForm","modalBody","ratingModal","ratingInput","ratingText","commentTextarea","stars","star","handleRatingModalClose","closeModalFn","initRatingModal","cancelBtn","submitBtn","currentRating","isFormValid","updateSubmitButton","updateStars","rating","input","backdrop","handleEscapeCapture","cleanup","backdropClickHandler","closeBtn","closeBtnHandler","handleClose","formData","comment","renderPaginationUniversal","onPageChange","mode","showArrows","classes","icons","scrollToTop","scrollTarget","pageClass","activeClass","arrowClass","createBtn","className","pages","_","p","getPageLimit","currentTotalPages","initExercisesList","loadExercisesList","keyword","listEl","getTypeAndFilterFromUI","buildExercisesParams","renderExercisesList","renderExercisesPagination","urlParams","typeFromUrl","activeTab","filterFromUrl","fallbackFilter","getDefaultFilterForType","markup","createExerciseCardMarkup","name","burnedCalories","bodyPart","target","initExercisesTabs","initExercisesSearch","searchBtn","runSearch","query","initModals"],"mappings":"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"}