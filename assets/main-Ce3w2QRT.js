import{a as Be,i as ee}from"./vendor-3BNOZKAJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Pe={BASE_API_URL:"https://your-energy.b.goit.study/api",DEV_HOST:"127.0.0.1",DEV_PORT:"3000",BASE_PATH:"/your-energy/"},S={WHITE:"#fff",BLACK:"#000",GRAY_LIGHT:"#808080"},q={FILTERS:"/filters",EXERCISES:"/exercises",QUOTE:"/quote",SUBSCRIPTION:"/subscription"},De={EMAIL:/^[^\s@]+@[^\s@]+\.[^\s@]+$/},M={EMAIL_REGEX:De.EMAIL,RATING_MIN:1,RATING_MAX:5},I={POSITION:{TOP_RIGHT:"topRight",TOP_LEFT:"topLeft",TOP_CENTER:"topCenter",BOTTOM_RIGHT:"bottomRight",BOTTOM_LEFT:"bottomLeft",BOTTOM_CENTER:"bottomCenter"},TIMEOUT:{SHORT:2e3,DEFAULT:4e3,LONG:6e3},TRANSITION:{IN:"fadeInLeft",OUT:"fadeOutRight"},TITLE:{SUCCESS:"OK",ERROR:"Error",INFO:"Info",WARNING:"Warning"},ICON:{SUCCESS:"icon-check",ERROR:"icon-error",INFO:"icon-info",WARNING:"icon-warning"}},v={SCHEMA_CONTEXT:"https://schema.org",SCHEMA_TYPES:{ITEM_LIST:"ItemList",LIST_ITEM:"ListItem",EXERCISE_PLAN:"ExercisePlan"},JSON_LD_TYPE:"application/ld+json"},He={RATING:"rating",EXERCISE:"exercise"},b={API_ERROR:"Something went wrong",EMAIL_REQUIRED:"Valid email is required",RATING_RANGE:`Rating must be between ${M.RATING_MIN} and ${M.RATING_MAX}`,EXERCISE_ID_REQUIRED:"Exercise ID is required"},T={modalBody:document.querySelector("[data-modal-body]"),favoritesBtn:document.querySelector(".favorites-btn"),favoritesList:document.querySelector(".favorites-list"),exercisesList:document.querySelector(".js-exercises-list"),exercisesActiveTab:document.querySelector(".exercises__tab--active"),exercisesPagination:document.querySelector(".js-exercises-pagination"),modalTemplate:document.getElementById("modal-template"),modalCloseBtn:document.querySelector(".modal-template__close-btn"),modalBackdrop:document.querySelector(".modal-template__backdrop"),exerciseModal:document.querySelector(".exercise-modal"),exerciseTrigger:document.querySelector('[data-modal="exercise"]')};class Q{constructor(t=Pe.BASE_API_URL){this.baseURL=t,this.axios=Be.create({baseURL:this.baseURL}),this.axios.interceptors.response.use(n=>n,n=>{var r,o;const s=((o=(r=n.response)==null?void 0:r.data)==null?void 0:o.message)||n.message||b.API_ERROR;return console.error("API Error:",s),Promise.reject(n)})}async _request(t,n,s=null,r=null){var o,a;try{const i={method:t,url:n};return s&&(i.data=s),r&&(i.params=r),(await this.axios(i)).data}catch(i){const c=((a=(o=i.response)==null?void 0:o.data)==null?void 0:a.message)||i.message;throw new Error(`${t.toUpperCase()} ${n} failed: ${c}`)}}async getFilters(t={}){return this._request("get",q.FILTERS,null,t)}async getExercises(t={}){return this._request("get",q.EXERCISES,null,t)}async getExerciseById(t){if(!t)throw new Error(b.EXERCISE_ID_REQUIRED);return this._request("get",`${q.EXERCISES}/${t}`)}async getQuote(){return this._request("get",q.QUOTE)}async subscribe(t){if(!t.email||!M.EMAIL_REGEX.test(t.email))throw new Error(b.EMAIL_REQUIRED);return this._request("post",q.SUBSCRIPTION,t)}async rateExercise(t,n){if(!t)throw new Error(b.EXERCISE_ID_REQUIRED);if(!n.rate||n.rate<M.RATING_MIN||n.rate>M.RATING_MAX)throw new Error(b.RATING_RANGE);if(!n.email||!M.EMAIL_REGEX.test(n.email))throw new Error(b.EMAIL_REQUIRED);return this._request("patch",`${q.EXERCISES}/${t}/rating`,n)}}const Ie={position:I.POSITION.TOP_RIGHT,timeout:I.TIMEOUT.DEFAULT,close:!0,closeOnEscape:!0,pauseOnHover:!0,progressBar:!0,progressBarColor:S.GRAY_LIGHT,transitionIn:I.TRANSITION.IN,transitionOut:I.TRANSITION.OUT,fontFamily:"inherit",icon:""},$e=e=>{ee.show({...Ie,title:I.TITLE.SUCCESS,message:e,backgroundColor:S.BLACK,titleColor:S.WHITE,messageColor:S.WHITE,icon:I.ICON.SUCCESS,iconColor:S.WHITE})},x=e=>{ee.show({...Ie,title:I.TITLE.ERROR,message:e,backgroundColor:S.BLACK,titleColor:S.WHITE,messageColor:S.GRAY_LIGHT,progressBarColor:S.WHITE,icon:I.ICON.ERROR,iconColor:S.WHITE})},Fe=new Q,D={content:document.querySelector(".js-quote-content"),author:document.querySelector(".js-quote-author")};function Ue(){const e=localStorage.getItem("quoteData");if(e){const{quote:t,author:n,date:s}=JSON.parse(e),r=new Date(s),o=new Date;if(r.getDate()===o.getDate()){Te(t,n);return}}Ge()}Ue();async function Ge(){try{const e=await Fe.getQuote(),{quote:t,author:n}=e,s={quote:t,author:n,date:new Date};localStorage.setItem("quoteData",JSON.stringify(s)),Te(t,n)}catch(e){x(e.message||b.API_ERROR)}}function Te(e,t){D.content&&(D.content.textContent=e),D.author&&(D.author.textContent=t)}const Ce="favorites";function te(){const e=localStorage.getItem(Ce);return e?JSON.parse(e):[]}function Xe(e){localStorage.setItem(Ce,JSON.stringify(e))}function Ye(e){const n=te().filter(s=>s.id!==e);Xe(n)}function Re(){T.favoritesList.innerHTML=`
    <div class="favorites-empty">
      <p>It appears that you havenâ€™t added any exercises to your favorites yet.</p>
      <p>To get started, you can add exercises that you like to your favorites for easier access in the future.</p>
    </div>`}function xe(e){T.favoritesList.innerHTML="",e.forEach(t=>{const n=document.createElement("div");n.classList.add("favorite-card"),n.dataset.id=t.id,n.innerHTML=`
      <img src="${t.gifUrl}" alt="${t.name}" class="favorite-img">
      <h3 class="favorite-title">${t.name}</h3>
      <p class="favorite-info"><b>Target:</b> ${t.target}</p>
      <p class="favorite-info"><b>Body part:</b> ${t.bodyPart}</p>
      <p class="favorite-info"><b>Equipment:</b> ${t.equipment}</p>

      <button class="delete-btn" data-id="${t.id}">ðŸ—‘</button>
    `,T.favoritesList.appendChild(n),n.querySelector(".delete-btn").addEventListener("click",()=>{Ye(t.id);const r=te();r.length?xe(r):Re()})})}const pe=te();T.favoritesList&&(pe.length?xe(pe):Re());function Ee(e){if(!e||!e.results)return;const t={"@context":v.SCHEMA_CONTEXT,"@type":v.SCHEMA_TYPES.ITEM_LIST,itemListElement:e.results.map((n,s)=>({"@type":v.SCHEMA_TYPES.LIST_ITEM,position:s+1,item:{"@type":v.SCHEMA_TYPES.EXERCISE_PLAN,name:n.name,filter:n.filter,image:n.imgURL}}))};Ae("filters",t)}function We(e){if(!e||!e.results||e.results.length===0)return;const t={"@context":v.SCHEMA_CONTEXT,"@type":v.SCHEMA_TYPES.ITEM_LIST,itemListElement:e.results.map((n,s)=>({"@type":v.SCHEMA_TYPES.LIST_ITEM,position:s+1,item:{"@type":v.SCHEMA_TYPES.EXERCISE_PLAN,name:Qe(n.name),description:n.description,image:n.gifUrl,audience:{"@type":"PeopleAudience",suggestedGender:"unisex"},category:n.target,keywords:`${n.bodyPart}, ${n.equipment}, fitness`}}))};Ae("detailed-exercises",t)}function Ae(e,t){let n=document.querySelector(`script[data-schema="${e}"]`);n||(n=document.createElement("script"),n.type=v.JSON_LD_TYPE,n.setAttribute("data-schema",e),document.head.appendChild(n)),n.textContent=JSON.stringify(t)}function Qe(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}const je=new Q,ne=window.innerWidth<768?9:12;let X="Muscles",N=1;async function qe(e=X,t=1,n=ne){X=e,N=t;try{const s={filter:e,page:t,limit:n},r=await je.getFilters(s);if(!r)return x("Data is empty");ze(r.results||[]),Je(N,r.totalPages||1),typeof Ee=="function"&&Ee(r)}catch(s){console.error("getCategories error:",s),x((s==null?void 0:s.message)||"Something went wrong")}}function ze(e){const t=document.getElementById("cards-container");t&&(t.innerHTML="",e.forEach(n=>{const s=document.createElement("div");s.className="card",s.innerHTML=`
      <img src="${n.imgURL}" alt="${n.name}" />
      <div class="card-body">
        <h3>${n.name}</h3>
        <span class="card-filter">${n.filter}</span>
      </div>
    `,t.appendChild(s)}))}function Je(e,t){const n=document.getElementById("pagination");if(n){n.innerHTML="";for(let s=1;s<=t;s++){const r=s,o=document.createElement("button");o.textContent=r,o.className="pagination-page",o.setAttribute("data-page",r),r===e&&o.classList.add("active"),o.addEventListener("click",()=>{r!==N&&(N=r,qe(X,r,ne),window.scrollTo({top:0,behavior:"smooth"}))}),n.appendChild(o)}}}qe(X,N,ne);(()=>{const e={openMenuBtn:document.querySelector("[data-menu-open]"),closeMenuBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]")};if(!e.openMenuBtn||!e.menu||!e.closeMenuBtn)return;const t=()=>{e.menu.classList.toggle("is-open"),document.body.classList.toggle("menu-open")};e.openMenuBtn.addEventListener("click",t),e.closeMenuBtn.addEventListener("click",t),window.matchMedia("(min-width: 768px)").addEventListener("change",n=>{n.matches&&(e.menu.classList.remove("is-open"),document.body.classList.remove("menu-open"))})})();const H=document.querySelector("[data-filters-tabs]"),$=document.querySelector(".filters__search"),J=document.querySelector(".filters__subtitle"),Ve=()=>window.matchMedia("(min-width: 1440px)").matches;if(H&&$&&J){const e=n=>{const s=Ve();n==="bodypart"?(J.textContent=" / Waist",$.classList.add("filters__search--visible")):(J.textContent="",$.classList.remove("filters__search--visible"))};H.addEventListener("click",n=>{const s=n.target.closest(".filters__tab");s&&(H.querySelectorAll(".filters__tab").forEach(r=>{const o=r===s;r.classList.toggle("filters__tab--active",o),r.setAttribute("aria-selected",o?"true":"false")}),e(s.dataset.filter))});const t=H.querySelector(".filters__tab--active");t&&e(t.dataset.filter)}const k=document.querySelector(".filters__input"),F=document.querySelector(".filters__clear-btn");if(k&&F){const e=()=>{k.value.trim()?F.classList.add("filters__clear-btn--visible"):F.classList.remove("filters__clear-btn--visible")};k.addEventListener("input",e),F.addEventListener("click",()=>{k.value="",k.focus(),e()}),e()}const re=document.querySelector(".footer__form"),ge=re.querySelector(".footer__input"),g=re.querySelector(".footer__message"),Ke=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/;re.addEventListener("submit",async e=>{e.preventDefault();const t=ge.value.trim();if(!Ke.test(t)){g.textContent="Please enter a valid email.",g.classList.remove("footer__message--success"),g.classList.add("footer__message--error");return}try{const n=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(n.ok)g.textContent="Subscription successful!",g.classList.remove("footer__message--error"),g.classList.add("footer__message--success"),ge.value="";else{const s=await n.json();g.textContent=s.message||"Subscription failed.",g.classList.remove("footer__message--success"),g.classList.add("footer__message--error")}}catch{g.textContent="Network error. Try again later.",g.classList.remove("footer__message--success"),g.classList.add("footer__message--error")}});const U=document.querySelector(".scroll-up-btn");if(U){let e=function(t=1e3){const n=window.scrollY,s=performance.now();function r(o){const a=o-s,i=Math.min(a/t,1),c=1-Math.pow(1-i,3);window.scrollTo(0,n*(1-c)),i<1&&requestAnimationFrame(r)}requestAnimationFrame(r)};window.addEventListener("scroll",()=>{window.scrollY>300?U.classList.add("show"):U.classList.remove("show")}),U.addEventListener("click",t=>{t.preventDefault(),e()})}const G={loaderOverlay:document.getElementById("loader-overlay"),loaderBg:document.getElementById("bg-loader")};function Ze(){G.loaderOverlay&&G.loaderOverlay.classList.add("hidden"),G.loaderBg&&G.loaderBg.classList.remove("bg-loader")}let u=null,ye=!1;const K={};function et(e,t,n){K[e]={getContent:t,init:n}}function Y(){ye||(u={modal:document.getElementById("modal-template"),backdrop:document.querySelector("[data-modal-close]"),closeBtn:document.querySelector(".modal-template__close-btn"),body:document.querySelector("[data-modal-body]")},ye=!0)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Y()}):Y();function tt(){document.querySelectorAll("[data-modal]").forEach(t=>{if(t.hasAttribute("data-modal-initialized"))return;const n=t.getAttribute("data-modal");if(!K[n]){console.warn(`Modal type "${n}" is not registered`);return}t.addEventListener("click",()=>{const{getContent:s,init:r}=K[n],o=s();if(!o){console.error(`Failed to get content for modal type "${n}"`);return}nt(o),r&&setTimeout(async()=>{try{await r(j)}catch(a){console.error("Error initializing modal:",a)}},100)}),t.setAttribute("data-modal-initialized","true")})}function nt(e){var t,n;if(Y(),!u||!u.modal||!u.body){console.error("Modal template elements not found");return}if(typeof e=="string")u.body.innerHTML=e;else if(e instanceof HTMLElement)u.body.innerHTML="",u.body.appendChild(e);else{console.error("Invalid content type. Expected string or HTMLElement");return}u.modal.classList.remove("hidden"),document.body.classList.add("modal-open"),document.addEventListener("keydown",Me,{once:!1}),(t=u.backdrop)==null||t.addEventListener("click",we),(n=u.closeBtn)==null||n.addEventListener("click",Oe)}function j(){var e,t;Y(),!(!u||!u.modal)&&(u.modal.classList.add("hidden"),document.body.classList.remove("modal-open"),document.removeEventListener("keydown",Me),(e=u.backdrop)==null||e.removeEventListener("click",we),(t=u.closeBtn)==null||t.removeEventListener("click",Oe),u&&u.body&&(u.body.innerHTML=""))}function se(){const e=document.getElementById("modal-confirm");return e&&!e.classList.contains("hidden")}function Me(e){if(e.key==="Escape"){if(se())return;j()}}function we(e){if(e.target===u.backdrop){if(se())return;j()}}function Oe(){se()||j()}let m=null,oe=null,ae=null;function Z(){var t,n,s,r,o,a;if(m)return;const e=document.getElementById("modal-confirm");if(!e){console.error("Confirm modal not found");return}m={modal:e,backdrop:e.querySelector("[data-confirm-close]"),message:e.querySelector("[data-confirm-message]"),cancelBtn:e.querySelector("[data-confirm-cancel]"),confirmBtn:e.querySelector("[data-confirm-ok]")},(t=m.backdrop)==null||t.removeEventListener("click",_e,{capture:!0}),(n=m.cancelBtn)==null||n.removeEventListener("click",W,{capture:!0}),(s=m.confirmBtn)==null||s.removeEventListener("click",Se,{capture:!0}),(r=m.backdrop)==null||r.addEventListener("click",_e,{capture:!0}),(o=m.cancelBtn)==null||o.addEventListener("click",W,{capture:!0}),(a=m.confirmBtn)==null||a.addEventListener("click",Se,{capture:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Z):Z();function rt(e){e.key==="Escape"&&m&&!m.modal.classList.contains("hidden")&&W()}function _e(e){e.target===m.backdrop&&(e.stopPropagation(),e.preventDefault(),W(e))}function W(e){e&&(e.stopPropagation(),e.preventDefault());const t=ae;ke(),t&&t()}function Se(e){e&&(e.stopPropagation(),e.preventDefault());const t=oe;ke(),setTimeout(()=>{t&&t()},0)}function st(e,t,n=null){if(Z(),!m||!m.modal){console.error("Confirm modal elements not found");return}oe=t,ae=n,m.message&&(m.message.textContent=e),m.modal.classList.remove("hidden"),document.addEventListener("keydown",rt,{once:!0})}function ke(){!m||!m.modal||(m.modal.classList.add("hidden"),oe=null,ae=null)}const ot=new Q;let R=null;function at(){const e=document.querySelector(".rating-modal");if(!e)return console.error("Rating modal HTML not found. Make sure modal-rating.html is loaded via <load> tag."),null;const t=e.cloneNode(!0);return it(t),t}function ve(){document.addEventListener("click",function(e){const t=e.target.closest('[data-modal="rating"]');if(t){const n=t.getAttribute("data-exercise-id");n&&sessionStorage.setItem("ratingModalExerciseId",n)}},{capture:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ve):ve();function it(e){const t=e.querySelectorAll("[id]"),n=Date.now();t.forEach(s=>{const r=s.id;s.id=`${r}-${n}`,e.querySelectorAll(`label[for="${r}"]`).forEach(a=>{a.setAttribute("for",s.id)})})}function Le(){const e=document.querySelector("[data-modal-body]"),t=e==null?void 0:e.querySelector(".rating-modal");if(!t)return;const n=t.querySelector(".rating-modal__form"),s=t.querySelector('input[name="rating"]'),r=t.querySelector(".rating-modal__rating-text"),o=t.querySelector('input[name="email"]'),a=t.querySelector('textarea[name="comment"]'),i=t.querySelectorAll(".rating-star");n&&n.reset(),s&&(s.value="0"),o&&(o.value=""),a&&(a.value=""),r&&(r.textContent=""),i.forEach(c=>{c.classList.remove("active")})}function V(e){R&&R()?st("Are you sure you want to cancel your exercise review?",()=>{Le(),R=null,e()},()=>{}):(Le(),R=null,e())}function ct(e){var ue;R=null;const t=document.querySelector("[data-modal-body]"),n=t==null?void 0:t.querySelector(".rating-modal");if(!t||!n){console.error("Modal body or rating modal not found");return}let s=sessionStorage.getItem("ratingModalExerciseId")||((ue=document.querySelector('[data-modal="rating"][data-exercise-id]'))==null?void 0:ue.getAttribute("data-exercise-id"));if(s&&sessionStorage.removeItem("ratingModalExerciseId"),!s){x("Exercise ID is missing");return}const r=n.querySelectorAll(".rating-star"),o=n.querySelector('input[name="rating"]'),a=n.querySelector(".rating-modal__rating-text"),i=n.querySelector(".rating-modal__btn--cancel"),c=n.querySelector('.rating-modal__btn[type="submit"]'),p=n.querySelector('input[name="email"]'),y=n.querySelector('textarea[name="comment"]'),C=n.querySelector(".rating-modal__form");let w=0;c&&(c.disabled=!0),o&&(o.value="0"),a&&(a.textContent="0");const O=()=>w>0&&w<=5&&(p==null?void 0:p.value.trim())!==""&&(y==null?void 0:y.value.trim())!=="",l=()=>{c&&(c.disabled=!O())};R=()=>w>0||(p==null?void 0:p.value.trim())!==""||(y==null?void 0:y.value.trim())!=="";const _=d=>{r.forEach((L,h)=>{h+1<=d?L.classList.add("active"):L.classList.remove("active")})};r.forEach((d,L)=>{const h=L+1;d.addEventListener("click",()=>{w=h,_(h),o&&(o.value=h),a&&(a.textContent=h),l()})}),[p,y].forEach(d=>{d&&d.addEventListener("input",l)});const E=document.querySelector("[data-modal-close]"),z=()=>{const d=document.getElementById("modal-confirm");return d&&!d.classList.contains("hidden")},ie=d=>{if(d.key==="Escape"){if(z())return;d.stopPropagation(),V(()=>{P(),e()})}},ce=d=>{if(d.target===E){if(z())return;d.stopPropagation(),V(()=>{P(),e()})}},P=()=>{document.removeEventListener("keydown",ie,{capture:!0}),E==null||E.removeEventListener("click",ce,{capture:!0}),A==null||A.removeEventListener("click",le,{capture:!0})},A=document.querySelector(".modal-template__close-btn"),le=d=>{z()||(d.stopPropagation(),de())};document.addEventListener("keydown",ie,{capture:!0}),E==null||E.addEventListener("click",ce,{capture:!0}),A==null||A.addEventListener("click",le,{capture:!0});const de=()=>{V(()=>{P(),e()})};i&&e&&i.addEventListener("click",()=>{de()}),C&&(C.setAttribute("data-no-auto-close","true"),C.addEventListener("submit",async d=>{if(d.preventDefault(),!O()){x("Please fill in all fields");return}const L=new FormData(C),h=parseInt(L.get("rating"),10),me=L.get("email").trim(),Ne=L.get("comment").trim();c&&(c.disabled=!0,c.textContent="Sending...");try{await ot.rateExercise(s,{rate:h,email:me,review:Ne}),$e("Thank you for your feedback!"),R=null,setTimeout(()=>{e&&(P(),e())},1e3)}catch(fe){console.error("Failed to submit rating:",fe),x(fe.message||b.API_ERROR),c&&(c.disabled=!1,c.textContent="Send")}}))}function lt({container:e,currentPage:t,totalPages:n,onPageChange:s,mode:r="full",showArrows:o=!1,classes:a={},icons:i={},scrollToTop:c=!0,scrollTarget:p=null}){if(!e)return;e.innerHTML="";const{page:y="",active:C="active",arrow:w=""}=a,O=(l,f,_="")=>{const E=document.createElement("button");return E.className=_,E.textContent=l,E.dataset.page=f,E};if(r==="full")for(let l=1;l<=n;l++){const f=O(l,l,y);l===t&&f.classList.add(C),e.appendChild(f)}else if(r==="neighbors"){let l=[];n<=3?l=Array.from({length:n},(f,_)=>_+1):t===1?l=[1,2,3]:t===n?l=[n-2,n-1,n]:l=[t-1,t,t+1],l.forEach(f=>{const _=O(f,f,`${y} ${f===t?C:""}`.trim());e.appendChild(_)})}e.querySelectorAll("button").forEach(l=>{l.addEventListener("click",()=>{const f=Number(l.dataset.page);if(!(Number.isNaN(f)||f===t)&&(s(f),c))if(p){const _=typeof p=="string"?document.querySelector(p):p;_&&_.scrollIntoView({behavior:"smooth",block:"start"})}else window.scrollTo({top:0,behavior:"smooth"})})})}const dt=new Q;function ut(){return window.innerWidth<768?8:10}let he=1,be=1;async function mt(){T.exercisesList&&await B({page:1})}async function B({page:e=1,keyword:t=""}={}){const n=T.exercisesList;if(!n)return;const s=ut(),{type:r,filter:o}=ft(),a=Et({page:e,limit:s,type:r,filter:o,keyword:t});try{const i=await dt.getExercises(a),c=i.results||[];We(i),he=i.page||e,be=i.totalPages||1,gt(n,c),_t(he,be)}catch(i){console.error("Failed to load exercises:",i),x(i.message||"Failed to load exercises. Try again later."),n.innerHTML=`
      <li class="exercises__item">
        <p>Failed to load exercises. Try again later.</p>
      </li>
    `}}function ft(){var o;const e=new URLSearchParams(window.location.search),t=e.get("type")||e.get("tab"),n=((o=T.exercisesActiveTab)==null?void 0:o.dataset.tab)||t||"body-parts",s=e.get("filter"),r=pt(n);return{type:n,filter:s||r}}function pt(e){switch(e){case"muscles":return"abs";case"equipment":return"body weight";case"body-parts":default:return"waist"}}function Et({page:e,limit:t,type:n,filter:s,keyword:r}){const o={page:e,limit:t};switch(r&&(o.keyword=r),n){case"body-parts":o.bodypart=s;break;case"muscles":o.muscles=s;break;case"equipment":o.equipment=s;break;default:o.bodypart=s}return o}function gt(e,t){if(!t.length){e.innerHTML=`
      <li class="exercises__item">
        <p>No exercises found.</p>
      </li>
    `;return}const n=t.map(yt).join("");e.innerHTML=n}function yt(e){const{name:t,burnedCalories:n,bodyPart:s,target:r,rating:o}=e;return`
    <li class="exercises__item">
      <div class="exercises__item-top">
        <div class="exercises__item-info">
          <span class="exercises__badge">Workout</span>
          <div class="exercises__rating">
            <span class="exercises__meta-key">${o}</span>
            <span class="exercises__meta-value">
              <svg class="star"></svg>
            </span>
          </div>
        </div>

        <button
          type="button"
          class="exercises__start-btn js-open-exercise"
          data-modal="exercise"
          data-exercise-id="${e._id}"
        >
          Start
          <svg class="arrow__icon"></svg>
        </button>
      </div>

      <div class="exercises__name-container">
        <svg class="exercises__icon"></svg>
        <h3 class="exercises__name">${t}</h3>
      </div>

      <div class="exercises__item-bottom">
        <p class="exercises__meta">
          <span class="exercises__meta-label">Burned calories:</span>
          <span class="exercises__meta-value">${n}</span>
        </p>
        <p class="exercises__meta">
          <span class="exercises__meta-label">Body part:</span>
          <span class="exercises__meta-value">${s}</span>
        </p>
        <p class="exercises__meta">
          <span class="exercises__meta-label">Target:</span>
          <span class="exercises__meta-value">${r}</span>
        </p>
      </div>
    </li>
  `}function _t(e,t){const n=T.exercisesPagination;lt({container:n,currentPage:e,totalPages:t,mode:"neighbors",classes:{page:"exercises__page",active:"active"},onPageChange(s){B({page:s})}})}function St(){const e=document.querySelector(".js-exercises-tabs");e&&(e.querySelectorAll(".exercises__tab"),document.querySelector(".exercises__search-input"),tab.addEventListener("click",()=>{var t,n;(t=document.getElementById("categories-section"))==null||t.classList.add("hidden"),(n=document.getElementById("exercises-section"))==null||n.classList.remove("hidden"),B({page:1})}))}function vt(){const e=document.querySelector(".filters__input"),t=document.querySelector(".filters__search-btn"),n=document.querySelector(".filters__clear-btn");if(!e||!t)return;const s=()=>{const r=e.value.trim();if(!r){ee.warning({title:"Attention",message:"Enter a search query",position:"topRight"});return}B({page:1,keyword:r})};t.addEventListener("click",s),e.addEventListener("keydown",r=>{r.key==="Enter"&&(r.preventDefault(),s())}),n&&n.addEventListener("click",()=>{e.value="",e.focus(),B({page:1,keyword:""})})}document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>Ze(),200),Lt()});function Lt(){et(He.RATING,at,ct),tt()}St();vt();document.addEventListener("DOMContentLoaded",()=>{mt()});
//# sourceMappingURL=main-Ce3w2QRT.js.map
