{"version":3,"file":"main-8550evQp.js","sources":["../../src/js/config.js","../../src/js/constants.js","../../src/js/api.js","../../src/js/iziToast-helper.js","../../src/js/quote-of-the-day.js","../../src/js/favorites-btn.js","../../src/js/favorites-page.js","../../src/js/seo-function.js","../../src/js/categories.js","../../src/js/mobile-menu.js","../../src/js/filters.js","../../src/js/footer.js","../../src/js/loader.js","../../src/js/modal-template.js","../../src/js/confirm-modal.js","../../src/js/modal-rating-content.js","../../src/main.js"],"sourcesContent":["export const CONFIG = {\n  BASE_API_URL:\n    import.meta.env.VITE_API_BASE_URL || 'https://your-energy.b.goit.study/api',\n  DEV_HOST: import.meta.env.VITE_DEV_HOST || '127.0.0.1',\n  DEV_PORT: import.meta.env.VITE_DEV_PORT || '3000',\n  BASE_PATH: import.meta.env.VITE_BASE_PATH || '/your-energy/',\n};\n","// Local Storage Keys\nexport const STORAGE_KEYS = {};\n\nexport const COLORS = {\n  WHITE: '#fff',\n  BLACK: '#000',\n  GRAY_LIGHT: '#808080',\n};\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  FILTERS: '/filters',\n  EXERCISES: '/exercises',\n  QUOTE: '/quote',\n  SUBSCRIPTION: '/subscription',\n};\n\n// ========== REGULAR EXPRESSIONS ==========\nexport const REGEX = {\n  EMAIL: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n};\n\n// ========== VALIDATION CONSTANTS ==========\nexport const VALIDATION = {\n  EMAIL_REGEX: REGEX.EMAIL,\n  RATING_MIN: 1,\n  RATING_MAX: 5,\n};\n\n// ========== PAGINATION CONSTANTS ==========\nexport const PAGINATION = {\n  DEFAULT_PAGE: 1,\n  DEFAULT_LIMIT: 12,\n  MIN_LIMIT: 1,\n  MAX_LIMIT: 100,\n};\n\n// ========== TOAST NOTIFICATION CONSTANTS ==========\nexport const TOAST = {\n  POSITION: {\n    TOP_RIGHT: 'topRight',\n    TOP_LEFT: 'topLeft',\n    TOP_CENTER: 'topCenter',\n    BOTTOM_RIGHT: 'bottomRight',\n    BOTTOM_LEFT: 'bottomLeft',\n    BOTTOM_CENTER: 'bottomCenter',\n  },\n\n  TIMEOUT: {\n    SHORT: 2000,\n    DEFAULT: 4000,\n    LONG: 6000,\n  },\n\n  TRANSITION: {\n    IN: 'fadeInLeft',\n    OUT: 'fadeOutRight',\n  },\n\n  TITLE: {\n    SUCCESS: 'OK',\n    ERROR: 'Error',\n    INFO: 'Info',\n    WARNING: 'Warning',\n  },\n\n  ICON: {\n    SUCCESS: 'icon-check',\n    ERROR: 'icon-error',\n    INFO: 'icon-info',\n    WARNING: 'icon-warning',\n  },\n};\n\n// ========== SEO CONSTANTS ==========\nexport const SEO = {\n  SCHEMA_CONTEXT: 'https://schema.org',\n  SCHEMA_TYPES: {\n    ITEM_LIST: 'ItemList',\n    LIST_ITEM: 'ListItem',\n    EXERCISE_PLAN: 'ExercisePlan',\n  },\n  JSON_LD_TYPE: 'application/ld+json',\n};\n\n// ========== MODAL TYPES ==========\nexport const MODAL_TYPES = {\n  RATING: 'rating',\n  EXERCISE: 'exercise',\n};\n\n// ========== ERROR MESSAGES ==========\nexport const ERROR_MESSAGES = {\n  API_ERROR: 'Something went wrong',\n  EMAIL_REQUIRED: 'Valid email is required',\n  RATING_RANGE: `Rating must be between ${VALIDATION.RATING_MIN} and ${VALIDATION.RATING_MAX}`,\n  EXERCISE_ID_REQUIRED: 'Exercise ID is required',\n};\n","import axios from 'axios';\nimport { CONFIG } from './config.js';\nimport { VALIDATION, ERROR_MESSAGES, API_ENDPOINTS } from './constants.js';\n\nexport class YourEnergyAPI {\n  constructor(baseURL = CONFIG.BASE_API_URL) {\n    this.baseURL = baseURL;\n    this.axios = axios.create({\n      baseURL: this.baseURL,\n    });\n\n    // Response interceptor for error handling\n    this.axios.interceptors.response.use(\n      response => response,\n      error => {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          ERROR_MESSAGES.API_ERROR;\n        console.error('API Error:', errorMessage);\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  /**\n   * Generic request handler\n   * @private\n   * @param {string} method - HTTP method\n   * @param {string} url - Endpoint URL\n   * @param {Object|null} data - Request body\n   * @param {Object|null} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async _request(method, url, data = null, params = null) {\n    try {\n      const config = { method, url };\n      if (data) config.data = data;\n      if (params) config.params = params;\n\n      const response = await this.axios(config);\n      return response.data;\n    } catch (error) {\n      const message = error.response?.data?.message || error.message;\n      throw new Error(`${method.toUpperCase()} ${url} failed: ${message}`);\n    }\n  }\n\n  /**\n   * Get filters\n   * @param {Object} params - Query parameters (filter, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getFilters(params = {}) {\n    return this._request('get', API_ENDPOINTS.FILTERS, null, params);\n  }\n\n  /**\n   * Get exercises\n   * @param {Object} params - Query parameters (bodypart, muscles, equipment, keyword, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getExercises(params = {}) {\n    return this._request('get', API_ENDPOINTS.EXERCISES, null, params);\n  }\n\n  async getExerciseById(id) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    return this._request('get', `${API_ENDPOINTS.EXERCISES}/${id}`);\n  }\n\n  /**\n   * Get quote of the day\n   * @returns {Promise<Object>}\n   */\n  async getQuote() {\n    return this._request('get', API_ENDPOINTS.QUOTE);\n  }\n\n  /**\n   * Subscribe to new exercises\n   * @param {Object} data - { email: string }\n   * @returns {Promise<Object>}\n   */\n  async subscribe(data) {\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request('post', API_ENDPOINTS.SUBSCRIPTION, data);\n  }\n\n  /**\n   * Add rating to exercise\n   * @param {string} id - Exercise ID\n   * @param {Object} data - { rate: number, email: string, review: string }\n   * @returns {Promise<Object>}\n   */\n  async rateExercise(id, data) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    if (\n      !data.rate ||\n      data.rate < VALIDATION.RATING_MIN ||\n      data.rate > VALIDATION.RATING_MAX\n    ) {\n      throw new Error(ERROR_MESSAGES.RATING_RANGE);\n    }\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request(\n      'patch',\n      `${API_ENDPOINTS.EXERCISES}/${id}/rating`,\n      data\n    );\n  }\n}\n","import iziToast from 'izitoast';\nimport { COLORS, TOAST } from './constants.js';\n\n// --- –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è ---\nconst defaultOptions = {\n  position: TOAST.POSITION.TOP_RIGHT,\n  timeout: TOAST.TIMEOUT.DEFAULT,\n  close: true,\n  closeOnEscape: true,\n  pauseOnHover: true,\n  progressBar: true,\n  progressBarColor: COLORS.GRAY_LIGHT,\n  transitionIn: TOAST.TRANSITION.IN,\n  transitionOut: TOAST.TRANSITION.OUT,\n  fontFamily: 'inherit',\n  icon: '',\n};\n\n// 1. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –£–°–ü–Ü–• (Success)\nexport const showSuccess = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.SUCCESS,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.WHITE,\n    icon: TOAST.ICON.SUCCESS,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 2. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ü–û–ú–ò–õ–ö–£ (Error)\nexport const showError = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.ERROR,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.GRAY_LIGHT,\n    progressBarColor: COLORS.WHITE,\n    icon: TOAST.ICON.ERROR,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 3. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (Info)\nexport const showInfo = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.INFO,\n    message: message,\n    backgroundColor: COLORS.WHITE,\n    titleColor: COLORS.BLACK,\n    messageColor: COLORS.BLACK,\n    progressBarColor: COLORS.BLACK,\n    borderBottom: `2px solid ${COLORS.BLACK}`,\n  });\n};\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { ERROR_MESSAGES } from './constants.js';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      addTextContent(quoteContent, author);\n      return;\n    }\n  }\n  fetchGetExercisesQuote();\n}\n\ngetQuoteData();\n\nasync function fetchGetExercisesQuote() {\n  try {\n    const resp = await fetchApi.getQuote();\n\n    const { quote: newQuote, author } = resp;\n    const quoteData = { quote: newQuote, author, date: new Date() };\n    localStorage.setItem('quoteData', JSON.stringify(quoteData));\n    addTextContent(newQuote, author);\n  } catch (err) {\n    showError(err.message || ERROR_MESSAGES.API_ERROR);\n  }\n}\n\nfunction addTextContent(content, author) {\n  if (quote.content) {\n    quote.content.textContent = content;\n  }\n  if (quote.author) {\n    quote.author.textContent = author;\n  }\n}\n","const FAVORITES_KEY = 'favorites';\n\n// Get favorites from LocalStorage\nfunction getFavorites() {\n  const data = localStorage.getItem(FAVORITES_KEY);\n  return data ? JSON.parse(data) : [];\n}\n\n// Save favorites to LocalStorage\nfunction saveFavorites(favoritesArray) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favoritesArray));\n}\n\n// Check if an exercise is in favorites\nfunction isFavorite(id) {\n  const favorites = getFavorites();\n  return favorites.some(item => item.id === id);\n}\n\n// Add exercise to favorites\nfunction addFavorite(exerciseObj) {\n  const favorites = getFavorites();\n  favorites.push(exerciseObj);\n  saveFavorites(favorites);\n}\n\n// Remove exercise from favorites\nfunction removeFavorite(id) {\n  const favorites = getFavorites();\n  const updated = favorites.filter(item => item.id !== id);\n  saveFavorites(updated);\n}\n\nconst currentExercise = {};\n\nconst refs = {\n  favoriteBtnElement: null,\n};\n\nfunction initFavoritesBtn(exercise) {\n  refs.favoriteBtnElement = document.querySelector('.favorites-btn');\n\n  if (!refs.favoriteBtnElement) return;\n\n  Object.assign(currentExercise, exercise);\n\n  if (isFavorite(exercise.id)) {\n    refs.favoriteBtnElement.textContent = 'Remove from favorites';\n  } else {\n    refs.favoriteBtnElement.textContent = 'Add to favorites';\n  }\n\n  refs.favoriteBtnElement.onclick = () => {\n    if (isFavorite(exercise.id)) {\n      removeFavorite(exercise.id);\n      refs.favoriteBtnElement.textContent = 'Add to favorites';\n    } else {\n      addFavorite(exercise);\n      refs.favoriteBtnElement.textContent = 'Remove from favorites';\n    }\n  };\n}\n\nexport {\n  getFavorites,\n  saveFavorites,\n  isFavorite,\n  addFavorite,\n  removeFavorite,\n  refs,\n  currentExercise,\n  initFavoritesBtn,\n};\n","import { getFavorites, removeFavorite } from './favorites-btn.js';\n\nconst refs = {\n  quoteContainer: document.querySelector('.favorites-wrapper .quote'),\n  listContainer: document.querySelector('.favorites-list'),\n};\nconst favorites = getFavorites();\n\nif (favorites.length === 0) {\n  refs.listContainer.innerHTML = `\n    <div class=\"favorites-empty\">\n      <p>It appears that you haven‚Äôt added any exercises to your favorites yet.</p>\n      <p>To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\n    </div>`;\n} else {\n  renderFavorites(favorites);\n}\nfunction renderFavorites(favorites) {\n  refs.listContainer.innerHTML = '';\n\n  favorites.forEach(item => {\n    const card = document.createElement('div');\n    card.classList.add('favorite-card');\n    card.setAttribute('data-id', item.id);\n\n    card.innerHTML = `\n      <img src=\"${item.gifUrl}\" alt=\"${item.name}\" class=\"favorite-img\">\n      <h3 class=\"favorite-title\">${item.name}</h3>\n      <p class=\"favorite-info\"><b>Target:</b> ${item.target}</p>\n      <p class=\"favorite-info\"><b>Body part:</b> ${item.bodyPart}</p>\n      <p class=\"favorite-info\"><b>Equipment:</b> ${item.equipment}</p>\n\n      <button class=\"delete-btn\" data-id=\"${item.id}\">üóë</button>\n    `;\n\n    refs.listContainer.appendChild(card);\n\n    const deleteBtn = card.querySelector('.delete-btn');\n\n    deleteBtn.addEventListener('click', () => {\n      removeFavorite(item.id);\n      const updated = getFavorites();\n      renderFavorites(updated);\n    });\n  });\n}\n","import { SEO } from './constants.js';\n\n//  SEO –§–£–ù–ö–¶–Ü–Ø\n// –î–∏–Ω–∞–º—ñ—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î–º–æ JSON-LD –¥–ª—è Google, —â–æ–± –≤—ñ–Ω –±–∞—á–∏–≤ –≤–ø—Ä–∞–≤–∏ —è–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ\nexport function injectSchema(data) {\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data?.results.map((ex, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: ex.name,\n        filter: ex.filter,\n        image: ex.imgURL,\n      },\n    })),\n  };\n\n  // —à—É–∫–∞—î–º–æ —ñ—Å–Ω—É—é—á–∏–π JSON-LD\n  let script = document.querySelector('script[data-schema=\"exercises\"]');\n\n  if (!script) {\n    script = document.createElement('script');\n    script.type = SEO.JSON_LD_TYPE;\n    script.setAttribute('data-schema', 'exercises');\n    document.head.appendChild(script);\n  }\n  if (script) script.textContent = JSON.stringify(schemaData);\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { injectSchema } from './seo-function';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst PAGE_LIMIT = window.innerWidth < 768 ? 9 : 12;\n\n// UI state\nlet activeFilter = 'Muscles';\nlet activePage = 1;\n\n// Fetch categories from API and render cards + pagination.\n\nasync function getCategories(\n  filter = activeFilter,\n  page = 1,\n  limit = PAGE_LIMIT\n) {\n  // Update UI state early\n  activeFilter = filter;\n  activePage = page;\n\n  try {\n    const params = { filter, page, limit };\n    const data = await fetchApi.getFilters(params);\n\n    // Validate expected structure\n    if (!data) {\n      return showError('Data is empty');\n    }\n\n    // Render UI\n    renderCards(data.results || []);\n    renderPagination(activePage, data.totalPages || 1);\n\n    // Optional: ensure data is structured before injecting\n    if (typeof injectSchema === 'function') {\n      injectSchema(data);\n    }\n  } catch (err) {\n    console.error('getCategories error:', err);\n    showError(err?.message || 'Something went wrong');\n  }\n}\n\n// Cards\n\nfunction renderCards(items) {\n  const container = document.getElementById('cards-container');\n  if (!container) return;\n  container.innerHTML = '';\n\n  items.forEach(item => {\n    const card = document.createElement('div');\n    card.className = 'card';\n\n    card.innerHTML = `\n      <img src=\"${item.imgURL}\" alt=\"${item.name}\" />\n      <div class=\"card-body\">\n        <h3>${item.name}</h3>\n        <span class=\"card-filter\">${item.filter}</span>\n      </div>\n    `;\n\n    container.appendChild(card);\n  });\n}\n\n// Pagination\n\nfunction renderPagination(currentPage, totalPages) {\n  const container = document.getElementById('pagination');\n  if (!container) return;\n  container.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const pageNum = i;\n    const btn = document.createElement('button');\n\n    btn.textContent = pageNum;\n    btn.className = 'pagination-page';\n    btn.setAttribute('data-page', pageNum);\n\n    if (pageNum === currentPage) {\n      btn.classList.add('active');\n    }\n\n    // CLICK HANDLER\n    btn.addEventListener('click', () => {\n      if (pageNum === activePage) return; // already active\n      activePage = pageNum;\n      getCategories(activeFilter, pageNum, PAGE_LIMIT);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    container.appendChild(btn);\n  }\n}\n\n// First load\ngetCategories(activeFilter, activePage, PAGE_LIMIT);\n","(() => {\n  const refs = {\n    openMenuBtn: document.querySelector('[data-menu-open]'),\n    closeMenuBtn: document.querySelector('[data-menu-close]'),\n    menu: document.querySelector('[data-menu]'),\n  };\n\n  if (!refs.openMenuBtn || !refs.menu || !refs.closeMenuBtn) return;\n\n  const toggleMenu = () => {\n    refs.menu.classList.toggle('is-open');\n    document.body.classList.toggle('menu-open');\n  };\n\n  refs.openMenuBtn.addEventListener('click', toggleMenu);\n  refs.closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window\n    .matchMedia('(min-width: 768px)')\n    .addEventListener('change', e => {\n      if (!e.matches) return;\n      refs.menu.classList.remove('is-open');\n      document.body.classList.remove('menu-open');\n    });\n})();\n","const tabsContainer = document.querySelector('[data-filters-tabs]');\nconst searchBox = document.querySelector('.filters__search');\nconst subtitle = document.querySelector('.filters__subtitle');\n\nconst isDesktop = () => window.matchMedia('(min-width: 1440px)').matches;\n\nif (tabsContainer && searchBox && subtitle) {\n  const updateUIForFilter = filter => {\n    const desktop = isDesktop();\n\n    if (filter === 'bodypart') {\n      subtitle.textContent = ' / Waist';\n\n      if (desktop) {\n        // DESKTOP: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ opacity\n        searchBox.classList.add('filters__search--visible');\n        searchBox.classList.remove('filters__search--visible-mobile');\n      } else {\n        // MOBILE + TABLET: –ø–æ–∏—Å–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ —Ç–∞–±–æ–≤, —Å–¥–≤–∏–≥–∞—è –∏—Ö –≤–ø—Ä–∞–≤–æ/–≤–Ω–∏–∑\n        searchBox.classList.add('filters__search--visible-mobile');\n        searchBox.classList.remove('filters__search--visible');\n      }\n    } else {\n      subtitle.textContent = '';\n      searchBox.classList.remove(\n        'filters__search--visible',\n        'filters__search--visible-mobile'\n      );\n    }\n  };\n\n  tabsContainer.addEventListener('click', e => {\n    const btn = e.target.closest('.filters__tab');\n    if (!btn) return;\n\n    tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n      const isActive = tab === btn;\n      tab.classList.toggle('filters__tab--active', isActive);\n      tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n    });\n\n    updateUIForFilter(btn.dataset.filter);\n  });\n\n  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ Body parts –∞–∫—Ç–∏–≤–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)\n  const activeBtn = tabsContainer.querySelector('.filters__tab--active');\n  if (activeBtn) {\n    updateUIForFilter(activeBtn.dataset.filter);\n  }\n}\n\n// === –õ–æ–≥–∏–∫–∞ –∫—Ä–µ—Å—Ç–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏ ===\nconst searchInput = document.querySelector('.filters__input');\nconst clearBtn = document.querySelector('.filters__clear-btn');\n\nif (searchInput && clearBtn) {\n  const toggleClear = () => {\n    if (searchInput.value.trim()) {\n      clearBtn.classList.add('filters__clear-btn--visible');\n    } else {\n      clearBtn.classList.remove('filters__clear-btn--visible');\n    }\n  };\n\n  searchInput.addEventListener('input', toggleClear);\n\n  clearBtn.addEventListener('click', () => {\n    searchInput.value = '';\n    searchInput.focus();\n    toggleClear();\n  });\n\n  toggleClear();\n}\n","const form = document.querySelector('.footer__form');\nconst emailInput = form.querySelector('.footer__input');\nconst messageEl = form.querySelector('.footer__message');\n\nconst emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z]{2,}$/;\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\n\n  if (!emailPattern.test(email)) {\n    messageEl.textContent = 'Please enter a valid email.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n    return;\n  }\n\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      }\n    );\n\n    if (response.ok) {\n      messageEl.textContent = 'Subscription successful!';\n      messageEl.classList.remove('footer__message--error');\n      messageEl.classList.add('footer__message--success');\n\n      emailInput.value = '';\n    } else {\n      const data = await response.json();\n\n      messageEl.textContent = data.message || 'Subscription failed.';\n      messageEl.classList.remove('footer__message--success');\n      messageEl.classList.add('footer__message--error');\n    }\n  } catch (error) {\n    messageEl.textContent = 'Network error. Try again later.';\n    messageEl.classList.remove('footer__message--success');\n    messageEl.classList.add('footer__message--error');\n  }\n});\n","const ref = {\n  loaderOverlay: document.getElementById('loader-overlay'),\n  loaderBg: document.getElementById('bg-loader'),\n};\nexport function startLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.remove('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.add('bg-loader');\n}\nexport function cancelLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.add('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.remove('bg-loader');\n}\n","/**\n * Universal module for working with a modal window template\n * Allows opening a modal with any content,\n * blocks the page scroll, closes on Escape\n */\n\nlet refs = null;\nlet isInitialized = false;\nconst modalTypes = {};\n\nexport function registerModalType(type, getContentFn, initFn) {\n  modalTypes[type] = {\n    getContent: getContentFn,\n    init: initFn,\n  };\n}\n\nfunction initRefs() {\n  if (isInitialized) return;\n\n  refs = {\n    modal: document.getElementById('modal-template'),\n    backdrop: document.querySelector('[data-modal-close]'),\n    closeBtn: document.querySelector('.modal-template__close-btn'),\n    body: document.querySelector('[data-modal-body]'),\n  };\n\n  isInitialized = true;\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    initRefs();\n  });\n} else {\n  initRefs();\n}\n\nexport function initModalButtons() {\n  const modalButtons = document.querySelectorAll('[data-modal]');\n\n  modalButtons.forEach(button => {\n    if (button.hasAttribute('data-modal-initialized')) {\n      return;\n    }\n\n    const modalType = button.getAttribute('data-modal');\n\n    if (!modalTypes[modalType]) {\n      console.warn(`Modal type \"${modalType}\" is not registered`);\n      return;\n    }\n\n    button.addEventListener('click', () => {\n      const { getContent, init } = modalTypes[modalType];\n\n      const content = getContent();\n      if (!content) {\n        console.error(`Failed to get content for modal type \"${modalType}\"`);\n        return;\n      }\n\n      openModal(content);\n\n      if (init) {\n        setTimeout(async () => {\n          try {\n            await init(closeModal);\n          } catch (error) {\n            console.error('Error initializing modal:', error);\n          }\n        }, 100);\n      }\n    });\n\n    button.setAttribute('data-modal-initialized', 'true');\n  });\n}\n\nexport function openModal(content) {\n  initRefs();\n\n  if (!refs || !refs.modal || !refs.body) {\n    console.error('Modal template elements not found');\n    return;\n  }\n\n  if (typeof content === 'string') {\n    refs.body.innerHTML = content;\n  } else if (content instanceof HTMLElement) {\n    refs.body.innerHTML = '';\n    refs.body.appendChild(content);\n  } else {\n    console.error('Invalid content type. Expected string or HTMLElement');\n    return;\n  }\n\n  refs.modal.classList.remove('hidden');\n  document.body.classList.add('modal-open');\n\n  document.addEventListener('keydown', handleEscape, { once: false });\n  refs.backdrop?.addEventListener('click', handleBackdropClick);\n  refs.closeBtn?.addEventListener('click', handleCloseButtonClick);\n}\n\nexport function closeModal() {\n  initRefs();\n\n  if (!refs || !refs.modal) return;\n\n  refs.modal.classList.add('hidden');\n  document.body.classList.remove('modal-open');\n\n  document.removeEventListener('keydown', handleEscape);\n  refs.backdrop?.removeEventListener('click', handleBackdropClick);\n  refs.closeBtn?.removeEventListener('click', handleCloseButtonClick);\n\n  if (refs && refs.body) {\n    refs.body.innerHTML = '';\n  }\n}\n\nfunction isConfirmModalOpen() {\n  const confirmModal = document.getElementById('modal-confirm');\n  return confirmModal && !confirmModal.classList.contains('hidden');\n}\n\nfunction handleEscape(event) {\n  if (event.key === 'Escape') {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleCloseButtonClick() {\n  if (isConfirmModalOpen()) {\n    return;\n  }\n  closeModal();\n}\n\nexport function isModalOpen() {\n  initRefs();\n  return refs && refs.modal && !refs.modal.classList.contains('hidden');\n}\n","/**\n * module for working with a confirm modal that opens over the main modal\n */\n\nlet confirmModalRefs = null;\nlet confirmCallback = null;\nlet cancelCallback = null;\n\nfunction initConfirmRefs() {\n  if (confirmModalRefs) return;\n\n  const modal = document.getElementById('modal-confirm');\n  if (!modal) {\n    console.error('Confirm modal not found');\n    return;\n  }\n\n  confirmModalRefs = {\n    modal,\n    backdrop: modal.querySelector('[data-confirm-close]'),\n    message: modal.querySelector('[data-confirm-message]'),\n    cancelBtn: modal.querySelector('[data-confirm-cancel]'),\n    confirmBtn: modal.querySelector('[data-confirm-ok]'),\n  };\n\n  confirmModalRefs.backdrop?.removeEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.removeEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.removeEventListener('click', handleConfirm, {\n    capture: true,\n  });\n\n  confirmModalRefs.backdrop?.addEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.addEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.addEventListener('click', handleConfirm, {\n    capture: true,\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initConfirmRefs);\n} else {\n  initConfirmRefs();\n}\n\nfunction handleEscape(event) {\n  if (\n    event.key === 'Escape' &&\n    confirmModalRefs &&\n    !confirmModalRefs.modal.classList.contains('hidden')\n  ) {\n    handleCancel();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === confirmModalRefs.backdrop) {\n    event.stopPropagation();\n    event.preventDefault();\n    handleCancel(event);\n  }\n}\n\nfunction handleCancel(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  const callback = cancelCallback;\n  closeConfirmModal();\n  if (callback) {\n    callback();\n  }\n}\n\nfunction handleConfirm(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  const callback = confirmCallback;\n  closeConfirmModal();\n  setTimeout(() => {\n    if (callback) {\n      callback();\n    }\n  }, 0);\n}\n\nexport function openConfirmModal(message, onConfirm, onCancel = null) {\n  initConfirmRefs();\n\n  if (!confirmModalRefs || !confirmModalRefs.modal) {\n    console.error('Confirm modal elements not found');\n    return;\n  }\n\n  confirmCallback = onConfirm;\n  cancelCallback = onCancel;\n\n  if (confirmModalRefs.message) {\n    confirmModalRefs.message.textContent = message;\n  }\n\n  confirmModalRefs.modal.classList.remove('hidden');\n  document.addEventListener('keydown', handleEscape, { once: true });\n}\n\nexport function closeConfirmModal() {\n  if (!confirmModalRefs || !confirmModalRefs.modal) return;\n\n  confirmModalRefs.modal.classList.add('hidden');\n  confirmCallback = null;\n  cancelCallback = null;\n}\n","import { YourEnergyAPI } from './api.js';\nimport { showError, showSuccess } from './iziToast-helper.js';\nimport { openConfirmModal } from './confirm-modal.js';\nimport { ERROR_MESSAGES } from './constants.js';\n\nconst api = new YourEnergyAPI();\n\nlet checkFormFilledFn = null;\n\nexport function getRatingModalContent() {\n  const existingRatingModal = document.querySelector('.rating-modal');\n\n  if (!existingRatingModal) {\n    console.error(\n      'Rating modal HTML not found. Make sure modal-rating.html is loaded via <load> tag.'\n    );\n    return null;\n  }\n\n  const clonedModal = existingRatingModal.cloneNode(true);\n  updateElementIds(clonedModal);\n\n  return clonedModal;\n}\n\nfunction initRatingModalButtons() {\n  document.addEventListener(\n    'click',\n    function (event) {\n      const button = event.target.closest('[data-modal=\"rating\"]');\n      if (button) {\n        const exerciseId = button.getAttribute('data-exercise-id');\n        if (exerciseId) {\n          sessionStorage.setItem('ratingModalExerciseId', exerciseId);\n        }\n      }\n    },\n    { capture: true }\n  );\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initRatingModalButtons);\n} else {\n  initRatingModalButtons();\n}\n\nfunction updateElementIds(element) {\n  const elementsWithId = element.querySelectorAll('[id]');\n  const timestamp = Date.now();\n\n  elementsWithId.forEach(el => {\n    const oldId = el.id;\n    el.id = `${oldId}-${timestamp}`;\n\n    const labels = element.querySelectorAll(`label[for=\"${oldId}\"]`);\n    labels.forEach(label => {\n      label.setAttribute('for', el.id);\n    });\n  });\n}\n\nexport function checkRatingFormFilled() {\n  return checkFormFilledFn ? checkFormFilledFn() : false;\n}\n\nfunction clearRatingForm() {\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!ratingModal) return;\n\n  const form = ratingModal.querySelector('.rating-modal__form');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const stars = ratingModal.querySelectorAll('.rating-star');\n\n  if (form) form.reset();\n  if (ratingInput) ratingInput.value = '0';\n  if (emailInput) emailInput.value = '';\n  if (commentTextarea) commentTextarea.value = '';\n  if (ratingText) ratingText.textContent = '';\n\n  stars.forEach(star => {\n    star.classList.remove('active');\n  });\n}\n\nexport function handleRatingModalClose(closeModalFn) {\n  if (checkFormFilledFn && checkFormFilledFn()) {\n    openConfirmModal(\n      'Are you sure you want to cancel your exercise review?',\n      () => {\n        clearRatingForm();\n        checkFormFilledFn = null;\n        closeModalFn();\n      },\n      () => {}\n    );\n  } else {\n    clearRatingForm();\n    checkFormFilledFn = null;\n    closeModalFn();\n  }\n}\n\nexport function initRatingModal(closeModalFn) {\n  checkFormFilledFn = null;\n\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!modalBody || !ratingModal) {\n    console.error('Modal body or rating modal not found');\n    return;\n  }\n\n  let exerciseId =\n    sessionStorage.getItem('ratingModalExerciseId') ||\n    document\n      .querySelector('[data-modal=\"rating\"][data-exercise-id]')\n      ?.getAttribute('data-exercise-id');\n\n  if (exerciseId) {\n    sessionStorage.removeItem('ratingModalExerciseId');\n  }\n\n  if (!exerciseId) {\n    showError('Exercise ID is missing');\n    return;\n  }\n\n  const stars = ratingModal.querySelectorAll('.rating-star');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const cancelBtn = ratingModal.querySelector('.rating-modal__btn--cancel');\n  const submitBtn = ratingModal.querySelector(\n    '.rating-modal__btn[type=\"submit\"]'\n  );\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const form = ratingModal.querySelector('.rating-modal__form');\n\n  let currentRating = 0;\n  if (submitBtn) submitBtn.disabled = true;\n  if (ratingInput) ratingInput.value = '0';\n  if (ratingText) ratingText.textContent = '0';\n\n  const isFormValid = () => {\n    return (\n      currentRating > 0 &&\n      currentRating <= 5 &&\n      emailInput?.value.trim() !== '' &&\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  const updateSubmitButton = () => {\n    if (submitBtn) {\n      submitBtn.disabled = !isFormValid();\n    }\n  };\n\n  const checkFormFilled = () => {\n    return (\n      currentRating > 0 ||\n      emailInput?.value.trim() !== '' ||\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  checkFormFilledFn = checkFormFilled;\n\n  const updateStars = rating => {\n    stars.forEach((star, index) => {\n      const starRating = index + 1;\n      if (starRating <= rating) {\n        star.classList.add('active');\n      } else {\n        star.classList.remove('active');\n      }\n    });\n  };\n\n  stars.forEach((star, index) => {\n    const rating = index + 1;\n\n    star.addEventListener('click', () => {\n      currentRating = rating;\n      updateStars(rating);\n      if (ratingInput) ratingInput.value = rating;\n      if (ratingText) ratingText.textContent = rating;\n      updateSubmitButton();\n    });\n  });\n\n  [emailInput, commentTextarea].forEach(input => {\n    if (input) {\n      input.addEventListener('input', updateSubmitButton);\n    }\n  });\n\n  const resetForm = () => {\n    currentRating = 0;\n    if (ratingInput) ratingInput.value = '0';\n    if (emailInput) emailInput.value = '';\n    if (commentTextarea) commentTextarea.value = '';\n    if (ratingText) ratingText.textContent = '0';\n    updateStars(0);\n    updateSubmitButton();\n  };\n\n  const backdrop = document.querySelector('[data-modal-close]');\n\n  const isConfirmModalOpen = () => {\n    const confirmModal = document.getElementById('modal-confirm');\n    return confirmModal && !confirmModal.classList.contains('hidden');\n  };\n\n  const handleEscapeCapture = event => {\n    if (event.key === 'Escape') {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const backdropClickHandler = event => {\n    if (event.target === backdrop) {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const cleanup = () => {\n    document.removeEventListener('keydown', handleEscapeCapture, {\n      capture: true,\n    });\n    backdrop?.removeEventListener('click', backdropClickHandler, {\n      capture: true,\n    });\n    closeBtn?.removeEventListener('click', closeBtnHandler, { capture: true });\n  };\n\n  const closeBtn = document.querySelector('.modal-template__close-btn');\n  const closeBtnHandler = event => {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    event.stopPropagation();\n    handleClose();\n  };\n\n  document.addEventListener('keydown', handleEscapeCapture, { capture: true });\n  backdrop?.addEventListener('click', backdropClickHandler, { capture: true });\n  closeBtn?.addEventListener('click', closeBtnHandler, { capture: true });\n\n  const handleClose = () => {\n    handleRatingModalClose(() => {\n      cleanup();\n      closeModalFn();\n    });\n  };\n\n  if (cancelBtn && closeModalFn) {\n    cancelBtn.addEventListener('click', () => {\n      handleClose();\n    });\n  }\n\n  if (form) {\n    form.setAttribute('data-no-auto-close', 'true');\n\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n\n      if (!isFormValid()) {\n        showError('Please fill in all fields');\n        return;\n      }\n\n      const formData = new FormData(form);\n      const rating = parseInt(formData.get('rating'), 10);\n      const email = formData.get('email').trim();\n      const comment = formData.get('comment').trim();\n\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n\n      try {\n        await api.rateExercise(exerciseId, {\n          rate: rating,\n          email: email,\n          review: comment,\n        });\n\n        showSuccess('Thank you for your feedback!');\n        checkFormFilledFn = null;\n\n        setTimeout(() => {\n          if (closeModalFn) {\n            cleanup();\n            closeModalFn();\n          }\n        }, 1000);\n      } catch (error) {\n        console.error('Failed to submit rating:', error);\n        showError(error.message || ERROR_MESSAGES.API_ERROR);\n\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Send';\n        }\n      }\n    });\n  }\n}\n","import 'izitoast/dist/css/iziToast.min.css';\n\nimport './js/quote-of-the-day.js';\n\nimport './js/favorites-btn.js';\nimport './js/favorites-page.js';\n\nimport './js/categories.js';\n\nimport './js/mobile-menu.js';\nimport './js/filters.js';\nimport './js/footer.js';\nimport { cancelLoader } from './js/loader.js';\nimport { registerModalType, initModalButtons } from './js/modal-template.js';\nimport { MODAL_TYPES } from './js/constants.js';\nimport {\n  getRatingModalContent,\n  initRatingModal,\n} from './js/modal-rating-content.js';\n\n// —Ñ—É–Ω–∫—Ü—ñ—è –ø–æ—à—É–∫—É\n// ref.searchButton.addEventListener('click', onSearch);\n// ref.loadMoreButton.addEventListener('click', loadMore);\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    cancelLoader();\n    initModals();\n  });\n} else {\n  cancelLoader();\n  initModals();\n}\n\nfunction initModals() {\n  registerModalType(MODAL_TYPES.RATING, getRatingModalContent, initRatingModal);\n  // registerModalType(MODAL_TYPES.EXERCISE, getExerciseModalContent, initExerciseModal);\n\n  initModalButtons();\n}\n"],"names":["CONFIG","COLORS","API_ENDPOINTS","REGEX","VALIDATION","TOAST","SEO","MODAL_TYPES","ERROR_MESSAGES","YourEnergyAPI","baseURL","axios","response","error","errorMessage","_b","_a","method","url","data","params","config","message","id","defaultOptions","showSuccess","iziToast","showError","fetchApi","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","addTextContent","fetchGetExercisesQuote","resp","newQuote","quoteData","err","content","FAVORITES_KEY","getFavorites","saveFavorites","favoritesArray","removeFavorite","updated","item","refs","favorites","renderFavorites","card","injectSchema","schemaData","ex","index","script","PAGE_LIMIT","activeFilter","activePage","getCategories","filter","page","limit","renderCards","renderPagination","items","container","currentPage","totalPages","i","pageNum","btn","toggleMenu","e","tabsContainer","searchBox","subtitle","isDesktop","updateUIForFilter","desktop","tab","isActive","activeBtn","searchInput","clearBtn","toggleClear","form","emailInput","messageEl","emailPattern","event","email","ref","cancelLoader","isInitialized","modalTypes","registerModalType","type","getContentFn","initFn","initRefs","initModalButtons","button","modalType","getContent","init","openModal","closeModal","handleEscape","handleBackdropClick","handleCloseButtonClick","isConfirmModalOpen","confirmModal","confirmModalRefs","confirmCallback","cancelCallback","initConfirmRefs","modal","handleCancel","_c","handleConfirm","_d","_e","_f","callback","closeConfirmModal","openConfirmModal","onConfirm","onCancel","api","checkFormFilledFn","getRatingModalContent","existingRatingModal","clonedModal","updateElementIds","initRatingModalButtons","exerciseId","element","elementsWithId","timestamp","el","oldId","label","clearRatingForm","modalBody","ratingModal","ratingInput","ratingText","commentTextarea","stars","star","handleRatingModalClose","closeModalFn","initRatingModal","cancelBtn","submitBtn","currentRating","isFormValid","updateSubmitButton","updateStars","rating","input","backdrop","handleEscapeCapture","cleanup","backdropClickHandler","closeBtn","closeBtnHandler","handleClose","formData","comment","initModals"],"mappings":"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"}