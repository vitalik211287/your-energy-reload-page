{"version":3,"file":"main-BcYpukWn.js","sources":["../../src/js/config.js","../../src/js/constants.js","../../src/js/api.js","../../src/js/iziToast-helper.js","../../src/js/quote-of-the-day.js","../../src/js/seo-function.js","../../src/js/pagination.js","../../src/js/favorites-btn.js","../../src/js/favorites-page.js","../../src/js/modal-template.js","../../src/js/loader.js","../../src/js/modal-exercise-content.js","../../src/js/exercises-list.js","../../src/js/filters.js","../../src/js/categories-card-click.js","../../src/js/categories.js","../../src/js/mobile-menu.js","../../src/js/footer.js","../../src/js/scroll-up.js","../../src/js/confirm-modal.js","../../src/js/modal-rating-content.js","../../src/js/exercises-tabs.js","../../src/js/exercises-search.js","../../src/main.js"],"sourcesContent":["export const CONFIG = {\n  BASE_API_URL:\n    import.meta.env.VITE_API_BASE_URL || 'https://your-energy.b.goit.study/api',\n  DEV_HOST: import.meta.env.VITE_DEV_HOST || '127.0.0.1',\n  DEV_PORT: import.meta.env.VITE_DEV_PORT || '3000',\n  BASE_PATH: import.meta.env.VITE_BASE_PATH || '/your-energy/',\n};\n","// Local Storage Keys\nexport const STORAGE_KEYS = {};\n\nexport const COLORS = {\n  WHITE: '#fff',\n  BLACK: '#000',\n  GRAY_LIGHT: '#808080',\n};\n\n// API Endpoints\nexport const API_ENDPOINTS = {\n  FILTERS: '/filters',\n  EXERCISES: '/exercises',\n  QUOTE: '/quote',\n  SUBSCRIPTION: '/subscription',\n};\n\n// ========== REGULAR EXPRESSIONS ==========\nexport const REGEX = {\n  EMAIL: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z]{2,}$/,\n};\n\n// ========== VALIDATION CONSTANTS ==========\nexport const VALIDATION = {\n  EMAIL_REGEX: REGEX.EMAIL,\n  RATING_MIN: 1,\n  RATING_MAX: 5,\n};\n\n// ========== PAGINATION CONSTANTS ==========\nexport const PAGINATION = {\n  DEFAULT_PAGE: 1,\n  DEFAULT_LIMIT: 12,\n  MIN_LIMIT: 1,\n  MAX_LIMIT: 100,\n};\n\n// ========== TOAST NOTIFICATION CONSTANTS ==========\nexport const TOAST = {\n  POSITION: {\n    TOP_RIGHT: 'topRight',\n    TOP_LEFT: 'topLeft',\n    TOP_CENTER: 'topCenter',\n    BOTTOM_RIGHT: 'bottomRight',\n    BOTTOM_LEFT: 'bottomLeft',\n    BOTTOM_CENTER: 'bottomCenter',\n  },\n\n  TIMEOUT: {\n    SHORT: 2000,\n    DEFAULT: 4000,\n    LONG: 6000,\n  },\n\n  TRANSITION: {\n    IN: 'fadeInLeft',\n    OUT: 'fadeOutRight',\n  },\n\n  TITLE: {\n    SUCCESS: 'OK',\n    ERROR: 'Error',\n    INFO: 'Info',\n    WARNING: 'Warning',\n  },\n\n  ICON: {\n    SUCCESS: 'icon-check',\n    ERROR: 'icon-error',\n    INFO: 'icon-info',\n    WARNING: 'icon-warning',\n  },\n};\n\n// ========== SEO CONSTANTS ==========\nexport const SEO = {\n  SCHEMA_CONTEXT: 'https://schema.org',\n  SCHEMA_TYPES: {\n    ITEM_LIST: 'ItemList',\n    LIST_ITEM: 'ListItem',\n    EXERCISE_PLAN: 'ExercisePlan',\n  },\n  JSON_LD_TYPE: 'application/ld+json',\n};\n\n// ========== MODAL TYPES ==========\nexport const MODAL_TYPES = {\n  RATING: 'rating',\n  EXERCISE: 'exercise',\n};\n\n// ========== ERROR MESSAGES ==========\nexport const ERROR_MESSAGES = {\n  API_ERROR: 'Something went wrong',\n  EMAIL_REQUIRED: 'Please enter a valid email.',\n  RATING_RANGE: `Rating must be between ${VALIDATION.RATING_MIN} and ${VALIDATION.RATING_MAX}`,\n  EXERCISE_ID_REQUIRED: 'Exercise ID is required',\n};\n\nexport const REFS = {\n  modalBody: document.querySelector('[data-modal-body]'),\n\n  favoritesBtn: document.querySelector('.favorites-btn'),\n  favoritesList: document.querySelector('.favorites-list'),\n\n  exercisesList: document.querySelector('.js-exercises-list'),\n  exercisesActiveTab: document.querySelector('.exercises__tab--active'),\n  exercisesPagination: document.querySelector('.js-exercises-pagination'),\n\n  modalTemplate: document.getElementById('modal-template'),\n  modalCloseBtn: document.querySelector('.modal-template__close-btn'),\n  modalBackdrop: document.querySelector('.modal-template__backdrop'),\n\n  exerciseModal: document.querySelector('.exercise-modal'), // from modal-exercise.html\n  exerciseTrigger: document.querySelector('[data-modal=\"exercise\"]'),\n\n\n  // Filters\n  filtersTabs: document.querySelector('[data-filters-tabs]'),\n  filtersSearchBox: document.querySelector('.filters__search'),\n  filtersSubtitle: document.querySelector('.filters__subtitle'),\n  filtersInput: document.querySelector('.filters__input'),\n  filtersClearBtn: document.querySelector('.filters__clear-btn'),\n\n  // Mobile menu\n  mobileMenu: document.querySelector('[data-menu]'),\n  mobileMenuOpenBtn: document.querySelector('[data-menu-open]'),\n  mobileMenuCloseBtn: document.querySelector('[data-menu-close]'),\n};\n","import axios from 'axios';\nimport { CONFIG } from './config.js';\nimport { VALIDATION, ERROR_MESSAGES, API_ENDPOINTS } from './constants.js';\n\nexport class YourEnergyAPI {\n  constructor(baseURL = CONFIG.BASE_API_URL) {\n    this.baseURL = baseURL;\n    this.axios = axios.create({\n      baseURL: this.baseURL,\n    });\n\n    // Response interceptor for error handling\n    this.axios.interceptors.response.use(\n      response => response,\n      error => {\n        const errorMessage =\n          error.response?.data?.message ||\n          error.message ||\n          ERROR_MESSAGES.API_ERROR;\n        console.error('API Error:', errorMessage);\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  /**\n   * Generic request handler\n   * @private\n   * @param {string} method - HTTP method\n   * @param {string} url - Endpoint URL\n   * @param {Object|null} data - Request body\n   * @param {Object|null} params - Query parameters\n   * @returns {Promise<Object>}\n   */\n  async _request(method, url, data = null, params = null) {\n    try {\n      const config = { method, url };\n      if (data) config.data = data;\n      if (params) config.params = params;\n\n      const response = await this.axios(config);\n      return response.data;\n    } catch (error) {\n      const message = error.response?.data?.message || error.message;\n      throw new Error(`${method.toUpperCase()} ${url} failed: ${message}`);\n    }\n  }\n\n  /**\n   * Get filters\n   * @param {Object} params - Query parameters (filter, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getFilters(params = {}) {\n    return this._request('get', API_ENDPOINTS.FILTERS, null, params);\n  }\n\n  /**\n   * Get exercises\n   * @param {Object} params - Query parameters (bodypart, muscles, equipment, keyword, page, limit)\n   * @returns {Promise<Object>}\n   */\n  async getExercises(params = {}) {\n    return this._request('get', API_ENDPOINTS.EXERCISES, null, params);\n  }\n\n  async getExerciseById(id) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    return this._request('get', `${API_ENDPOINTS.EXERCISES}/${id}`);\n  }\n\n  /**\n   * Get quote of the day\n   * @returns {Promise<Object>}\n   */\n  async getQuote() {\n    return this._request('get', API_ENDPOINTS.QUOTE);\n  }\n\n  /**\n   * Subscribe to new exercises\n   * @param {Object} data - { email: string }\n   * @returns {Promise<Object>}\n   */\n  async subscribe(data) {\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request('post', API_ENDPOINTS.SUBSCRIPTION, data);\n  }\n\n  /**\n   * Add rating to exercise\n   * @param {string} id - Exercise ID\n   * @param {Object} data - { rate: number, email: string, review: string }\n   * @returns {Promise<Object>}\n   */\n  async rateExercise(id, data) {\n    if (!id) {\n      throw new Error(ERROR_MESSAGES.EXERCISE_ID_REQUIRED);\n    }\n    if (\n      !data.rate ||\n      data.rate < VALIDATION.RATING_MIN ||\n      data.rate > VALIDATION.RATING_MAX\n    ) {\n      throw new Error(ERROR_MESSAGES.RATING_RANGE);\n    }\n    if (!data.email || !VALIDATION.EMAIL_REGEX.test(data.email)) {\n      throw new Error(ERROR_MESSAGES.EMAIL_REQUIRED);\n    }\n    return this._request(\n      'patch',\n      `${API_ENDPOINTS.EXERCISES}/${id}/rating`,\n      data\n    );\n  }\n}\n","import iziToast from 'izitoast';\nimport { COLORS, TOAST } from './constants.js';\n\n// --- –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è ---\nconst defaultOptions = {\n  position: TOAST.POSITION.TOP_RIGHT,\n  timeout: TOAST.TIMEOUT.DEFAULT,\n  close: true,\n  closeOnEscape: true,\n  pauseOnHover: true,\n  progressBar: true,\n  progressBarColor: COLORS.GRAY_LIGHT,\n  transitionIn: TOAST.TRANSITION.IN,\n  transitionOut: TOAST.TRANSITION.OUT,\n  fontFamily: 'inherit',\n  icon: '',\n};\n\n// 1. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –£–°–ü–Ü–• (Success)\nexport const showSuccess = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.SUCCESS,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.WHITE,\n    icon: TOAST.ICON.SUCCESS,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 2. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ü–û–ú–ò–õ–ö–£ (Error)\nexport const showError = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.ERROR,\n    message: message,\n    backgroundColor: COLORS.BLACK,\n    titleColor: COLORS.WHITE,\n    messageColor: COLORS.GRAY_LIGHT,\n    progressBarColor: COLORS.WHITE,\n    icon: TOAST.ICON.ERROR,\n    iconColor: COLORS.WHITE,\n  });\n};\n\n// 3. –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (Info)\nexport const showInfo = message => {\n  iziToast.show({\n    ...defaultOptions,\n    title: TOAST.TITLE.INFO,\n    message: message,\n    backgroundColor: COLORS.WHITE,\n    titleColor: COLORS.BLACK,\n    messageColor: COLORS.BLACK,\n    progressBarColor: COLORS.BLACK,\n    borderBottom: `2px solid ${COLORS.BLACK}`,\n  });\n};\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { ERROR_MESSAGES } from './constants.js';\n\nexport const fetchApi = new YourEnergyAPI();\n\nconst quote = {\n  content: document.querySelector('.js-quote-content'),\n  author: document.querySelector('.js-quote-author'),\n};\n\nfunction getQuoteData() {\n  const storedQuote = localStorage.getItem('quoteData');\n  if (storedQuote) {\n    const { quote: quoteContent, author, date } = JSON.parse(storedQuote);\n    const savedDate = new Date(date);\n    const currentDate = new Date();\n\n    if (savedDate.getDate() === currentDate.getDate()) {\n      addTextContent(quoteContent, author);\n      return;\n    }\n  }\n  fetchGetExercisesQuote();\n}\n\ngetQuoteData();\n\nasync function fetchGetExercisesQuote() {\n  try {\n    const resp = await fetchApi.getQuote();\n\n    const { quote: newQuote, author } = resp;\n    const quoteData = { quote: newQuote, author, date: new Date() };\n    localStorage.setItem('quoteData', JSON.stringify(quoteData));\n    addTextContent(newQuote, author);\n  } catch (err) {\n    showError(err.message || ERROR_MESSAGES.API_ERROR);\n  }\n}\n\nfunction addTextContent(content, author) {\n  if (quote.content) {\n    quote.content.textContent = content;\n  }\n  if (quote.author) {\n    quote.author.textContent = author;\n  }\n}\n","import { SEO } from './constants.js';\n\nexport function injectSchema(data) {\n  if (!data || !data.results) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((item, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: item.name,\n        filter: item.filter,\n        image: item.imgURL,\n      },\n    })),\n  };\n  updateSchemaScript('filters', schemaData);\n}\n\nexport function injectSchemaExercises(data) {\n  if (!data || !data.results || data.results.length === 0) return;\n\n  const schemaData = {\n    '@context': SEO.SCHEMA_CONTEXT,\n    '@type': SEO.SCHEMA_TYPES.ITEM_LIST,\n    itemListElement: data.results.map((ex, index) => ({\n      '@type': SEO.SCHEMA_TYPES.LIST_ITEM,\n      position: index + 1,\n      item: {\n        '@type': SEO.SCHEMA_TYPES.EXERCISE_PLAN,\n        name: capitalize(ex.name),\n        description: ex.description,\n        image: ex.gifUrl,\n        audience: {\n          '@type': 'PeopleAudience',\n          suggestedGender: 'unisex',\n        },\n        category: ex.target,\n        keywords: `${ex.bodyPart}, ${ex.equipment}, fitness`,\n      },\n    })),\n  };\n\n  updateSchemaScript('detailed-exercises', schemaData);\n}\n\nfunction updateSchemaScript(schemaId, data) {\n  let script = document.querySelector(`script[data-schema=\"${schemaId}\"]`);\n\n  if (!script) {\n    script = document.createElement('script');\n    script.type = SEO.JSON_LD_TYPE;\n    script.setAttribute('data-schema', schemaId);\n    document.head.appendChild(script);\n  }\n\n  script.textContent = JSON.stringify(data);\n  // console.log(`Schema updated for: ${schemaId}`);\n}\n\nfunction capitalize(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","export function renderPaginationUniversal({\n  container,\n  currentPage,\n  totalPages,\n  onPageChange,\n  mode = 'full',\n  showArrows = false,\n  classes = {},\n  icons = {},\n  scrollToTop = true,\n  scrollTarget = null, // <-- –Ω–æ–≤–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä\n}) {\n  if (!container) return;\n  container.innerHTML = '';\n\n  const {\n    page: pageClass = '',\n    active: activeClass = 'active',\n    arrow: arrowClass = '',\n  } = classes;\n\n  const { prev: prevIcon = 'Prev', next: nextIcon = 'Next' } = icons;\n\n  const createBtn = (label, page, className = '') => {\n    const btn = document.createElement('button');\n    btn.className = className;\n    btn.textContent = label;\n    btn.dataset.page = page;\n    return btn;\n  };\n\n  if (mode === 'full') {\n    for (let i = 1; i <= totalPages; i++) {\n      const btn = createBtn(i, i, pageClass);\n      if (i === currentPage) btn.classList.add(activeClass);\n      container.appendChild(btn);\n    }\n  } else if (mode === 'neighbors') {\n    let pages = [];\n\n    if (totalPages <= 3) {\n      pages = Array.from({ length: totalPages }, (_, i) => i + 1);\n    } else if (currentPage === 1) {\n      pages = [1, 2, 3];\n    } else if (currentPage === totalPages) {\n      pages = [totalPages - 2, totalPages - 1, totalPages];\n    } else {\n      pages = [currentPage - 1, currentPage, currentPage + 1];\n    }\n\n    pages.forEach(p => {\n      const btn = createBtn(\n        p,\n        p,\n        `${pageClass} ${p === currentPage ? activeClass : ''}`.trim()\n      );\n      container.appendChild(btn);\n    });\n  }\n\n  container.querySelectorAll('button').forEach(btn => {\n    btn.addEventListener('click', () => {\n      const page = Number(btn.dataset.page);\n      if (Number.isNaN(page) || page === currentPage) return;\n\n      onPageChange(page);\n\n      if (scrollToTop) {\n        if (scrollTarget) {\n          const el =\n            typeof scrollTarget === 'string'\n              ? document.querySelector(scrollTarget)\n              : scrollTarget;\n\n          if (el) {\n            el.scrollIntoView({ behavior: 'smooth', block: 'start' });\n          }\n        } else {\n          window.scrollTo({ top: 0, behavior: 'smooth' });\n        }\n      }\n    });\n  });\n}\n","import { REFS } from './constants.js';\n\nconst FAVORITES_KEY = 'favorites';\n\n// Get favorites from LocalStorage\nfunction getFavorites() {\n  const data = localStorage.getItem(FAVORITES_KEY);\n  if (!data) return [];\n\n  const parsed = JSON.parse(data);\n\n  if (parsed.length > 0 && typeof parsed[0] === 'object' && parsed[0].id) {\n    const ids = parsed.map(item => item.id || item._id).filter(Boolean);\n    saveFavorites(ids);\n    return ids;\n  }\n\n  return parsed;\n}\n\n// Save favorites to LocalStorage\nfunction saveFavorites(favoritesArray) {\n  localStorage.setItem(FAVORITES_KEY, JSON.stringify(favoritesArray));\n}\n\n// Check if an exercise is in favorites\nfunction isFavorite(id) {\n  const favorites = getFavorites();\n  return favorites.includes(id);\n}\n\n// Add exercise to favorites (–∑–±–µ—Ä—ñ–≥–∞—î–º–æ —Ç—ñ–ª—å–∫–∏ ID)\nfunction addFavorite(exerciseObj) {\n  const favorites = getFavorites();\n  const exerciseId = exerciseObj.id || exerciseObj._id;\n  if (exerciseId && !favorites.includes(exerciseId)) {\n    favorites.push(exerciseId);\n    saveFavorites(favorites);\n  }\n}\n\n// Remove exercise from favorites\nfunction removeFavorite(id) {\n  const favorites = getFavorites();\n  const updated = favorites.filter(itemId => itemId !== id);\n  saveFavorites(updated);\n}\n\nconst currentExercise = {};\n\nfunction initFavoritesBtn(exercise, buttonElement = null) {\n  const favoriteBtnElement = buttonElement || REFS.favoriteBtn;\n\n  if (!favoriteBtnElement) return;\n\n  Object.assign(currentExercise, exercise);\n\n  const exerciseId = exercise.id || exercise._id;\n  const isInFavorites = isFavorite(exerciseId);\n\n  updateButtonText(favoriteBtnElement, isInFavorites);\n  const newBtn = favoriteBtnElement.cloneNode(true);\n  favoriteBtnElement.parentNode.replaceChild(newBtn, favoriteBtnElement);\n\n  newBtn.onclick = () => {\n    const currentId = exercise.id || exercise._id;\n    if (isFavorite(currentId)) {\n      removeFavorite(currentId);\n      updateButtonText(newBtn, false);\n    } else {\n      addFavorite(exercise);\n      updateButtonText(newBtn, true);\n    }\n  };\n}\n\nfunction updateButtonText(button, isInFavorites) {\n  const textNodes = Array.from(button.childNodes).filter(\n    node => node.nodeType === Node.TEXT_NODE && node.textContent.trim()\n  );\n\n  if (textNodes.length > 0) {\n    textNodes[0].textContent = isInFavorites\n      ? 'Remove from favorites'\n      : 'Add to favorites';\n  } else {\n    const svg = button.querySelector('svg');\n    const text = document.createTextNode(\n      isInFavorites ? 'Remove from favorites' : 'Add to favorites'\n    );\n    if (svg) {\n      button.insertBefore(text, svg);\n    } else {\n      button.appendChild(text);\n    }\n  }\n}\n\nexport {\n  getFavorites,\n  saveFavorites,\n  isFavorite,\n  addFavorite,\n  removeFavorite,\n  currentExercise,\n  initFavoritesBtn,\n};\n","import { getFavorites, removeFavorite } from './favorites-btn.js';\nimport { YourEnergyAPI } from './api.js';\nimport { REFS } from './constants.js';\nimport { renderExercisesList } from '../js/exercises-list';\nimport { renderPaginationUniversal } from './pagination.js';\n\nconst api = new YourEnergyAPI();\n\nlet currentPage = 1;\nlet allFavoritesData = [];\n\nfunction isDesktop() {\n  return window.innerWidth >= 1440;\n}\n\nfunction getItemsPerPage() {\n  if (window.innerWidth >= 768) {\n    return 10;\n  }\n  return 8;\n}\n\nfunction renderEmptyMessage() {\n  const container = document.querySelector('.favorites-wrapper');\n  if (!container) return;\n\n  const existingContent = container.querySelector('.favorites-content');\n  if (existingContent) {\n    existingContent.remove();\n  }\n\n  const existingEmpty = container.querySelector('.favorites-empty');\n  if (existingEmpty) {\n    existingEmpty.remove();\n  }\n\n  const emptyDiv = document.createElement('div');\n  emptyDiv.className = 'favorites-empty';\n  emptyDiv.innerHTML = `\n    <p>It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.</p>\n  `;\n\n  container.appendChild(emptyDiv);\n}\n\nasync function loadFavoritesData(ids) {\n  try {\n    const exercise = await api.getExerciseById(ids);\n    if (exercise) return exercise;\n  } catch (err) {\n    console.error(`Failed to load exercise ${ids}`, err);\n  }\n}\n\nfunction renderPaginatedFavorites(page = 1) {\n  const container = document.querySelector('.favorites-wrapper');\n  if (!container) return;\n\n  let contentWrapper = container.querySelector('.favorites-content');\n  if (!contentWrapper) {\n    contentWrapper = document.createElement('div');\n    contentWrapper.className = 'favorites-content';\n    container.appendChild(contentWrapper);\n  }\n\n  let listEl = contentWrapper.querySelector('.favorites-list');\n  if (!listEl) {\n    listEl = document.createElement('ul');\n    listEl.className = 'favorites favorites-list';\n    contentWrapper.appendChild(listEl);\n  }\n\n  let paginationContainer = contentWrapper.querySelector(\n    '.js-favorites-pagination'\n  );\n  if (!paginationContainer) {\n    paginationContainer = document.createElement('div');\n    paginationContainer.className =\n      'favorites-pagination js-favorites-pagination';\n    contentWrapper.appendChild(paginationContainer);\n  }\n\n  if (isDesktop()) {\n    renderExercisesList(listEl, allFavoritesData, true);\n    paginationContainer.innerHTML = '';\n    return;\n  }\n\n  const itemsPerPage = getItemsPerPage();\n  const startIndex = (page - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const paginatedData = allFavoritesData.slice(startIndex, endIndex);\n\n  renderExercisesList(listEl, paginatedData, true);\n\n  const totalPages = Math.ceil(allFavoritesData.length / itemsPerPage);\n\n  if (totalPages > 1) {\n    renderPaginationUniversal({\n      container: paginationContainer,\n      currentPage: page,\n      totalPages: totalPages,\n      mode: 'neighbors',\n      classes: {\n        page: 'exercises__page',\n        active: 'active',\n      },\n      scrollToTop: true,\n      scrollTarget: '.favorites-wrapper',\n      onPageChange(newPage) {\n        currentPage = newPage;\n        renderPaginatedFavorites(newPage);\n      },\n    });\n  } else {\n    paginationContainer.innerHTML = '';\n  }\n}\n\nasync function renderFavorites(arr) {\n  const container = document.querySelector('.favorites-wrapper');\n  if (!container) return;\n\n  const emptyDiv = container.querySelector('.favorites-empty');\n  if (emptyDiv) {\n    emptyDiv.remove();\n  }\n\n  allFavoritesData = [];\n\n  if (Array.isArray(arr) && arr.length > 0) {\n    try {\n      const promises = arr.map(it => loadFavoritesData(it.trim()));\n      const results = await Promise.all(promises);\n\n      results.forEach(data => {\n        if (data) {\n          allFavoritesData.push(data);\n        }\n      });\n    } catch (error) {\n      console.error('Error loading:', error);\n    }\n  }\n\n  if (allFavoritesData.length === 0) {\n    renderEmptyMessage();\n    return;\n  }\n\n  currentPage = 1;\n  renderPaginatedFavorites(1);\n\n  const listEl = container.querySelector('.favorites-list');\n  if (listEl) {\n    listEl.addEventListener('click', event => {\n      const deleteBtn = event.target.closest('.favorites-delete-btn');\n      if (deleteBtn) {\n        const idToRemove = deleteBtn.dataset.id;\n        if (idToRemove) {\n          removeFavorite(idToRemove);\n          startRenderFavorites();\n        }\n      }\n    });\n  }\n}\n\nexport function startRenderFavorites() {\n  const favorites = getFavorites();\n  favorites.length ? renderFavorites(favorites) : renderEmptyMessage();\n}\n\nlet resizeTimeout;\nwindow.addEventListener('resize', () => {\n  clearTimeout(resizeTimeout);\n  resizeTimeout = setTimeout(() => {\n    if (allFavoritesData.length > 0) {\n      renderPaginatedFavorites(currentPage);\n    }\n  }, 250);\n});\n\nstartRenderFavorites();\n","/**\n * Universal module for working with a modal window template\n * Allows opening a modal with any content,\n * blocks the page scroll, closes on Escape\n */\n\nimport { startRenderFavorites } from './favorites-page';\n\nlet refs = null;\nlet isInitialized = false;\nconst modalTypes = {};\n\nexport function registerModalType(type, getContentFn, initFn) {\n  modalTypes[type] = {\n    getContent: getContentFn,\n    init: initFn,\n  };\n}\n\nfunction initRefs() {\n  if (isInitialized) return;\n\n  refs = {\n    modal: document.getElementById('modal-template'),\n    backdrop: document.querySelector('[data-modal-close]'),\n    closeBtn: document.querySelector('.modal-template__close-btn'),\n    body: document.querySelector('[data-modal-body]'),\n  };\n\n  isInitialized = true;\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    initRefs();\n  });\n} else {\n  initRefs();\n}\n\nexport function initModalButtons() {\n  const modalButtons = document.querySelectorAll('[data-modal]');\n\n  modalButtons.forEach(button => {\n    if (button.hasAttribute('data-modal-initialized')) {\n      return;\n    }\n\n    const modalType = button.getAttribute('data-modal');\n\n    if (!modalTypes[modalType]) {\n      console.warn(`Modal type \"${modalType}\" is not registered`);\n      return;\n    }\n\n    button.addEventListener('click', () => {\n      const { getContent, init } = modalTypes[modalType];\n\n      const content = getContent();\n      if (!content) {\n        console.error(`Failed to get content for modal type \"${modalType}\"`);\n        return;\n      }\n\n      openModal(content);\n\n      if (init) {\n        setTimeout(async () => {\n          try {\n            await init(closeModal);\n          } catch (error) {\n            console.error('Error initializing modal:', error);\n          }\n        }, 100);\n      }\n    });\n\n    button.setAttribute('data-modal-initialized', 'true');\n  });\n}\n\nexport function openModal(content) {\n  initRefs();\n\n  if (!refs || !refs.modal || !refs.body) {\n    console.error('Modal template elements not found');\n    return;\n  }\n\n  if (typeof content === 'string') {\n    refs.body.innerHTML = content;\n  } else if (content instanceof HTMLElement) {\n    refs.body.innerHTML = '';\n    refs.body.appendChild(content);\n  } else {\n    console.error('Invalid content type. Expected string or HTMLElement');\n    return;\n  }\n\n  refs.modal.classList.remove('hidden');\n  document.body.classList.add('modal-open');\n\n  document.addEventListener('keydown', handleEscape, { once: false });\n  refs.backdrop?.addEventListener('click', handleBackdropClick);\n  refs.closeBtn?.addEventListener('click', handleCloseButtonClick);\n}\n\nexport function closeModal() {\n  initRefs();\n\n  if (!refs || !refs.modal) return;\n\n  refs.modal.classList.add('hidden');\n  document.body.classList.remove('modal-open');\n\n  document.removeEventListener('keydown', handleEscape);\n  refs.backdrop?.removeEventListener('click', handleBackdropClick);\n  refs.closeBtn?.removeEventListener('click', handleCloseButtonClick);\n\n  if (refs && refs.body) {\n    refs.body.innerHTML = '';\n  }\n  const checkExcesicerender = document.querySelector('.favorites-list');\n  if (checkExcesicerender) startRenderFavorites();\n}\n\nfunction isConfirmModalOpen() {\n  const confirmModal = document.getElementById('modal-confirm');\n  return confirmModal && !confirmModal.classList.contains('hidden');\n}\n\nfunction handleEscape(event) {\n  if (event.key === 'Escape') {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === refs.backdrop) {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    closeModal();\n  }\n}\n\nfunction handleCloseButtonClick() {\n  if (isConfirmModalOpen()) {\n    return;\n  }\n  closeModal();\n}\n\nexport function isModalOpen() {\n  initRefs();\n  return refs && refs.modal && !refs.modal.classList.contains('hidden');\n}\n","const ref = {\n  loaderOverlay: document.getElementById('loader-overlay'),\n  loaderBg: document.getElementById('bg-loader'),\n};\nexport function startLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.remove('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.add('bg-loader');\n}\nexport function cancelLoader() {\n  if (ref.loaderOverlay) ref.loaderOverlay.classList.add('hidden');\n  if (ref.loaderBg) ref.loaderBg.classList.remove('bg-loader');\n}\n","import { YourEnergyAPI } from './api.js';\nimport { initFavoritesBtn } from './favorites-btn.js';\nimport { showError } from './iziToast-helper.js';\nimport { initModalButtons } from './modal-template.js';\n\nconst api = new YourEnergyAPI();\n\nexport function getExerciseModalContent() {\n  const modalTemplate = document.getElementById('exercise-modal-template');\n\n  if (!modalTemplate) {\n    console.error(\n      'Exercise modal template not found. Ensure modal-exercise.html is loaded via <load> tag.'\n    );\n    return null;\n  }\n\n  const fragment = modalTemplate.content.cloneNode(true);\n  const content = fragment.firstElementChild || fragment.firstChild;\n\n  if (!content) {\n    console.error('Failed to extract content from template fragment');\n    return null;\n  }\n\n  return content;\n}\n\nexport async function initExerciseModal(closeModalFn) {\n  const modalBody = document.querySelector('[data-modal-body]');\n  const modal = modalBody?.querySelector('.exercise-modal');\n\n  if (!modalBody || !modal) {\n    console.error('Modal body or exercise modal not found');\n    return;\n  }\n\n  const loader = modal.querySelector('.exercise-modal__loader');\n  if (loader) {\n    loader.classList.remove('hidden');\n  }\n\n  let exerciseId =\n    sessionStorage.getItem('exerciseModalExerciseId') ||\n    document\n      .querySelector('[data-modal=\"exercise\"][data-exercise-id]')\n      ?.getAttribute('data-exercise-id');\n\n  if (exerciseId) {\n    sessionStorage.removeItem('exerciseModalExerciseId');\n  }\n\n  if (!exerciseId) {\n    if (loader) loader.classList.add('hidden');\n    showError('Exercise ID is missing');\n    return;\n  }\n\n  let exercise;\n  try {\n    exercise = await api.getExerciseById(exerciseId);\n    exercise.id = exercise.id || exercise._id;\n  } catch (err) {\n    console.error('Failed to load exercise:', err);\n    if (loader) loader.classList.add('hidden');\n    showError(err.message || 'Failed to load exercise. Try later.');\n    modal.innerHTML = `<p>Failed to load exercise. Try later.</p>`;\n    return;\n  }\n\n  renderExerciseData(modal, exercise);\n\n  if (loader) {\n    loader.classList.add('hidden');\n  }\n\n  const favoritesBtn = modal.querySelector('.favorites-btn');\n  if (favoritesBtn) {\n    initFavoritesBtn(exercise, favoritesBtn);\n  }\n\n  const ratingBtn = modal.querySelector('.exercise-modal__btn--rating');\n  if (ratingBtn && !ratingBtn.hasAttribute('data-modal-initialized')) {\n    initModalButtons();\n  }\n}\n\nfunction renderExerciseData(container, exercise) {\n  const titleEl = container.querySelector('.exercise-modal__title');\n  const ratingValueEl = container.querySelector(\n    '.exercise-modal__rating-value'\n  );\n  const starsContainer = container.querySelector('.exercise-modal__stars');\n  const gifEl = container.querySelector('.exercise-modal__gif');\n  const targetEl = container.querySelector('.exercise-modal__target');\n  const bodypartEl = container.querySelector('.exercise-modal__bodypart');\n  const equipmentEl = container.querySelector('.exercise-modal__equipment');\n  const popularEl = container.querySelector('.exercise-modal__popular');\n  const caloriesEl = container.querySelector('.exercise-modal__calories');\n  const descriptionEl = container.querySelector('.exercise-modal__description');\n  const favoritesBtn = container.querySelector('.favorites-btn');\n  const ratingBtn = container.querySelector('.exercise-modal__btn--rating');\n\n  // Title\n  if (titleEl) titleEl.textContent = exercise.name || '';\n\n  // Rating\n  const rating = exercise.rating || 0;\n  if (ratingValueEl) {\n    ratingValueEl.textContent = rating.toFixed(1);\n  }\n  if (starsContainer) {\n    starsContainer.innerHTML = renderStars(rating);\n  }\n\n  // GIF\n  if (gifEl) {\n    gifEl.src = exercise.gifUrl || '';\n    gifEl.alt = exercise.name || 'Exercise GIF';\n  }\n\n  // Info\n  if (targetEl) targetEl.textContent = capitalizeFirst(exercise.target || '');\n  if (bodypartEl)\n    bodypartEl.textContent = capitalizeFirst(exercise.bodyPart || '');\n  if (equipmentEl)\n    equipmentEl.textContent = capitalizeFirst(exercise.equipment || '');\n\n  // Popular\n  if (popularEl) {\n    const popularity = exercise.popularity || 0;\n    if (popularity >= 1000) {\n      popularEl.textContent =\n        (popularity / 1000).toFixed(1).replace(/\\.0$/, '') + 'k';\n    } else {\n      popularEl.textContent = popularity.toString();\n    }\n  }\n\n  // Calories\n  if (caloriesEl) {\n    const calories = exercise.burnedCalories;\n    const caloriesContainer = caloriesEl.closest('p');\n\n    if (calories && calories > 0) {\n      const time = exercise.time || 3;\n      caloriesEl.textContent = `${calories}/${time} min`;\n      if (caloriesContainer) {\n        caloriesContainer.style.display = '';\n      }\n    } else {\n      if (caloriesContainer) {\n        caloriesContainer.style.display = 'none';\n      }\n    }\n  }\n\n  // Description\n  if (descriptionEl) {\n    descriptionEl.textContent =\n      exercise.description || exercise.instructions || '';\n  }\n\n  // Buttons\n  if (favoritesBtn) {\n    favoritesBtn.setAttribute('data-id', exercise.id || exercise._id || '');\n  }\n\n  if (ratingBtn) {\n    ratingBtn.setAttribute(\n      'data-exercise-id',\n      exercise.id || exercise._id || ''\n    );\n  }\n}\n\nfunction renderStars(rating) {\n  const roundedRating = Math.round(rating);\n  const fullStars = roundedRating;\n  const emptyStars = 5 - fullStars;\n\n  let starsHTML = '';\n\n  const starPath =\n    'M5.53234 0.690968C5.83169 -0.230342 7.1351 -0.230343 7.43445 0.690968L8.27951 3.29178C8.41338 3.7038 8.79734 3.98276 9.23057 3.98276H11.9652C12.9339 3.98276 13.3367 5.22238 12.553 5.79178L10.3406 7.39917C9.99014 7.65381 9.84348 8.10518 9.97735 8.5172L10.8224 11.118C11.1218 12.0393 10.0673 12.8055 9.28357 12.2361L7.07118 10.6287C6.7207 10.374 6.2461 10.374 5.89561 10.6287L3.68323 12.2361C2.89952 12.8055 1.84504 12.0393 2.14439 11.118L2.98944 8.51721C3.12332 8.10518 2.97666 7.65381 2.62617 7.39917L0.41379 5.79178C-0.369924 5.22238 0.0328507 3.98276 1.00157 3.98276H3.73623C4.16946 3.98276 4.55341 3.7038 4.68729 3.29178L5.53234 0.690968Z';\n\n  for (let i = 0; i < fullStars; i++) {\n    starsHTML += `\n      <div class=\"rating-star active\">\n        <svg\n          width=\"18\"\n          height=\"18\"\n          viewBox=\"0 0 13 13\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"rating-star__svg\"\n        >\n          <path\n            d=\"${starPath}\"\n            class=\"rating-star__path\"\n          />\n        </svg>\n      </div>\n    `;\n  }\n  for (let i = 0; i < emptyStars; i++) {\n    starsHTML += `\n      <div class=\"rating-star\">\n        <svg\n          width=\"18\"\n          height=\"18\"\n          viewBox=\"0 0 13 13\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"rating-star__svg\"\n        >\n          <path\n            d=\"${starPath}\"\n            class=\"rating-star__path\"\n          />\n        </svg>\n      </div>\n    `;\n  }\n\n  return starsHTML;\n}\n\nfunction capitalizeFirst(str) {\n  if (!str) return '';\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { renderPaginationUniversal } from './pagination.js';\nimport iziToast from 'izitoast';\nimport { openModal, closeModal } from './modal-template.js';\nimport { startLoader, cancelLoader } from './loader.js';\nimport {\n  getExerciseModalContent,\n  initExerciseModal,\n} from './modal-exercise-content.js';\n\nconst api = new YourEnergyAPI();\n\nfunction getPageLimit() {\n  return window.innerWidth < 768 ? 8 : 10;\n}\n\nlet currentQuery = {\n  type: 'body-parts',\n  filter: 'waist',\n  keyword: '',\n};\n\nlet currentPage = 1;\nlet currentTotalPages = 1;\nlet lastRequestId = 0;\nlet lastEmptyToastKey = '';\n\nexport async function loadExercisesList({\n  page = 1,\n  type,\n  filter,\n  keyword,\n} = {}) {\n  const listEl = document.querySelector('.js-exercises-list');\n  if (!listEl) return;\n\n  const limit = getPageLimit();\n\n  if (type !== undefined) currentQuery.type = type;\n  if (filter !== undefined) currentQuery.filter = filter;\n  if (keyword !== undefined) currentQuery.keyword = keyword;\n\n  const activeType = currentQuery.type;\n  const activeFilter = currentQuery.filter;\n  const activeKeyword = currentQuery.keyword || '';\n\n  const params = buildExercisesParams({\n    page,\n    limit,\n    type: activeType,\n    filter: activeFilter,\n    keyword: activeKeyword,\n  });\n\n  const requestId = ++lastRequestId;\n\n  startLoader();\n\n  try {\n    const data = await api.getExercises(params);\n    if (requestId !== lastRequestId) return;\n\n    const items = data.results || [];\n    currentPage = data.page || page;\n    currentTotalPages = data.totalPages || 1;\n\n    renderExercisesList(listEl, items);\n    renderExercisesPagination(currentPage, currentTotalPages);\n\n    if (!items.length) {\n      const emptyKey = `${activeType}:${activeFilter}:${activeKeyword || ''}`;\n\n      if (emptyKey !== lastEmptyToastKey) {\n        lastEmptyToastKey = emptyKey;\n\n        if (activeKeyword || type !== undefined || filter !== undefined) {\n          iziToast.warning({\n            title: 'No results',\n            message: activeKeyword\n              ? `Nothing found for ‚Äú${activeKeyword}‚Äù. Try another search.`\n              : 'No exercises found for this category.',\n            position: 'topRight',\n          });\n        }\n      }\n    } else {\n      lastEmptyToastKey = '';\n    }\n\n    const shouldUpdateUrl =\n      type !== undefined || filter !== undefined || keyword !== undefined;\n\n    if (shouldUpdateUrl) {\n      const url = new URL(window.location.href);\n      url.searchParams.set('type', activeType);\n      url.searchParams.set('filter', activeFilter);\n\n      if (activeKeyword) url.searchParams.set('keyword', activeKeyword);\n      else url.searchParams.delete('keyword');\n\n      window.history.pushState({}, '', url);\n    }\n  } catch (err) {\n    console.error('Failed to load exercises:', err);\n\n    if (requestId !== lastRequestId) return;\n\n    if (typeof showError === 'function') {\n      showError(err.message || 'Failed to load exercises. Try again later.');\n    } else {\n      iziToast.error({\n        title: 'Error',\n        message: err.message || 'Failed to load exercises. Try again later.',\n        position: 'topRight',\n      });\n    }\n\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>Failed to load exercises. Try again later.</p>\n      </li>\n    `;\n  } finally {\n    if (requestId === lastRequestId) {\n      cancelLoader();\n    }\n  }\n}\n\nfunction buildExercisesParams({ page, limit, type, filter, keyword }) {\n  const params = { page, limit };\n\n  if (keyword) params.keyword = keyword;\n\n  switch (type) {\n    case 'body-parts':\n      params.bodypart = filter;\n      break;\n    case 'muscles':\n      params.muscles = filter;\n      break;\n    case 'equipment':\n      params.equipment = filter;\n      break;\n    default:\n      params.bodypart = filter;\n  }\n\n  return params;\n}\n\nexport function renderExercisesList(listEl, items, isFavorite = false) {\n  if (!items.length) {\n    listEl.innerHTML = `\n      <li class=\"exercises__item\">\n        <p>No exercises found.</p>\n      </li>\n    `;\n    return;\n  }\n\n  const markup = items\n    .map(it => createExerciseCardMarkup(it, isFavorite))\n    .join('');\n  listEl.innerHTML = markup;\n  handleExerciseItemClick(listEl);\n}\n\nfunction createExerciseCardMarkup(item, isFavorite = false) {\n  const { name, burnedCalories, bodyPart, target, time, rating, _id } = item;\n  const actionMarkup = isFavorite\n    ? `<button type=\"button\" class=\"favorites-delete-btn\" data-id=\"${_id}\">\n         <svg class=\"favorites-icon-trash\" width=\"16\" height=\"16\" aria-label=\"Remove from favorites\">\n            <use href=\"./img/icons.svg#icon-trash\"></use> \n         </svg>\n       </button>`\n    : `<div class=\"exercises__rating\">\n         <span class=\"exercises__meta-key\">${rating}</span>\n         <span class=\"exercises__meta-value\">\n           <svg class=\"star\" width=\"18\" height=\"18\">\n             <use href=\"./img/icons.svg#icon-star\"></use>\n           </svg>\n         </span>\n       </div>`;\n\n  return `\n    <li class=\"exercises__item\" data-exercise-id=\"${_id}\">\n      <div class=\"exercises__item-top\">\n        <div class=\"exercises__item-info\">\n          <span class=\"exercises__badge\">Workout</span>\n          \n          ${actionMarkup} \n          \n        </div>\n\n        <button\n          type=\"button\"\n          class=\"exercises__start-btn js-open-exercise\"\n          data-exercise-id=\"${_id}\"\n        >\n          Start\n          <svg class=\"arrow__icon\" width=\"16\" height=\"16\">\n             <use href=\"./img/icons.svg#icon-arrow\"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class=\"exercises__name-container\">\n        <svg class=\"exercises__icon\" width=\"24\" height=\"24\">\n           <use href=\"./img/icons.svg#icon-running-man\"></use>\n        </svg>\n        <h3 class=\"exercises__name\">${name}</h3>\n      </div>\n\n        <div class=\"exercises__item-bottom\">\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Burned calories:</span>\n            <span class=\"exercises__meta-value\">${burnedCalories} / ${time}</span>\n          </p>\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Body part:</span>\n            <span class=\"exercises__meta-value\">${bodyPart}</span>\n          </p>\n          <p class=\"exercises__meta\">\n            <span class=\"exercises__meta-label\">Target:</span>\n            <span class=\"exercises__meta-value\">${target}</span>\n          </p>\n        </div>\n      </li>\n  `;\n}\n\nexport function renderExercisesPagination(currentPage, totalPages) {\n  const container = document.querySelector('.js-exercises-pagination');\n  if (!container) return;\n\n  renderPaginationUniversal({\n    container,\n    currentPage,\n    totalPages,\n    mode: 'neighbors',\n    classes: {\n      page: 'exercises__page',\n      active: 'active',\n    },\n    scrollToTop: true,\n    scrollTarget: '.exercises',\n    onPageChange(page) {\n      return loadExercisesList({ page });\n    },\n  });\n}\n\nfunction handleExerciseItemClick(listEl) {\n  const startButtons = listEl.querySelectorAll(\n    '.exercises__start-btn[data-exercise-id]'\n  );\n\n  startButtons.forEach(button => {\n    if (button.hasAttribute('data-click-handler-attached')) {\n      return;\n    }\n\n    button.addEventListener('click', handleExcersiseModalOpen);\n    button.setAttribute('data-click-handler-attached', 'true');\n  });\n}\n\nasync function handleExcersiseModalOpen(event) {\n  const button = event.currentTarget;\n  const exerciseId = button.getAttribute('data-exercise-id');\n\n  if (!exerciseId) {\n    console.error('Exercise ID is missing');\n    return;\n  }\n\n  sessionStorage.setItem('exerciseModalExerciseId', exerciseId);\n\n  const content = getExerciseModalContent();\n  if (!content) {\n    console.error('Failed to get exercise modal content');\n    return;\n  }\n\n  openModal(content);\n  try {\n    await initExerciseModal(closeModal);\n  } catch (error) {\n    console.error('Error initializing exercise modal:', error);\n  }\n}\n","import { loadExercisesList } from './exercises-list.js';\nconst tabsContainer = document.querySelector('[data-filters-tabs]');\nconst searchBox = document.querySelector('.filters__search');\nconst subtitle = document.querySelector('.filters__subtitle');\n\nconst isDesktop = () => window.matchMedia('(min-width: 1440px)').matches;\n\n// ‚úÖ —É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è UI\nfunction updateUIForFilter(filter, subtitleValue = '') {\n  if (!searchBox || !subtitle) return;\n\n  const desktop = isDesktop();\n\n  if (filter === 'bodypart') {\n    // —è–∫—â–æ –ø—Ä–∏–π—à–ª–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ Categories ‚Äî –ø–æ–∫–∞–∑—É—î–º–æ –π–æ–≥–æ,\n    // —ñ–Ω–∞–∫—à–µ –ª–∏—à–∞—î–º–æ –¥–µ—Ñ–æ–ª—Ç Waist\n    subtitle.textContent = ` / ${subtitleValue || 'Waist'}`;\n\n    // üëâ –î–û–ë–ê–í–õ–ï–ù–û: —Ä–µ–Ω–¥–µ—Ä –µ–∫—Å–µ—Å–∞–π–∑—ñ–≤\n    if (typeof renderExercises === 'function') {\n      renderExercises(window.exercisesList || []);\n    }\n\n    if (desktop) {\n      searchBox.classList.add('filters__search--visible');\n    } else {\n      searchBox.classList.add('filters__search--visible');\n    }\n  } else {\n    subtitle.textContent = '';\n    searchBox.classList.remove('filters__search--visible');\n  }\n}\n\n// ‚úÖ –ï–ö–°–ü–û–†–¢: —Ç–µ, —â–æ –≤–∏–∫–ª–∏–∫–∞—î Categories\nexport function activateFiltersTab(filterKey, subtitleValue = '') {\n  if (!tabsContainer) return;\n\n  const btn = tabsContainer.querySelector(`[data-filter=\"${filterKey}\"]`);\n  if (!btn) return;\n\n  const categoriesBox = document.getElementById('cards-box');\n  const exercisesBox = document.getElementById('exercises');\n  const equipmentBox = document.getElementById('equipment-box');\n\n  if (categoriesBox) categoriesBox.classList.add('hidden');\n  if (exercisesBox) exercisesBox.classList.add('hidden');\n  if (equipmentBox) equipmentBox.classList.add('hidden');\n\n  const url = new URL(window.location.href);\n\n  if (filterKey === 'muscles') {\n    if (categoriesBox) categoriesBox.classList.remove('hidden');\n    url.searchParams.delete('filter');\n    url.searchParams.delete('type');\n  } else if (filterKey === 'equipment') {\n    if (equipmentBox) equipmentBox.classList.remove('hidden');\n    url.searchParams.delete('filter');\n    url.searchParams.delete('type');\n  } else if (filterKey === 'bodypart') {\n    if (exercisesBox) exercisesBox.classList.remove('hidden');\n    url.searchParams.set('type', 'body-parts');\n    if (subtitleValue) {\n      url.searchParams.set('filter', subtitleValue.toLowerCase());\n    } else {\n      url.searchParams.delete('filter');\n      // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å–ø–∏—Å–æ–∫, —è–∫—â–æ —Ü–µ –ø—Ä–æ—Å—Ç–æ –∫–ª—ñ–∫ –ø–æ —Ç–∞–±—É\n      loadExercisesList({ page: 1 });\n    }\n  }\n  window.history.pushState({}, '', url);\n\n  tabsContainer.querySelectorAll('.filters__tab').forEach(tab => {\n    const isActive = tab === btn;\n    tab.classList.toggle('filters__tab--active', isActive);\n    tab.setAttribute('aria-selected', isActive ? 'true' : 'false');\n  });\n\n  updateUIForFilter(filterKey, subtitleValue);\n}\nif (tabsContainer && searchBox && subtitle) {\n  tabsContainer.addEventListener('click', e => {\n    const btn = e.target.closest('.filters__tab');\n    if (!btn) return;\n\n    // subtitleValue —Ç—É—Ç –Ω–µ –ø–µ—Ä–µ–¥–∞—î–º–æ ‚Äî –±—É–¥–µ –¥–µ—Ñ–æ–ª—Ç–Ω–∏–π Waist\n    activateFiltersTab(btn.dataset.filter);\n  });\n\n  // —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ\n  const activeBtn = tabsContainer.querySelector('.filters__tab--active');\n  if (activeBtn) {\n    updateUIForFilter(activeBtn.dataset.filter);\n  }\n}\n\n// === –õ–æ–≥–∏–∫–∞ –∫—Ä–µ—Å—Ç–∏–∫–∞ –æ—á–∏—Å—Ç–∫–∏ ===\nconst searchInput = document.querySelector('.filters__input');\nconst clearBtn = document.querySelector('.filters__clear-btn');\n\nif (searchInput && clearBtn) {\n  const toggleClear = () => {\n    if (searchInput.value.trim()) {\n      clearBtn.classList.add('filters__clear-btn--visible');\n    } else {\n      clearBtn.classList.remove('filters__clear-btn--visible');\n    }\n  };\n\n  searchInput.addEventListener('input', toggleClear);\n\n  clearBtn.addEventListener('click', () => {\n    searchInput.value = '';\n    searchInput.focus();\n    toggleClear();\n  });\n\n  toggleClear();\n}\n","import { activateFiltersTab } from './filters';\nimport { loadExercisesList } from './exercises-list';\n\n\nexport function handleCategoryCardClick(item) {\n  return function (e) {\n    e.preventDefault();\n\n    // 1. –í–∏–∑–Ω–∞—á–∞—î–º–æ —Ç–∏–ø —Ñ—ñ–ª—å—Ç—Ä—É\n    const TYPE_MAP = {\n      Muscles: 'muscles',\n      'Body parts': 'body-parts',\n      Equipment: 'equipment',\n    };\n\n    const type = TYPE_MAP[item.filter] || TYPE_MAP['Body parts'];\n\n    // 2. –•–æ–≤–∞—î–º–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó\n    const categoriesSection = document.getElementById('cards-box');\n    categoriesSection.classList.add('hidden');\n\n    // 3. –ü–æ–∫–∞–∑—É—î–º–æ exercises\n    const exercisesSection = document.getElementById('exercises');\n    exercisesSection.classList.remove('hidden');\n\n    // 4. –ê–∫—Ç–∏–≤—É—î–º–æ —Ç–∞–± Body parts + —á–æ—Ä–Ω–∞ —Ä–∏—Å–∫–∞\n    activateFiltersTab('bodypart', item.name);\n\n    // 5. –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ—à—É–∫ (–∞–∫—Ç–∏–≤—É—î —Å–∞–º–∞ activateFiltersTab)\n\n    // 6. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ exercises –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é\n    loadExercisesList ({\n      page: 1,\n      filter: item.name.toLowerCase(),\n      type,\n    });\n\n    // 7. –û–Ω–æ–≤–ª—é—î–º–æ URL\n    const url = new URL(window.location.href);\n    url.searchParams.set('type', type);\n    url.searchParams.set('filter', item.name.toLowerCase());\n    window.history.pushState({}, '', url);\n  };\n}","import { YourEnergyAPI } from './api';\nimport { showError } from './iziToast-helper';\nimport { injectSchema } from './seo-function';\nimport { handleCategoryCardClick } from './categories-card-click';\nexport const fetchApi = new YourEnergyAPI();\n\nconst PAGE_LIMIT = window.innerWidth < 768 ? 9 : 12;\n\n// UI state\nlet activeFilter = 'Muscles';\nlet activePage = 1;\n\nasync function getCategories(filter = activeFilter, page = 1, limit = PAGE_LIMIT) {\n  activeFilter = filter;\n  activePage = page;\n\n  try {\n    const params = { filter, page, limit };\n    const data = await fetchApi.getFilters(params);\n\n    if (!data) {\n      showError(\"Failed to fetch categories: No response from server\");\n      clearCards();\n      clearPagination();\n      return;\n    }\n\n    if (data.error || data.status === 'error') {\n      showError(data.message || \"Failed to fetch categories\");\n      clearCards();\n      clearPagination();\n      return;\n    }\n\n    if (!data.results || data.results.length === 0) {\n      showError(\"Nothing found\");\n      clearCards();\n      clearPagination();\n      return;\n    }\n\n    renderCards(data.results || []);\n    renderPagination(activePage, data.totalPages || 1);\n\n    if (typeof injectSchema === 'function') {\n      injectSchema(data);\n    }\n  } catch (err) {\n    console.error('getCategories error:', err);\n    showError(err?.message || 'Something went wrong');\n    clearCards();\n    clearPagination();\n  }\n}\n\n// Cards\nfunction renderCards(items) {\n  const container = document.getElementById('cards-container');\n  if (!container) return;\n  container.innerHTML = \"\";\n\n  items.forEach(item => {\n    const card = document.createElement('div');\n    card.className = 'card';\n\n    // Safe values\n    const safeImg = item.imgURL && item.imgURL.trim() !== \"\" \n      ? item.imgURL \n      : \"/img/no-image.jpg\";     // fallback image\n    \n    const safeName = item.name || \"\";\n    const safeFilter = item.filter || \"\";\n\n    card.innerHTML = `\n      <img src=\"${safeImg}\" alt=\"${safeName}\" loading=\"lazy\" />\n      <div class=\"card-body\">\n        <h3>${safeName}</h3>\n        <span>${safeFilter}</span>\n      </div>\n    `;\n    handleCategoryCardClick;\n    card.addEventListener('click', handleCategoryCardClick(item));\n    container.appendChild(card);\n\n    const cardBody = card.querySelector(\".card-body\");\n    cardBody.addEventListener(\"click\", () => {\n      onCardBodyClick(safeName);\n    });\n  });\n}\n\n// Pagination\nfunction renderPagination(currentPage, totalPages) {\n  const container = document.getElementById('pagination');\n  if (!container) return;\n  container.innerHTML = '';\n\n  for (let i = 1; i <= totalPages; i++) {\n    const pageNum = i;\n    const btn = document.createElement('button');\n\n    btn.textContent = pageNum;\n    btn.className = 'pagination-page';\n    btn.setAttribute('data-page', pageNum);\n\n    if (pageNum === currentPage) {\n      btn.classList.add('active');\n    }\n\n    btn.addEventListener('click', () => {\n      if (pageNum === activePage) return;\n      activePage = pageNum;\n      getCategories(activeFilter, pageNum, PAGE_LIMIT);\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    });\n\n    container.appendChild(btn);\n  }\n}\n\n// Clear Helpers\nfunction clearCards() {\n  const container = document.getElementById(\"cards-container\");\n  if (container) container.innerHTML = \"\";\n}\n\nfunction clearPagination() {\n  const container = document.getElementById(\"pagination\");\n  if (container) container.innerHTML = \"\";\n}\n\n// Callback on card click\nexport function onCardBodyClick(nameValue) {\n  console.log(\"Clicked name:\", nameValue);\n  // here need to add logic how to join categories and exercises\n}\n\n// First load\ngetCategories(activeFilter, activePage, PAGE_LIMIT);\n","import { REFS } from './constants.js';\n\n(() => {\n  const {\n    mobileMenu: menu,\n    mobileMenuOpenBtn: openMenuBtn,\n    mobileMenuCloseBtn: closeMenuBtn,\n  } = REFS;\n\n  if (!openMenuBtn || !menu || !closeMenuBtn) return;\n\n  const toggleMenu = () => {\n    menu.classList.toggle('is-open');\n    document.body.classList.toggle('menu-open');\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  window\n    .matchMedia('(min-width: 768px)')\n    .addEventListener('change', e => {\n      if (!e.matches) return;\n      menu.classList.remove('is-open');\n      document.body.classList.remove('menu-open');\n    });\n})();\n","import { VALIDATION, ERROR_MESSAGES } from './constants.js';\nimport { showSuccess, showError, showInfo } from './iziToast-helper.js';\nconst form = document.querySelector('.footer__form');\nconst emailInput = form.querySelector('.footer__input');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const email = emailInput.value.trim();\n\n  if (!email || !VALIDATION.EMAIL_REGEX.test(email)) {\n    return;\n  }\n\n  try {\n    const response = await fetch(\n      'https://your-energy.b.goit.study/api/subscription',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      }\n    );\n\n    if (response.ok) {\n      showSuccess(\n        \"We're excited to have you on board! üéâ Thank you for subscribing to new exercises on Your Energy. You've just taken a significant step towards improving your fitness and well-being.\"\n      );\n      emailInput.value = '';\n    } else {\n      const data = await response.json();\n      showInfo('Subscription already exists');\n    }\n  } catch (error) {\n    showError('Server error');\n  }\n});\n","const scrollUpButton = document.querySelector('.scroll-up-btn');\n\nif (scrollUpButton) {\n  function smoothScrollToTop(duration = 1000) {\n    const start = window.scrollY;\n    const startTime = performance.now();\n\n    function scrollStep(currentTime) {\n      const elapsed = currentTime - startTime;\n      const progress = Math.min(elapsed / duration, 1);\n      const ease = 1 - Math.pow(1 - progress, 3);\n      window.scrollTo(0, start * (1 - ease));\n\n      if (progress < 1) {\n        requestAnimationFrame(scrollStep);\n      }\n    }\n\n    requestAnimationFrame(scrollStep);\n  }\n\n  window.addEventListener('scroll', () => {\n    if (window.scrollY > 300) {\n      scrollUpButton.classList.add('show');\n    } else {\n      scrollUpButton.classList.remove('show');\n    }\n  });\n\n  scrollUpButton.addEventListener('click', (e) => {\n    e.preventDefault();\n    smoothScrollToTop();\n  });\n}\n","/**\n * module for working with a confirm modal that opens over the main modal\n */\n\nlet confirmModalRefs = null;\nlet confirmCallback = null;\nlet cancelCallback = null;\n\nfunction initConfirmRefs() {\n  if (confirmModalRefs) return;\n\n  const modal = document.getElementById('modal-confirm');\n  if (!modal) {\n    console.error('Confirm modal not found');\n    return;\n  }\n\n  confirmModalRefs = {\n    modal,\n    backdrop: modal.querySelector('[data-confirm-close]'),\n    message: modal.querySelector('[data-confirm-message]'),\n    cancelBtn: modal.querySelector('[data-confirm-cancel]'),\n    confirmBtn: modal.querySelector('[data-confirm-ok]'),\n  };\n\n  confirmModalRefs.backdrop?.removeEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.removeEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.removeEventListener('click', handleConfirm, {\n    capture: true,\n  });\n\n  confirmModalRefs.backdrop?.addEventListener('click', handleBackdropClick, {\n    capture: true,\n  });\n  confirmModalRefs.cancelBtn?.addEventListener('click', handleCancel, {\n    capture: true,\n  });\n  confirmModalRefs.confirmBtn?.addEventListener('click', handleConfirm, {\n    capture: true,\n  });\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initConfirmRefs);\n} else {\n  initConfirmRefs();\n}\n\nfunction handleEscape(event) {\n  if (\n    event.key === 'Escape' &&\n    confirmModalRefs &&\n    !confirmModalRefs.modal.classList.contains('hidden')\n  ) {\n    handleCancel();\n  }\n}\n\nfunction handleBackdropClick(event) {\n  if (event.target === confirmModalRefs.backdrop) {\n    event.stopPropagation();\n    event.preventDefault();\n    handleCancel(event);\n  }\n}\n\nfunction handleCancel(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  const callback = cancelCallback;\n  closeConfirmModal();\n  if (callback) {\n    callback();\n  }\n}\n\nfunction handleConfirm(event) {\n  if (event) {\n    event.stopPropagation();\n    event.preventDefault();\n  }\n\n  const callback = confirmCallback;\n  closeConfirmModal();\n  setTimeout(() => {\n    if (callback) {\n      callback();\n    }\n  }, 0);\n}\n\nexport function openConfirmModal(message, onConfirm, onCancel = null) {\n  initConfirmRefs();\n\n  if (!confirmModalRefs || !confirmModalRefs.modal) {\n    console.error('Confirm modal elements not found');\n    return;\n  }\n\n  confirmCallback = onConfirm;\n  cancelCallback = onCancel;\n\n  if (confirmModalRefs.message) {\n    confirmModalRefs.message.textContent = message;\n  }\n\n  confirmModalRefs.modal.classList.remove('hidden');\n  document.addEventListener('keydown', handleEscape, { once: true });\n}\n\nexport function closeConfirmModal() {\n  if (!confirmModalRefs || !confirmModalRefs.modal) return;\n\n  confirmModalRefs.modal.classList.add('hidden');\n  confirmCallback = null;\n  cancelCallback = null;\n}\n","import { YourEnergyAPI } from './api.js';\nimport { showError, showSuccess } from './iziToast-helper.js';\nimport { openConfirmModal } from './confirm-modal.js';\nimport { ERROR_MESSAGES } from './constants.js';\n\nconst api = new YourEnergyAPI();\n\nlet checkFormFilledFn = null;\n\nexport function getRatingModalContent() {\n  const existingRatingModal = document.querySelector('.rating-modal');\n\n  if (!existingRatingModal) {\n    console.error(\n      'Rating modal HTML not found. Make sure modal-rating.html is loaded via <load> tag.'\n    );\n    return null;\n  }\n\n  const clonedModal = existingRatingModal.cloneNode(true);\n  updateElementIds(clonedModal);\n\n  return clonedModal;\n}\n\nfunction initRatingModalButtons() {\n  document.addEventListener(\n    'click',\n    function (event) {\n      const button = event.target.closest('[data-modal=\"rating\"]');\n      if (button) {\n        const exerciseId = button.getAttribute('data-exercise-id');\n        if (exerciseId) {\n          sessionStorage.setItem('ratingModalExerciseId', exerciseId);\n        }\n      }\n    },\n    { capture: true }\n  );\n}\n\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initRatingModalButtons);\n} else {\n  initRatingModalButtons();\n}\n\nfunction updateElementIds(element) {\n  const elementsWithId = element.querySelectorAll('[id]');\n  const timestamp = Date.now();\n\n  elementsWithId.forEach(el => {\n    const oldId = el.id;\n    el.id = `${oldId}-${timestamp}`;\n\n    const labels = element.querySelectorAll(`label[for=\"${oldId}\"]`);\n    labels.forEach(label => {\n      label.setAttribute('for', el.id);\n    });\n  });\n}\n\nexport function checkRatingFormFilled() {\n  return checkFormFilledFn ? checkFormFilledFn() : false;\n}\n\nfunction clearRatingForm() {\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!ratingModal) return;\n\n  const form = ratingModal.querySelector('.rating-modal__form');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const stars = ratingModal.querySelectorAll('.rating-star');\n\n  if (form) form.reset();\n  if (ratingInput) ratingInput.value = '0';\n  if (emailInput) emailInput.value = '';\n  if (commentTextarea) commentTextarea.value = '';\n  if (ratingText) ratingText.textContent = '';\n\n  stars.forEach(star => {\n    star.classList.remove('active');\n  });\n}\n\nexport function handleRatingModalClose(closeModalFn) {\n  if (checkFormFilledFn && checkFormFilledFn()) {\n    openConfirmModal(\n      'Are you sure you want to cancel your exercise review?',\n      () => {\n        clearRatingForm();\n        checkFormFilledFn = null;\n        closeModalFn();\n      },\n      () => {}\n    );\n  } else {\n    clearRatingForm();\n    checkFormFilledFn = null;\n    closeModalFn();\n  }\n}\n\nexport function initRatingModal(closeModalFn) {\n  checkFormFilledFn = null;\n\n  const modalBody = document.querySelector('[data-modal-body]');\n  const ratingModal = modalBody?.querySelector('.rating-modal');\n\n  if (!modalBody || !ratingModal) {\n    console.error('Modal body or rating modal not found');\n    return;\n  }\n\n  let exerciseId =\n    sessionStorage.getItem('ratingModalExerciseId') ||\n    document\n      .querySelector('[data-modal=\"rating\"][data-exercise-id]')\n      ?.getAttribute('data-exercise-id');\n\n  if (exerciseId) {\n    sessionStorage.removeItem('ratingModalExerciseId');\n  }\n\n  if (!exerciseId) {\n    showError('Exercise ID is missing');\n    return;\n  }\n\n  const stars = ratingModal.querySelectorAll('.rating-star');\n  const ratingInput = ratingModal.querySelector('input[name=\"rating\"]');\n  const ratingText = ratingModal.querySelector('.rating-modal__rating-text');\n  const cancelBtn = ratingModal.querySelector('.rating-modal__btn--cancel');\n  const submitBtn = ratingModal.querySelector(\n    '.rating-modal__btn[type=\"submit\"]'\n  );\n  const emailInput = ratingModal.querySelector('input[name=\"email\"]');\n  const commentTextarea = ratingModal.querySelector('textarea[name=\"comment\"]');\n  const form = ratingModal.querySelector('.rating-modal__form');\n\n  let currentRating = 0;\n  if (submitBtn) submitBtn.disabled = true;\n  if (ratingInput) ratingInput.value = '0';\n  if (ratingText) ratingText.textContent = '0';\n\n  const isFormValid = () => {\n    return (\n      currentRating > 0 &&\n      currentRating <= 5 &&\n      emailInput?.value.trim() !== '' &&\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  const updateSubmitButton = () => {\n    if (submitBtn) {\n      submitBtn.disabled = !isFormValid();\n    }\n  };\n\n  const checkFormFilled = () => {\n    return (\n      currentRating > 0 ||\n      emailInput?.value.trim() !== '' ||\n      commentTextarea?.value.trim() !== ''\n    );\n  };\n\n  checkFormFilledFn = checkFormFilled;\n\n  const updateStars = rating => {\n    stars.forEach((star, index) => {\n      const starRating = index + 1;\n      if (starRating <= rating) {\n        star.classList.add('active');\n      } else {\n        star.classList.remove('active');\n      }\n    });\n  };\n\n  stars.forEach((star, index) => {\n    const rating = index + 1;\n\n    star.addEventListener('click', () => {\n      currentRating = rating;\n      updateStars(rating);\n      if (ratingInput) ratingInput.value = rating;\n      if (ratingText) ratingText.textContent = rating;\n      updateSubmitButton();\n    });\n  });\n\n  [emailInput, commentTextarea].forEach(input => {\n    if (input) {\n      input.addEventListener('input', updateSubmitButton);\n    }\n  });\n\n  const resetForm = () => {\n    currentRating = 0;\n    if (ratingInput) ratingInput.value = '0';\n    if (emailInput) emailInput.value = '';\n    if (commentTextarea) commentTextarea.value = '';\n    if (ratingText) ratingText.textContent = '0';\n    updateStars(0);\n    updateSubmitButton();\n  };\n\n  const backdrop = document.querySelector('[data-modal-close]');\n\n  const isConfirmModalOpen = () => {\n    const confirmModal = document.getElementById('modal-confirm');\n    return confirmModal && !confirmModal.classList.contains('hidden');\n  };\n\n  const handleEscapeCapture = event => {\n    if (event.key === 'Escape') {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const backdropClickHandler = event => {\n    if (event.target === backdrop) {\n      if (isConfirmModalOpen()) {\n        return;\n      }\n      event.stopPropagation();\n      handleRatingModalClose(() => {\n        cleanup();\n        closeModalFn();\n      });\n    }\n  };\n\n  const cleanup = () => {\n    document.removeEventListener('keydown', handleEscapeCapture, {\n      capture: true,\n    });\n    backdrop?.removeEventListener('click', backdropClickHandler, {\n      capture: true,\n    });\n    closeBtn?.removeEventListener('click', closeBtnHandler, { capture: true });\n  };\n\n  const closeBtn = document.querySelector('.modal-template__close-btn');\n  const closeBtnHandler = event => {\n    if (isConfirmModalOpen()) {\n      return;\n    }\n    event.stopPropagation();\n    handleClose();\n  };\n\n  document.addEventListener('keydown', handleEscapeCapture, { capture: true });\n  backdrop?.addEventListener('click', backdropClickHandler, { capture: true });\n  closeBtn?.addEventListener('click', closeBtnHandler, { capture: true });\n\n  const handleClose = () => {\n    handleRatingModalClose(() => {\n      cleanup();\n      closeModalFn();\n    });\n  };\n\n  if (cancelBtn && closeModalFn) {\n    cancelBtn.addEventListener('click', () => {\n      handleClose();\n    });\n  }\n\n  if (form) {\n    form.setAttribute('data-no-auto-close', 'true');\n\n    form.addEventListener('submit', async e => {\n      e.preventDefault();\n\n      if (!isFormValid()) {\n        showError('Please fill in all fields');\n        return;\n      }\n\n      const formData = new FormData(form);\n      const rating = parseInt(formData.get('rating'), 10);\n      const email = formData.get('email').trim();\n      const comment = formData.get('comment').trim();\n\n      if (submitBtn) {\n        submitBtn.disabled = true;\n        submitBtn.textContent = 'Sending...';\n      }\n\n      try {\n        await api.rateExercise(exerciseId, {\n          rate: rating,\n          email: email,\n          review: comment,\n        });\n\n        showSuccess('Thank you for your feedback!');\n        checkFormFilledFn = null;\n\n        setTimeout(() => {\n          if (closeModalFn) {\n            cleanup();\n            closeModalFn();\n          }\n        }, 1000);\n      } catch (error) {\n        console.error('Failed to submit rating:', error);\n        showError(error.message || ERROR_MESSAGES.API_ERROR);\n\n        if (submitBtn) {\n          submitBtn.disabled = false;\n          submitBtn.textContent = 'Send';\n        }\n      }\n    });\n  }\n}\n","// export function initExercisesTabs() {\n//   const tabs = document.querySelectorAll('.exercises__tab');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n//     });\n//   });\n// }\n\n\n\n\n// src/js/exercises-tabs.js\n// import { loadExercisesList } from './exercises-list.js';\n\n// export function initExercisesTabs() {\n//   const tabsContainer = document.querySelector('.js-exercises-tabs');\n//   if (!tabsContainer) return;\n\n//   const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n//   const searchInput = document.querySelector('.exercises__search-input');\n\n//   tabs.forEach(tab => {\n//     tab.addEventListener('click', () => {\n//       // 1. –º—ñ–Ω—è—î–º–æ –∞–∫—Ç–∏–≤–Ω–∏–π —Ç–∞–±\n//       tabs.forEach(t => t.classList.remove('exercises__tab--active'));\n//       tab.classList.add('exercises__tab--active');\n\n//       // 2. –º–æ–∂–µ–º–æ –≤—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π –ø–æ—à—É–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç, —è–∫—â–æ —î\n//       const keyword = searchInput ? searchInput.value.trim() : '';\n\n//       // 3. —Ç—è–≥–Ω–µ–º–æ –Ω–æ–≤—ñ –≤–ø—Ä–∞–≤–∏ –ø—ñ–¥ —Ü–µ–π —Ç–∞–±\n//       loadExercisesList({ page: 1, keyword });\n//     });\n//   });\n// }\n\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesTabs() {\n  const tabsContainer = document.querySelector('.js-exercises-tabs');\n  if (!tabsContainer) return;\n\n  const tabs = tabsContainer.querySelectorAll('.exercises__tab');\n  const searchInput = document.querySelector('.exercises__search-input');\n\n  tab.addEventListener('click', () => {\n    document.getElementById('categories-section')?.classList.add('hidden');\n    document.getElementById('exercises-section')?.classList.remove('hidden');\n\n    loadExercisesList({ page: 1 });\n  });\n}\n","import iziToast from 'izitoast';\nimport { loadExercisesList } from './exercises-list.js';\n\nexport function initExercisesSearch() {\n  const searchInput = document.querySelector('.filters__input');\n  const searchBtn = document.querySelector('.filters__search-btn');\n  const clearBtn = document.querySelector('.filters__clear-btn');\n\n  if (!searchInput || !searchBtn) return;\n\n  const runSearch = () => {\n    const query = searchInput.value.trim();\n    console.log(query);\n\n    if (!query) {\n      iziToast.warning({\n        title: 'Attention',\n        message: 'Enter a search query',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    loadExercisesList({ page: 1, keyword: query });\n  };\n\n  searchBtn.addEventListener('click', runSearch);\n\n  searchInput.addEventListener('keydown', e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      runSearch();\n    }\n  });\n\n  if (clearBtn) {\n    clearBtn.addEventListener('click', () => {\n      searchInput.value = '';\n      searchInput.focus();\n\n      loadExercisesList({ page: 1, keyword: '' });\n    });\n  }\n}\n","import 'izitoast/dist/css/iziToast.min.css';\nimport './js/quote-of-the-day.js';\nimport './js/categories.js';\nimport './js/mobile-menu.js';\nimport './js/filters.js';\nimport './js/footer.js';\nimport './js/scroll-up.js';\nimport { cancelLoader } from './js/loader.js';\nimport { registerModalType, initModalButtons } from './js/modal-template.js';\nimport { MODAL_TYPES } from './js/constants.js';\nimport {\n  getExerciseModalContent,\n  initExerciseModal,\n} from './js/modal-exercise-content.js';\nimport {\n  getRatingModalContent,\n  initRatingModal,\n} from './js/modal-rating-content.js';\nimport { initExercisesTabs } from './js/exercises-tabs.js';\nimport { loadExercisesList } from './js/exercises-list.js';\nimport { initExercisesSearch } from './js/exercises-search.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  setTimeout(() => cancelLoader(), 300);\n  initModals();\n});\n\nfunction initModals() {\n  registerModalType(MODAL_TYPES.RATING, getRatingModalContent, initRatingModal);\n  registerModalType(\n    MODAL_TYPES.EXERCISE,\n    getExerciseModalContent,\n    initExerciseModal\n  );\n\n  initModalButtons();\n}\n\nloadExercisesList();\ninitExercisesTabs();\ninitExercisesSearch();\n"],"names":["CONFIG","COLORS","API_ENDPOINTS","REGEX","VALIDATION","TOAST","SEO","MODAL_TYPES","ERROR_MESSAGES","REFS","YourEnergyAPI","baseURL","axios","response","error","errorMessage","_b","_a","method","url","data","params","config","message","id","defaultOptions","showSuccess","iziToast","showError","showInfo","fetchApi","quote","getQuoteData","storedQuote","quoteContent","author","date","savedDate","currentDate","addTextContent","fetchGetExercisesQuote","resp","newQuote","quoteData","err","content","injectSchema","schemaData","item","index","updateSchemaScript","schemaId","script","renderPaginationUniversal","container","currentPage","totalPages","onPageChange","mode","showArrows","classes","icons","scrollToTop","scrollTarget","pageClass","activeClass","arrowClass","createBtn","label","page","className","btn","i","pages","_","p","el","FAVORITES_KEY","getFavorites","parsed","ids","saveFavorites","favoritesArray","isFavorite","addFavorite","exerciseObj","favorites","exerciseId","removeFavorite","updated","itemId","currentExercise","initFavoritesBtn","exercise","buttonElement","favoriteBtnElement","isInFavorites","updateButtonText","newBtn","currentId","button","textNodes","node","svg","text","api","allFavoritesData","isDesktop","getItemsPerPage","renderEmptyMessage","existingContent","existingEmpty","emptyDiv","loadFavoritesData","renderPaginatedFavorites","contentWrapper","listEl","paginationContainer","renderExercisesList","itemsPerPage","startIndex","endIndex","paginatedData","newPage","renderFavorites","arr","promises","it","event","deleteBtn","idToRemove","startRenderFavorites","resizeTimeout","refs","isInitialized","modalTypes","registerModalType","type","getContentFn","initFn","initRefs","initModalButtons","modalType","getContent","init","openModal","closeModal","handleEscape","handleBackdropClick","handleCloseButtonClick","isConfirmModalOpen","confirmModal","ref","startLoader","cancelLoader","getExerciseModalContent","modalTemplate","fragment","initExerciseModal","closeModalFn","modalBody","modal","loader","renderExerciseData","favoritesBtn","ratingBtn","titleEl","ratingValueEl","starsContainer","gifEl","targetEl","bodypartEl","equipmentEl","popularEl","caloriesEl","descriptionEl","rating","renderStars","capitalizeFirst","popularity","calories","caloriesContainer","time","fullStars","emptyStars","starsHTML","starPath","str","getPageLimit","currentQuery","currentTotalPages","lastRequestId","lastEmptyToastKey","loadExercisesList","filter","keyword","limit","activeType","activeFilter","activeKeyword","buildExercisesParams","requestId","items","renderExercisesPagination","emptyKey","markup","createExerciseCardMarkup","handleExerciseItemClick","name","burnedCalories","bodyPart","target","_id","actionMarkup","handleExcersiseModalOpen","tabsContainer","searchBox","subtitle","updateUIForFilter","subtitleValue","desktop","activateFiltersTab","filterKey","categoriesBox","exercisesBox","equipmentBox","tab","isActive","e","activeBtn","searchInput","clearBtn","toggleClear","handleCategoryCardClick","TYPE_MAP","PAGE_LIMIT","activePage","getCategories","clearCards","clearPagination","renderCards","renderPagination","card","safeImg","safeName","safeFilter","onCardBodyClick","pageNum","nameValue","menu","openMenuBtn","closeMenuBtn","toggleMenu","form","emailInput","email","scrollUpButton","smoothScrollToTop","duration","start","startTime","scrollStep","currentTime","elapsed","progress","ease","confirmModalRefs","confirmCallback","cancelCallback","initConfirmRefs","handleCancel","_c","handleConfirm","_d","_e","_f","callback","closeConfirmModal","openConfirmModal","onConfirm","onCancel","checkFormFilledFn","getRatingModalContent","existingRatingModal","clonedModal","updateElementIds","initRatingModalButtons","element","elementsWithId","timestamp","oldId","clearRatingForm","ratingModal","ratingInput","ratingText","commentTextarea","stars","star","handleRatingModalClose","initRatingModal","cancelBtn","submitBtn","currentRating","isFormValid","updateSubmitButton","updateStars","input","backdrop","handleEscapeCapture","cleanup","backdropClickHandler","closeBtn","closeBtnHandler","handleClose","formData","comment","initExercisesTabs","initExercisesSearch","searchBtn","runSearch","query","initModals"],"mappings":"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"}